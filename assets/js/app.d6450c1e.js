(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(t){function e(e){for(var r,o,s=e[0],u=e[1],c=e[2],d=0,f=[];d<s.length;d++)o=s[d],i[o]&&f.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(l&&l(e);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},i={1:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,r){n=i[t]=[e,r]});e.push(n[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(t){return o.p+"assets/js/"+({}[t]||t)+"."+{2:"32a2bd9c",3:"3e74a195",4:"570a2470",5:"c27ae097",6:"975a92f2",7:"3bac06fd",8:"f42249f6",9:"87519c0d"}[t]+".js"}(t),a=function(e){s.onerror=s.onload=null,clearTimeout(u);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+r+": "+a+")");o.type=r,o.request=a,n[1](o)}i[t]=void 0}};var u=setTimeout(function(){a({type:"timeout",target:s})},12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vuesora/",o.oe=function(t){throw console.error(t),t};var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;a.push([31,0]),n()}([function(t,e,n){"use strict";function r(t,e,n,r,i,a,o,s){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:t,options:c}}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(24),i=n(54),a=Object.prototype.toString;function o(t){return"[object Array]"===a.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===a.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){t.exports=n(53)},function(t,e,n){"use strict";var r=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var r;return!!t[e]&&(r=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(r,1),r>-1)},this.trigger=function(e){var n,r,i,a;if(n=t[e])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(a=[],r=arguments.length,r=1;r<arguments.length;++r)a.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,a)}},this.dispose=function(){t={}}}};r.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},r.prototype.push=function(t){this.trigger("data",t)},r.prototype.flush=function(t){this.trigger("done",t)},t.exports=r},function(t,e,n){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(t,e,n){
/* 
  @package NOTY - Dependency-free notification library 
  @version version: 3.2.0-beta 
  @contributors https://github.com/needim/noty/graphs/contributors 
  @documentation Examples and Documentation - https://ned.im/noty 
  @license Licensed under the MIT licenses: http://www.opensource.org/licenses/mit-license.php 
*/
var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.css=e.deepExtend=e.animationEndEvents=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.inArray=function(t,e,n){var r=void 0;if(n){for(r in e)if(e.hasOwnProperty(r)&&e[r]===t)return!0}else for(r in e)if(e.hasOwnProperty(r)&&e[r]===t)return!0;return!1},e.stopPropagation=function(t){void 0!==(t=t||window.event).stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.generateID=function(){var t="noty_"+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+"_";return t+="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},e.outerHeight=function(t){var e=t.offsetHeight,n=window.getComputedStyle(t);return e+=parseInt(n.marginTop)+parseInt(n.marginBottom)},e.addListener=a,e.hasClass=o,e.addClass=function(t,e){var n=u(t),r=n+e;if(o(n,e))return;t.className=r.substring(1)},e.removeClass=function(t,e){var n=u(t),r=void 0;if(!o(t,e))return;r=n.replace(" "+e+" "," "),t.className=r.substring(1,r.length-1)},e.remove=s,e.classList=u,e.visibilityChangeFlow=function(){var t=void 0,e=void 0;void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange");function n(){i.PageHidden?setTimeout(function(){Object.keys(i.Store).forEach(function(t){i.Store.hasOwnProperty(t)&&i.Store[t].options.visibilityControl&&i.Store[t].stop()})},100):setTimeout(function(){Object.keys(i.Store).forEach(function(t){i.Store.hasOwnProperty(t)&&i.Store[t].options.visibilityControl&&i.Store[t].resume()}),i.queueRenderAll()},100)}e&&a(document,e,function(){i.PageHidden=document[t],n()});a(window,"blur",function(){i.PageHidden=!0,n()}),a(window,"focus",function(){i.PageHidden=!1,n()})},e.createAudioElements=function(t){if(t.hasSound){var e=document.createElement("audio");t.options.sounds.sources.forEach(function(t){var n=document.createElement("source");n.src=t,n.type="audio/"+t.match(/\.([^.]+)$/)[1],e.appendChild(n)}),t.barDom?t.barDom.appendChild(e):document.querySelector("body").appendChild(e),e.volume=t.options.sounds.volume,t.soundPlayed||(e.play(),t.soundPlayed=!0),e.onended=function(){s(e)}}};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));e.animationEndEvents="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";e.deepExtend=function t(e){e=e||{};for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var a in i)i.hasOwnProperty(a)&&(Array.isArray(i[a])?e[a]=i[a]:"object"===r(i[a])&&null!==i[a]?e[a]=t(e[a],i[a]):e[a]=i[a])}return e};e.css=function(){var t=["Webkit","O","Moz","ms"],e={};function n(n){return n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}),e[n]||(e[n]=function(e){var n=document.body.style;if(e in n)return e;for(var r=t.length,i=e.charAt(0).toUpperCase()+e.slice(1),a=void 0;r--;)if((a=t[r]+i)in n)return a;return e}(n))}function r(t,e,r){e=n(e),t.style[e]=r}return function(t,e){var n=arguments,i=void 0,a=void 0;if(2===n.length)for(i in e)e.hasOwnProperty(i)&&void 0!==(a=e[i])&&e.hasOwnProperty(i)&&r(t,i,a);else r(t,n[1],n[2])}}();function a(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=e.split(" ");for(var i=0;i<e.length;i++)document.addEventListener?t.addEventListener(e[i],n,r):document.attachEvent&&t.attachEvent("on"+e[i],n)}function o(t,e){return("string"==typeof t?t:u(t)).indexOf(" "+e+" ")>=0}function s(t){t.parentNode&&t.parentNode.removeChild(t)}function u(t){return(" "+(t&&t.className||"")+" ").replace(/\s+/gi," ")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Defaults=e.Store=e.Queues=e.DefaultMaxVisible=e.docTitle=e.DocModalCount=e.PageHidden=void 0,e.getQueueCounts=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",e=0,n=s;u.hasOwnProperty(t)&&(n=u[t].maxVisible,Object.keys(c).forEach(function(n){c[n].options.queue!==t||c[n].closed||e++}));return{current:e,maxVisible:n}},e.addToQueue=function(t){u.hasOwnProperty(t.options.queue)||(u[t.options.queue]={maxVisible:s,queue:[]});u[t.options.queue].queue.push(t)},e.removeFromQueue=function(t){if(u.hasOwnProperty(t.options.queue)){var e=[];Object.keys(u[t.options.queue].queue).forEach(function(n){u[t.options.queue].queue[n].id!==t.id&&e.push(u[t.options.queue].queue[n])}),u[t.options.queue].queue=e}},e.queueRender=l,e.queueRenderAll=function(){Object.keys(u).forEach(function(t){l(t)})},e.ghostFix=function(t){var e=r.generateID("ghost"),n=document.createElement("div");n.setAttribute("id",e),r.css(n,{height:r.outerHeight(t.barDom)+"px"}),t.barDom.insertAdjacentHTML("afterend",n.outerHTML),r.remove(t.barDom),n=document.getElementById(e),r.addClass(n,"noty_fix_effects_height"),r.addListener(n,r.animationEndEvents,function(){r.remove(n)})},e.build=function(t){!function(t){if(t.options.container)return void(t.layoutDom=document.querySelector(t.options.container));var e="noty_layout__"+t.options.layout;t.layoutDom=document.querySelector("div#"+e),t.layoutDom||(t.layoutDom=document.createElement("div"),t.layoutDom.setAttribute("id",e),t.layoutDom.setAttribute("role","alert"),t.layoutDom.setAttribute("aria-live","polite"),r.addClass(t.layoutDom,"noty_layout"),document.querySelector("body").appendChild(t.layoutDom))}(t);var e='<div class="noty_body">'+t.options.text+"</div>"+function(t){if(d(t)){var e=document.createElement("div");return r.addClass(e,"noty_buttons"),Object.keys(t.options.buttons).forEach(function(n){e.appendChild(t.options.buttons[n].dom)}),t.options.buttons.forEach(function(t){e.appendChild(t.dom)}),e.outerHTML}return""}(t)+'<div class="noty_progressbar"></div>';t.barDom=document.createElement("div"),t.barDom.setAttribute("id",t.id),r.addClass(t.barDom,"noty_bar noty_type__"+t.options.type+" noty_theme__"+t.options.theme),t.barDom.innerHTML=e,p(t,"onTemplate")},e.hasButtons=d,e.handleModal=function(t){t.options.modal&&(0===i&&(n=document.querySelector("body"),a=document.createElement("div"),r.addClass(a,"noty_modal"),n.insertBefore(a,n.firstChild),r.addClass(a,"noty_modal_open"),r.addListener(a,r.animationEndEvents,function(){r.removeClass(a,"noty_modal_open")})),e.DocModalCount=i+=1);var n,a},e.handleModalClose=function(t){if(t.options.modal&&i>0&&(e.DocModalCount=i-=1,i<=0)){var n=document.querySelector(".noty_modal");n&&(r.removeClass(n,"noty_modal_open"),r.addClass(n,"noty_modal_close"),r.addListener(n,r.animationEndEvents,function(){r.remove(n)}))}},e.queueClose=f,e.dequeueClose=h,e.fire=p,e.openFlow=function(t){p(t,"afterShow"),f(t),r.addListener(t.barDom,"mouseenter",function(){h(t)}),r.addListener(t.barDom,"mouseleave",function(){f(t)})},e.closeFlow=function(t){delete c[t.id],t.closing=!1,p(t,"afterClose"),r.remove(t.barDom),0!==t.layoutDom.querySelectorAll(".noty_bar").length||t.options.container||r.remove(t.layoutDom);(r.inArray("docVisible",t.options.titleCount.conditions)||r.inArray("docHidden",t.options.titleCount.conditions))&&o.decrement();l(t.options.queue)};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));e.PageHidden=!1;var i=e.DocModalCount=0,a={originalTitle:null,count:0,changed:!1,timer:-1},o=e.docTitle={increment:function(){a.count++,o._update()},decrement:function(){a.count--,a.count<=0?o._clear():o._update()},_update:function(){var t=document.title;a.changed?document.title="("+a.count+") "+a.originalTitle:(a.originalTitle=t,document.title="("+a.count+") "+t,a.changed=!0)},_clear:function(){a.changed&&(a.count=0,document.title=a.originalTitle,a.changed=!1)}},s=e.DefaultMaxVisible=5,u=e.Queues={global:{maxVisible:s,queue:[]}},c=e.Store={};e.Defaults={type:"alert",layout:"topRight",theme:"mint",text:"",timeout:!1,progressBar:!0,closeWith:["click"],animation:{open:"noty_effects_open",close:"noty_effects_close"},id:!1,force:!1,killer:!1,queue:"global",container:!1,buttons:[],callbacks:{beforeShow:null,onShow:null,afterShow:null,onClose:null,afterClose:null,onClick:null,onHover:null,onTemplate:null},sounds:{sources:[],volume:1,conditions:[]},titleCount:{conditions:[]},modal:!1,visibilityControl:!1};function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";if(u.hasOwnProperty(t)){var e=u[t].queue.shift();e&&e.show()}}function d(t){return!(!t.options.buttons||!Object.keys(t.options.buttons).length)}function f(t){t.options.timeout&&(t.options.progressBar&&t.progressDom&&r.css(t.progressDom,{transition:"width "+t.options.timeout+"ms linear",width:"0%"}),clearTimeout(t.closeTimer),t.closeTimer=setTimeout(function(){t.close()},t.options.timeout))}function h(t){t.options.timeout&&t.closeTimer&&(clearTimeout(t.closeTimer),t.closeTimer=-1,t.options.progressBar&&t.progressDom&&r.css(t.progressDom,{transition:"width 0ms linear",width:"100%"}))}function p(t,e){t.listeners.hasOwnProperty(e)&&t.listeners[e].forEach(function(e){"function"==typeof e&&e.apply(t)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotyButton=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));e.NotyButton=function t(e,n,i){var a=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dom=document.createElement("button"),this.dom.innerHTML=e,this.id=o.id=o.id||r.generateID("button"),this.cb=i,Object.keys(o).forEach(function(t){a.dom.setAttribute(t,o[t])}),r.addClass(this.dom,n||"noty_btn"),this}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.Push=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/service-worker.js";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subData={},this.workerPath=e,this.listeners={onPermissionGranted:[],onPermissionDenied:[],onSubscriptionSuccess:[],onSubscriptionCancel:[],onWorkerError:[],onWorkerSuccess:[],onWorkerNotSupported:[]},this}return r(t,[{key:"on",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof e&&this.listeners.hasOwnProperty(t)&&this.listeners[t].push(e),this}},{key:"fire",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.listeners.hasOwnProperty(t)&&this.listeners[t].forEach(function(t){"function"==typeof t&&t.apply(e,n)})}},{key:"create",value:function(){console.log("NOT IMPLEMENTED YET")}},{key:"isSupported",value:function(){var t=!1;try{t=window.Notification||window.webkitNotifications||navigator.mozNotification||window.external&&void 0!==window.external.msIsSiteMode()}catch(t){}return t}},{key:"getPermissionStatus",value:function(){var t="default";if(window.Notification&&window.Notification.permissionLevel)t=window.Notification.permissionLevel;else if(window.webkitNotifications&&window.webkitNotifications.checkPermission)switch(window.webkitNotifications.checkPermission()){case 1:t="default";break;case 0:t="granted";break;default:t="denied"}else window.Notification&&window.Notification.permission?t=window.Notification.permission:navigator.mozNotification?t="granted":window.external&&void 0!==window.external.msIsSiteMode()&&(t=window.external.msIsSiteMode()?"granted":"default");return t.toString().toLowerCase()}},{key:"getEndpoint",value:function(t){var e=t.endpoint,n=t.subscriptionId;return n&&-1===e.indexOf(n)&&(e+="/"+n),e}},{key:"isSWRegistered",value:function(){try{return"activated"===navigator.serviceWorker.controller.state}catch(t){return!1}}},{key:"unregisterWorker",value:function(){var t=this;"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(e){var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){a.value.unregister(),t.fire("onSubscriptionCancel")}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}})}},{key:"requestSubscription",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this,r=this.getPermissionStatus(),i=function(r){"granted"===r?(t.fire("onPermissionGranted"),"serviceWorker"in navigator?navigator.serviceWorker.register(t.workerPath).then(function(){navigator.serviceWorker.ready.then(function(t){n.fire("onWorkerSuccess"),t.pushManager.subscribe({userVisibleOnly:e}).then(function(t){var e=t.getKey("p256dh"),r=t.getKey("auth");n.subData={endpoint:n.getEndpoint(t),p256dh:e?window.btoa(String.fromCharCode.apply(null,new Uint8Array(e))):null,auth:r?window.btoa(String.fromCharCode.apply(null,new Uint8Array(r))):null},n.fire("onSubscriptionSuccess",[n.subData])}).catch(function(t){n.fire("onWorkerError",[t])})})}):n.fire("onWorkerNotSupported")):"denied"===r&&(t.fire("onPermissionDenied"),t.unregisterWorker())};"default"===r?window.Notification&&window.Notification.requestPermission?window.Notification.requestPermission(i):window.webkitNotifications&&window.webkitNotifications.checkPermission&&window.webkitNotifications.requestPermission(i):i(r)}}]),t}()},function(t,e,n){(function(e,r){var i;
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */
i=function(){"use strict";function t(t){return"function"==typeof t}var i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=0,o=void 0,s=void 0,u=function(t,e){m[a]=t,m[a+1]=e,2===(a+=2)&&(s?s(v):T())},c="undefined"!=typeof window?window:void 0,l=c||{},d=l.MutationObserver||l.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(v,1)}}var m=new Array(1e3);function v(){for(var t=0;t<a;t+=2){(0,m[t])(m[t+1]),m[t]=void 0,m[t+1]=void 0}a=0}var y,g,b,w,T=void 0;function S(t,e){var n=arguments,r=this,i=new this.constructor(x);void 0===i[E]&&V(i);var a,o=r._state;return o?(a=n[o-1],u(function(){return $(o,i,a,r._result)})):R(r,i,t,e),i}function _(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(x);return D(e,t),e}f?T=function(){return e.nextTick(v)}:d?(g=0,b=new d(v),w=document.createTextNode(""),b.observe(w,{characterData:!0}),T=function(){w.data=g=++g%2}):h?((y=new MessageChannel).port1.onmessage=v,T=function(){return y.port2.postMessage(0)}):T=void 0===c?function(){try{var t=n(9);return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(v)}:p()}catch(t){return p()}}():p();var E=Math.random().toString(36).substring(16);function x(){}var C=void 0,k=1,A=2,P=new j;function M(t){try{return t.then}catch(t){return P.error=t,P}}function I(e,n,r){n.constructor===e.constructor&&r===S&&n.constructor.resolve===_?function(t,e){e._state===k?L(t,e._result):e._state===A?U(t,e._result):R(e,void 0,function(e){return D(t,e)},function(e){return U(t,e)})}(e,n):r===P?(U(e,P.error),P.error=null):void 0===r?L(e,n):t(r)?function(t,e,n){u(function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?D(t,n):L(t,n))},function(e){r||(r=!0,U(t,e))},t._label);!r&&i&&(r=!0,U(t,i))},t)}(e,n,r):L(e,n)}function D(t,e){var n,r;t===e?U(t,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=e),null===n||"object"!==r&&"function"!==r?L(t,e):I(t,e,M(e)))}function O(t){t._onerror&&t._onerror(t._result),N(t)}function L(t,e){t._state===C&&(t._result=e,t._state=k,0!==t._subscribers.length&&u(N,t))}function U(t,e){t._state===C&&(t._state=A,t._result=e,u(O,t))}function R(t,e,n,r){var i=t._subscribers,a=i.length;t._onerror=null,i[a]=e,i[a+k]=n,i[a+A]=r,0===a&&t._state&&u(N,t)}function N(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,a=t._result,o=0;o<e.length;o+=3)r=e[o],i=e[o+n],r?$(n,r,i,a):i(a);t._subscribers.length=0}}function j(){this.error=null}var B=new j;function $(e,n,r,i){var a=t(r),o=void 0,s=void 0,u=void 0,c=void 0;if(a){if((o=function(t,e){try{return t(e)}catch(t){return B.error=t,B}}(r,i))===B?(c=!0,s=o.error,o.error=null):u=!0,n===o)return void U(n,new TypeError("A promises callback cannot return that same promise."))}else o=i,u=!0;n._state!==C||(a&&u?D(n,o):c?U(n,s):e===k?L(n,o):e===A&&U(n,o))}var F=0;function V(t){t[E]=F++,t._state=void 0,t._result=void 0,t._subscribers=[]}function H(t,e){this._instanceConstructor=t,this.promise=new t(x),this.promise[E]||V(this.promise),i(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&L(this.promise,this._result))):U(this.promise,new Error("Array Methods must be provided an Array"))}function q(t){this[E]=F++,this._result=this._state=void 0,this._subscribers=[],x!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof q?function(t,e){try{e(function(e){D(t,e)},function(e){U(t,e)})}catch(e){U(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return H.prototype._enumerate=function(t){for(var e=0;this._state===C&&e<t.length;e++)this._eachEntry(t[e],e)},H.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===_){var i=M(t);if(i===S&&t._state!==C)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===q){var a=new n(x);I(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},H.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===C&&(this._remaining--,t===A?U(r,n):this._result[e]=n),0===this._remaining&&L(r,this._result)},H.prototype._willSettleAt=function(t,e){var n=this;R(t,void 0,function(t){return n._settledAt(k,e,t)},function(t){return n._settledAt(A,e,t)})},q.all=function(t){return new H(this,t).promise},q.race=function(t){var e=this;return i(t)?new e(function(n,r){for(var i=t.length,a=0;a<i;a++)e.resolve(t[a]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},q.resolve=_,q.reject=function(t){var e=new this(x);return U(e,t),e},q._setScheduler=function(t){s=t},q._setAsap=function(t){u=t},q._asap=u,q.prototype={constructor:q,then:S,catch:function(t){return this.then(null,t)}},q.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=q},q.Promise=q,q},t.exports=i()}).call(e,n(7),n(8))},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(5);var i,a=n(4),o=(i=a)&&i.__esModule?i:{default:i},s=d(n(0)),u=d(n(1)),c=n(2),l=n(3);function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=s.deepExtend({},u.Defaults,e),u.Store[this.options.id]?u.Store[this.options.id]:(this.id=this.options.id||s.generateID("bar"),this.closeTimer=-1,this.barDom=null,this.layoutDom=null,this.progressDom=null,this.showing=!1,this.shown=!1,this.closed=!1,this.closing=!1,this.killable=this.options.timeout||this.options.closeWith.length>0,this.hasSound=this.options.sounds.sources.length>0,this.soundPlayed=!1,this.listeners={beforeShow:[],onShow:[],afterShow:[],onClose:[],afterClose:[],onClick:[],onHover:[],onTemplate:[]},this.promises={show:null,close:null},this.on("beforeShow",this.options.callbacks.beforeShow),this.on("onShow",this.options.callbacks.onShow),this.on("afterShow",this.options.callbacks.afterShow),this.on("onClose",this.options.callbacks.onClose),this.on("afterClose",this.options.callbacks.afterClose),this.on("onClick",this.options.callbacks.onClick),this.on("onHover",this.options.callbacks.onHover),this.on("onTemplate",this.options.callbacks.onTemplate),this)}return r(t,[{key:"on",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof e&&this.listeners.hasOwnProperty(t)&&this.listeners[t].push(e),this}},{key:"show",value:function(){var e=this;if(this.showing||this.shown)return this;!0===this.options.killer?t.closeAll():"string"==typeof this.options.killer&&t.closeAll(this.options.killer);var n=u.getQueueCounts(this.options.queue);if(n.current>=n.maxVisible||u.PageHidden&&this.options.visibilityControl)return u.addToQueue(this),u.PageHidden&&this.hasSound&&s.inArray("docHidden",this.options.sounds.conditions)&&s.createAudioElements(this),u.PageHidden&&s.inArray("docHidden",this.options.titleCount.conditions)&&u.docTitle.increment(),this;if(u.Store[this.id]=this,u.fire(this,"beforeShow"),this.showing=!0,this.closing)return this.showing=!1,this;if(u.build(this),u.handleModal(this),this.options.force?this.layoutDom.insertBefore(this.barDom,this.layoutDom.firstChild):this.layoutDom.appendChild(this.barDom),this.hasSound&&!this.soundPlayed&&s.inArray("docVisible",this.options.sounds.conditions)&&s.createAudioElements(this),s.inArray("docVisible",this.options.titleCount.conditions)&&u.docTitle.increment(),this.shown=!0,this.closed=!1,u.hasButtons(this)&&Object.keys(this.options.buttons).forEach(function(t){var n=e.barDom.querySelector("#"+e.options.buttons[t].id);s.addListener(n,"click",function(n){s.stopPropagation(n),e.options.buttons[t].cb(e)})}),this.progressDom=this.barDom.querySelector(".noty_progressbar"),s.inArray("click",this.options.closeWith)&&(s.addClass(this.barDom,"noty_close_with_click"),s.addListener(this.barDom,"click",function(t){s.stopPropagation(t),u.fire(e,"onClick"),e.close()},!1)),s.addListener(this.barDom,"mouseenter",function(){u.fire(e,"onHover")},!1),this.options.timeout&&s.addClass(this.barDom,"noty_has_timeout"),this.options.progressBar&&s.addClass(this.barDom,"noty_has_progressbar"),s.inArray("button",this.options.closeWith)){s.addClass(this.barDom,"noty_close_with_button");var r=document.createElement("div");s.addClass(r,"noty_close_button"),r.innerHTML="Ã—",this.barDom.appendChild(r),s.addListener(r,"click",function(t){s.stopPropagation(t),e.close()},!1)}return u.fire(this,"onShow"),null===this.options.animation.open?this.promises.show=new o.default(function(t){t()}):"function"==typeof this.options.animation.open?this.promises.show=new o.default(this.options.animation.open.bind(this)):(s.addClass(this.barDom,this.options.animation.open),this.promises.show=new o.default(function(t){s.addListener(e.barDom,s.animationEndEvents,function(){s.removeClass(e.barDom,e.options.animation.open),t()})})),this.promises.show.then(function(){var t=e;setTimeout(function(){u.openFlow(t)},100)}),this}},{key:"stop",value:function(){return u.dequeueClose(this),this}},{key:"resume",value:function(){return u.queueClose(this),this}},{key:"setTimeout",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){if(this.stop(),this.options.timeout=t,this.barDom){this.options.timeout?s.addClass(this.barDom,"noty_has_timeout"):s.removeClass(this.barDom,"noty_has_timeout");var e=this;setTimeout(function(){e.resume()},100)}return this})},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(this.barDom.querySelector(".noty_body").innerHTML=t),e&&(this.options.text=t),this}},{key:"setType",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.barDom&&(s.classList(this.barDom).split(" ").forEach(function(t){"noty_type__"===t.substring(0,11)&&s.removeClass(e.barDom,t)}),s.addClass(this.barDom,"noty_type__"+t));return n&&(this.options.type=t),this}},{key:"setTheme",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.barDom&&(s.classList(this.barDom).split(" ").forEach(function(t){"noty_theme__"===t.substring(0,12)&&s.removeClass(e.barDom,t)}),s.addClass(this.barDom,"noty_theme__"+t));return n&&(this.options.theme=t),this}},{key:"close",value:function(){var t=this;return this.closed?this:this.shown?(u.fire(this,"onClose"),this.closing=!0,null===this.options.animation.close||!1===this.options.animation.close?this.promises.close=new o.default(function(t){t()}):"function"==typeof this.options.animation.close?this.promises.close=new o.default(this.options.animation.close.bind(this)):(s.addClass(this.barDom,this.options.animation.close),this.promises.close=new o.default(function(e){s.addListener(t.barDom,s.animationEndEvents,function(){t.options.force?s.remove(t.barDom):u.ghostFix(t),e()})})),this.promises.close.then(function(){u.closeFlow(t),u.handleModalClose(t)}),this.closed=!0,this):(u.removeFromQueue(this),this)}}],[{key:"closeAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.keys(u.Store).forEach(function(e){t?u.Store[e].options.queue===t&&u.Store[e].killable&&u.Store[e].close():u.Store[e].killable&&u.Store[e].close()}),this}},{key:"clearQueue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";return u.Queues.hasOwnProperty(t)&&(u.Queues[t].queue=[]),this}},{key:"overrideDefaults",value:function(t){return u.Defaults=s.deepExtend({},u.Defaults,t),this}},{key:"setMaxVisible",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.DefaultMaxVisible,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";return u.Queues.hasOwnProperty(e)||(u.Queues[e]={maxVisible:t,queue:[]}),u.Queues[e].maxVisible=t,this}},{key:"button",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new c.NotyButton(t,e,n,r)}},{key:"version",value:function(){return"3.2.0-beta"}},{key:"Push",value:function(t){return new l.Push(t)}},{key:"Queues",get:function(){return u.Queues}},{key:"PageHidden",get:function(){return u.PageHidden}}]),t}();e.default=f,"undefined"!=typeof window&&s.visibilityChangeFlow(),t.exports=e.default},function(t,e){var n,r,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++d<e;)u&&u[d].run();d=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){}])},t.exports=r()},function(t,e,n){},function(t,e,n){},function(t,e,n){var r,i;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(i="function"==typeof(r=function(){var t,e,n={version:"0.2.0"},r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(t,e,n){return t<e?e:t>n?n:t}function a(t){return 100*(-1+t)}n.configure=function(t){var e,n;for(e in t)void 0!==(n=t[e])&&t.hasOwnProperty(e)&&(r[e]=n);return this},n.status=null,n.set=function(t){var e=n.isStarted();t=i(t,r.minimum,1),n.status=1===t?null:t;var u=n.render(!e),c=u.querySelector(r.barSelector),l=r.speed,d=r.easing;return u.offsetWidth,o(function(e){""===r.positionUsing&&(r.positionUsing=n.getPositioningCSS()),s(c,function(t,e,n){var i;return(i="translate3d"===r.positionUsing?{transform:"translate3d("+a(t)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+a(t)+"%,0)"}:{"margin-left":a(t)+"%"}).transition="all "+e+"ms "+n,i}(t,l,d)),1===t?(s(u,{transition:"none",opacity:1}),u.offsetWidth,setTimeout(function(){s(u,{transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){n.remove(),e()},l)},l)):setTimeout(e,l)}),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var t=function(){setTimeout(function(){n.status&&(n.trickle(),t())},r.trickleSpeed)};return r.trickle&&t(),this},n.done=function(t){return t||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(t){var e=n.status;return e?("number"!=typeof t&&(t=(1-e)*i(Math.random()*e,.1,.95)),e=i(e+t,0,.994),n.set(e)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},t=0,e=0,n.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&n.start(),t++,e++,r.always(function(){0==--e?(t=0,n.done()):n.set((t-e)/t)}),this):this},n.render=function(t){if(n.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var i,o=e.querySelector(r.barSelector),u=t?"-100":a(n.status||0),l=document.querySelector(r.parent);return s(o,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"}),r.showSpinner||(i=e.querySelector(r.spinnerSelector))&&f(i),l!=document.body&&c(l,"nprogress-custom-parent"),l.appendChild(e),e},n.remove=function(){l(document.documentElement,"nprogress-busy"),l(document.querySelector(r.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&f(t)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var o=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),s=function(){var t=["Webkit","O","Moz","ms"],e={};function n(n){return n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}),e[n]||(e[n]=function(e){var n=document.body.style;if(e in n)return e;for(var r,i=t.length,a=e.charAt(0).toUpperCase()+e.slice(1);i--;)if((r=t[i]+a)in n)return r;return e}(n))}function r(t,e,r){e=n(e),t.style[e]=r}return function(t,e){var n,i,a=arguments;if(2==a.length)for(n in e)void 0!==(i=e[n])&&e.hasOwnProperty(n)&&r(t,n,i);else r(t,a[1],a[2])}}();function u(t,e){var n="string"==typeof t?t:d(t);return n.indexOf(" "+e+" ")>=0}function c(t,e){var n=d(t),r=n+e;u(n,e)||(t.className=r.substring(1))}function l(t,e){var n,r=d(t);u(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function d(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function f(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return n})?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){!function(){var t="undefined"!=typeof window?window:global,n={};for(var r in function(t,e){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=void 0!==t&&t===this?this:void 0!==e&&null!=e?e:this;function a(){a=function(){},i.Symbol||(i.Symbol=s)}var o,s=(o=0,function(t){return"jscomp_symbol_"+(t||"")+o++});function u(){a();var t=i.Symbol.iterator;t||(t=i.Symbol.iterator=i.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&r(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return c(this)}}),u=function(){}}function c(t){var e=0;return l(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})}function l(t){return u(),(t={next:t})[i.Symbol.iterator]=function(){return this},t}function d(t){u();var e=t[Symbol.iterator];return e?e.call(t):c(t)}function f(t,e){if(e){for(var n=i,a=t.split("."),o=0;o<a.length-1;o++){var s=a[o];s in n||(n[s]={}),n=n[s]}(s=e(o=n[a=a[a.length-1]]))!=o&&null!=s&&r(n,a,{configurable:!0,writable:!0,value:s})}}function h(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise(function(r,i){!function t(a){a.done?r(a.value):Promise.resolve(a.value).then(e,n).then(t,i)}(t.next())})}(t())}f("Promise",function(t){function e(t){this.b=0,this.g=void 0,this.a=[];var e=this.c();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){null==this.a&&(this.a=[],this.f()),this.a.push(t)},n.prototype.f=function(){var t=this;this.c(function(){t.h()})};var a=i.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.h=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.g(t)}}}this.a=null},n.prototype.g=function(t){this.c(function(){throw t})},e.prototype.c=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.o),reject:t(this.f)}},e.prototype.o=function(t){if(t===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.v(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.f(t)}"function"==typeof e?this.C(e,t):this.h(t)},e.prototype.f=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.g=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)o.b(this.a[t]);this.a=null}};var o=new n;return e.prototype.v=function(t){var e=this.c();t.Yb(e.resolve,e.reject)},e.prototype.C=function(t,e){var n=this.c();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){a(t)}}:e}var i,a,o=new e(function(t,e){i=t,a=e});return this.Yb(r(t,i),r(n,a)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Yb=function(t,e){function n(){switch(r.b){case 1:t(r.g);break;case 2:e(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?o.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=d(t),a=i.next();!a.done;a=i.next())r(a.value).Yb(e,n)})},e.all=function(t){var n=d(t),i=n.next();return i.done?r([]):new e(function(t,e){function a(e){return function(n){o[e]=n,0==--s&&t(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).Yb(a(o.length-1),e),i=n.next()}while(!i.done)})},e}),f("Promise.prototype.finally",function(t){return t||function(t){return this.then(function(e){return Promise.resolve(t()).then(function(){return e})},function(e){return Promise.resolve(t()).then(function(){throw e})})}});var p,m="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var v;t:{var y={};try{y.__proto__={ne:!0},v=y.ne;break t}catch(o){}v=!1}p=v?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var g=p;function b(){this.g=!1,this.c=null,this.s=void 0,this.j=1,this.b=this.f=0,this.i=this.a=null}function w(t){if(t.g)throw new TypeError("Generator is already running");t.g=!0}function T(t,e){t.a={xd:e,Gd:!0},t.j=t.f||t.b}function S(t,e,n){return t.j=n,{value:e}}function _(t){t.j=0}function E(t,e,n){t.f=e,null!=n&&(t.b=n)}function x(t,e){t.f=0,t.b=e||0}function C(t,e){t.j=e,t.f=0}function k(t){t.f=0;var e=t.a.xd;return t.a=null,e}function A(t){t.i=[t.a],t.f=0,t.b=0}function P(t,e){var n=t.i.splice(0)[0];(n=t.a=t.a||n)?n.Gd?t.j=t.f||t.b:null!=n.A&&t.b<n.A?(t.j=n.A,t.a=null):t.j=t.b:t.j=e}function M(t){this.a=new b,this.b=t}function I(t,e,n,r){try{var i=e.call(t.a.c,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.a.g=!1,i;var a=i.value}catch(e){return t.a.c=null,T(t.a,e),D(t)}return t.a.c=null,r.call(t.a,a),D(t)}function D(t){for(;t.a.j;)try{var e=t.b(t.a);if(e)return t.a.g=!1,{value:e.value,done:!1}}catch(e){t.a.s=void 0,T(t.a,e)}if(t.a.g=!1,t.a.a){if(e=t.a.a,t.a.a=null,e.Gd)throw e.xd;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function O(t){this.next=function(e){return w(t.a),t.a.c?e=I(t,t.a.c.next,e,t.a.h):(t.a.h(e),e=D(t)),e},this.throw=function(e){return w(t.a),t.a.c?e=I(t,t.a.c.throw,e,t.a.h):(T(t.a,e),e=D(t)),e},this.return=function(e){return function(t,e){w(t.a);var n=t.a.c;return n?I(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),D(t))}(t,e)},u(),this[Symbol.iterator]=function(){return this}}function L(t,e){return O.prototype=t.prototype,new O(new M(e))}function U(t){if(!(t instanceof Array)){t=d(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function N(t,e,n){t instanceof String&&(t=String(t));for(var r=t.length,i=0;i<r;i++){var a=t[i];if(e.call(n,a,i,t))return{Cd:i,ie:a}}return{Cd:-1,ie:void 0}}function j(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""}b.prototype.h=function(t){this.s=t},b.prototype.return=function(t){this.a={return:t},this.j=this.b},b.prototype.A=function(t){this.j=t},f("WeakMap",function(t){function e(t){if(this.a=(s+=Math.random()+1).toString(),t){a(),u(),t=d(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function n(t){R(t,o)||r(t,o,{value:{}})}function i(t){var e=Object[t];e&&(Object[t]=function(t){return n(t),e(t)})}if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),r=new t([[e,2],[n,3]]);return 2==r.get(e)&&3==r.get(n)&&(r.delete(e),r.set(n,4),!r.has(e)&&4==r.get(n))}catch(t){return!1}}())return t;var o="$jscomp_hidden_"+Math.random();i("freeze"),i("preventExtensions"),i("seal");var s=0;return e.prototype.set=function(t,e){if(n(t),!R(t,o))throw Error("WeakMap key fail: "+t);return t[o][this.a]=e,this},e.prototype.get=function(t){return R(t,o)?t[o][this.a]:void 0},e.prototype.has=function(t){return R(t,o)&&R(t[o],this.a)},e.prototype.delete=function(t){return!(!R(t,o)||!R(t[o],this.a))&&delete t[o][this.a]},e}),f("Map",function(t){function e(){var t={};return t.Ca=t.next=t.head=t}function n(t,e){var n=t.a;return l(function(){if(n){for(;n.head!=t.a;)n=n.Ca;for(;n.next!=n.head;)return n=n.next,{done:!1,value:e(n)};n=null}return{done:!0,value:void 0}})}function r(t,e){var n=e&&typeof e;"object"==n||"function"==n?o.has(e)?n=o.get(e):(n=""+ ++s,o.set(e,n)):n="p_"+e;var r=t.b[n];if(r&&R(t.b,n))for(var i=0;i<r.length;i++){var a=r[i];if(e!=e&&a.key!=a.key||e===a.key)return{id:n,list:r,index:i,X:a}}return{id:n,list:r,index:-1,X:void 0}}function i(t){if(this.b={},this.a=e(),this.size=0,t){t=d(t);for(var n;!(n=t.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(d([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(t){return!1}}())return t;a(),u();var o=new WeakMap;i.prototype.set=function(t,e){var n=r(this,t);return n.list||(n.list=this.b[n.id]=[]),n.X?n.X.value=e:(n.X={next:this.a,Ca:this.a.Ca,head:this.a,key:t,value:e},n.list.push(n.X),this.a.Ca.next=n.X,this.a.Ca=n.X,this.size++),this},i.prototype.delete=function(t){return!(!(t=r(this,t)).X||!t.list)&&(t.list.splice(t.index,1),t.list.length||delete this.b[t.id],t.X.Ca.next=t.X.next,t.X.next.Ca=t.X.Ca,t.X.head=null,this.size--,!0)},i.prototype.clear=function(){this.b={},this.a=this.a.Ca=e(),this.size=0},i.prototype.has=function(t){return!!r(this,t).X},i.prototype.get=function(t){return(t=r(this,t).X)&&t.value},i.prototype.entries=function(){return n(this,function(t){return[t.key,t.value]})},i.prototype.keys=function(){return n(this,function(t){return t.key})},i.prototype.values=function(){return n(this,function(t){return t.value})},i.prototype.forEach=function(t,e){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,t.call(e,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var s=0;return i}),f("Set",function(t){function e(t){if(this.a=new Map,t){t=d(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.a.size}return function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(d([e]));if(!n.has(e)||1!=n.size||n.add(e)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&i.value[1]==e&&(!(i=r.next()).done&&i.value[0]!=e&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(t){return!1}}()?t:(a(),u(),e.prototype.add=function(t){return this.a.set(t,t),this.size=this.a.size,this},e.prototype.delete=function(t){return t=this.a.delete(t),this.size=this.a.size,t},e.prototype.clear=function(){this.a.clear(),this.size=0},e.prototype.has=function(t){return this.a.has(t)},e.prototype.entries=function(){return this.a.entries()},e.prototype.values=function(){return this.a.values()},e.prototype.keys=e.prototype.values,e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,e){var n=this;this.a.forEach(function(r){return t.call(e,r,r,n)})},e)}),f("Array.prototype.findIndex",function(t){return t||function(t,e){return N(this,t,e).Cd}}),f("Array.prototype.keys",function(t){return t||function(){return function(t,e){u(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r}(this,function(t){return t})}}),f("Object.is",function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}}),f("Array.prototype.includes",function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length,i=e||0;for(0>i&&(i=Math.max(i+r,0));i<r;i++){var a=n[i];if(a===t||Object.is(a,t))return!0}return!1}}),f("String.prototype.includes",function(t){return t||function(t,e){return-1!==j(this,t,"includes").indexOf(t,e||0)}}),f("Array.from",function(t){return t||function(t,e,n){u(),e=null!=e?e:function(t){return t};var r=[],i=t[Symbol.iterator];if("function"==typeof i)for(t=i.call(t);!(i=t.next()).done;)r.push(e.call(n,i.value));else{i=t.length;for(var a=0;a<i;a++)r.push(e.call(n,t[a]))}return r}}),f("String.prototype.startsWith",function(t){return t||function(t,e){for(var n=j(this,t,"startsWith"),r=n.length,i=t.length,a=Math.max(0,Math.min(0|e,n.length)),o=0;o<i&&a<r;)if(n[a++]!=t[o++])return!1;return o>=i}}),f("Array.prototype.find",function(t){return t||function(t,e){return N(this,t,e).ie}});var B=this;function $(t,e){var n,r=t.split("."),i=B;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===e?i=i[n]?i[n]:i[n]={}:i[n]=e}function F(t,e){function n(){}n.prototype=e.prototype,t.ag=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.og=function(t,n,r){return e.prototype[n].apply(t,Array.prototype.slice.call(arguments,2))}}function V(t){this.c=Math.exp(Math.log(.5)/t),this.b=this.a=0}function H(t,e,n){var r=Math.pow(t.c,e);n=n*(1-r)+r*t.a,isNaN(n)||(t.a=n,t.b+=e)}function q(t){return t.a/(1-Math.pow(t.c,t.b))}function z(){this.b=new V(2),this.c=new V(5),this.a=0}function K(){}function G(){}function W(){}B.a=!0,z.prototype.getBandwidthEstimate=function(t){return 128e3>this.a?t:Math.min(q(this.b),q(this.c))},t.console&&t.console.log.bind&&(G=console.warn.bind(console),K=console.error.bind(console));var X=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Y(t){var e;t instanceof Y?(Q(this,t.va),this.$a=t.$a,this.ra=t.ra,J(this,t.xb),this.ia=t.ia,Z(this,t.a.clone()),this.Qa=t.Qa):t&&(e=String(t).match(X))?(Q(this,e[1]||"",!0),this.$a=tt(e[2]||""),this.ra=tt(e[3]||"",!0),J(this,e[4]),this.ia=tt(e[5]||"",!0),Z(this,e[6]||"",!0),this.Qa=tt(e[7]||"")):this.a=new ut(null)}function Q(t,e,n){t.va=n?tt(e,!0):e,t.va&&(t.va=t.va.replace(/:$/,""))}function J(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.xb=e}else t.xb=null}function Z(t,e,n){e instanceof ut?t.a=e:(n||(e=et(e,ot)),t.a=new ut(e))}function tt(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function et(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,nt),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nt(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(n=Y.prototype).va="",n.$a="",n.ra="",n.xb=null,n.ia="",n.Qa="",n.toString=function(){var t=[],e=this.va;if(e&&t.push(et(e,rt,!0),":"),e=this.ra){t.push("//");var n=this.$a;n&&t.push(et(n,rt,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.xb)&&t.push(":",String(e))}return(e=this.ia)&&(this.ra&&"/"!=e.charAt(0)&&t.push("/"),t.push(et(e,"/"==e.charAt(0)?at:it,!0))),(e=this.a.toString())&&t.push("?",e),(e=this.Qa)&&t.push("#",et(e,st)),t.join("")},n.resolve=function(t){var e=this.clone();"data"===e.va&&(e=new Y);var n=!!t.va;n?Q(e,t.va):n=!!t.$a,n?e.$a=t.$a:n=!!t.ra,n?e.ra=t.ra:n=null!=t.xb;var r=t.ia;if(n)J(e,t.xb);else if(n=!!t.ia){if("/"!=r.charAt(0))if(this.ra&&!this.ia)r="/"+r;else{var i=e.ia.lastIndexOf("/");-1!=i&&(r=e.ia.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?e.ia=r:n=""!==t.a.toString(),n?Z(e,t.a.clone()):n=!!t.Qa,n&&(e.Qa=t.Qa),e},n.clone=function(){return new Y(this)};var rt=/[#\/\?@]/g,it=/[#\?:]/g,at=/[#\?]/g,ot=/[#\?@]/g,st=/#/g;function ut(t){this.a=t||null}function ct(t){this.b=t,this.a=null}function lt(t){this.b=t,this.a=null}function dt(t,e){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.i=null==t.maxAttempts?n.maxAttempts:t.maxAttempts,this.f=null==t.baseDelay?n.baseDelay:t.baseDelay,this.h=null==t.fuzzFactor?n.fuzzFactor:t.fuzzFactor,this.g=null==t.backoffFactor?n.backoffFactor:t.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==e&&e)&&(this.a=1)}function ft(t){return h(function e(){var n,r;return L(e,function(e){switch(e.j){case 1:if(t.a>=t.i){if(!t.c)return e.return(Promise.reject());t.a=1,t.b=t.f}return n=t.a,t.a++,0==n?e.return():(r=t.b*(1+(2*Math.random()-1)*t.h),S(e,new Promise(function(t){new lt(t).O(r/1e3)}),2));case 2:t.b*=t.g,_(e)}})})}function ht(t,e,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];this.severity=t,this.category=e,this.code=n,this.data=i,this.handled=!1}function pt(){var t,e,n=new Promise(function(n,r){t=n,e=r});return n.resolve=t,n.reject=e,n}function mt(t,e){this.promise=t,this.Jd=e,this.a=!1}function vt(t){return new mt(Promise.reject(t),function(){return Promise.resolve()})}function yt(){var t=Promise.reject(new ht(2,7,7001));return t.catch(function(){}),new mt(t,function(){return Promise.resolve()})}function gt(t){return new mt(Promise.resolve(t),function(){return Promise.resolve()})}function bt(t){return new mt(t,function(){return t.catch(function(){})})}function wt(t){return new mt(Promise.all(t.map(function(t){return t.promise})),function(){return Promise.all(t.map(function(t){return t.abort()}))})}function Tt(t,e,n){try{var r=t(e);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then(function(){}).catch(function(){})})}catch(t){return n.reject(t),function(){return Promise.resolve()}}}function St(e,n){for(var r in n=void 0===n?{}:n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function _t(){this.a={}}function Et(){this.Bc=new _t,this.Vb=this}function xt(t){var e=new Set;return function t(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(e.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;e.add(n);var i,a=r?[]:{};for(i in n)a[i]=t(n[i]);return r&&(a.length=n.length),a}}(t)}function Ct(t,e){return!("number"!=typeof t||"number"!=typeof e||!isNaN(t)||!isNaN(e))||t===e}function kt(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}function At(t,e,n){if(n||(n=Ct),t.length!=e.length)return!1;e=e.slice();for(var r={},i=(t=d(t)).next();!i.done;r={item:r.item},i=t.next()){if(r.item=i.value,-1==(i=e.findIndex(function(t){return function(e){return n(t.item,e)}}(r))))return!1;e[i]=e[e.length-1],e.pop()}return 0==e.length}function Pt(){this.a=[]}function Mt(t,e){t.a.push(e.finally(function(){kt(t.a,e)}))}function It(t){Et.call(this),this.f=!1,this.g=new Pt,this.a=new Set,this.b=new Set,this.c=t||null}(n=ut.prototype).ga=null,n.$b=null,n.add=function(t,e){if(!this.ga&&(this.ga={},this.$b=0,this.a))for(var n=this.a.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),a=null;if(0<=i){var o=n[r].substring(0,i);a=n[r].substring(i+1)}else o=n[r];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.a=null,(n=this.ga.hasOwnProperty(t)&&this.ga[t])||(this.ga[t]=n=[]),n.push(e),this.$b++,this},n.toString=function(){if(this.a)return this.a;if(!this.ga)return"";var t,e=[];for(t in this.ga)for(var n=encodeURIComponent(t),r=this.ga[t],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),e.push(a)}return this.a=e.join("&")},n.clone=function(){var t=new ut;if(t.a=this.a,this.ga){var e,n={};for(e in this.ga)n[e]=this.ga[e].concat();t.ga=n,t.$b=this.$b}return t},ct.prototype.O=function(e){var n=this;this.stop();var r=!0,i=null;return this.a=function(){t.clearTimeout(i),r=!1},i=t.setTimeout(function(){r&&n.b()},1e3*e),this},ct.prototype.stop=function(){this.a&&(this.a(),this.a=null)},$("shaka.util.Timer",lt),lt.prototype.sc=function(){return this.stop(),this.b(),this},lt.prototype.tickNow=lt.prototype.sc,lt.prototype.O=function(t){var e=this;return this.stop(),this.a=new ct(function(){e.b()}).O(t),this},lt.prototype.tickAfter=lt.prototype.O,lt.prototype.La=function(t){var e=this;return this.stop(),this.a=new ct(function(){e.a.O(t),e.b()}).O(t),this},lt.prototype.tickEvery=lt.prototype.La,lt.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},lt.prototype.stop=lt.prototype.stop,$("shaka.util.Error",ht),ht.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},ht.Severity={RECOVERABLE:1,CRITICAL:2},ht.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},ht.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,CAST_RECEIVER_APP_ID_MISSING:8007,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},pt.prototype.resolve=function(){},pt.prototype.reject=function(){},$("shaka.util.AbortableOperation",mt),mt.failed=vt,mt.aborted=yt,mt.completed=gt,mt.notAbortable=bt,mt.prototype.abort=function(){return this.a=!0,this.Jd()},mt.prototype.abort=mt.prototype.abort,mt.all=wt,mt.prototype.finally=function(t){return this.promise.then(function(){return t(!0)},function(){return t(!1)}),this},mt.prototype.finally=mt.prototype.finally,mt.prototype.U=function(t,e){function n(){return i.reject(new ht(2,7,7001)),r.abort()}var r=this,i=new pt;return this.promise.then(function(e){r.a?i.reject(new ht(2,7,7001)):t?n=Tt(t,e,i):i.resolve(e)},function(t){e?n=Tt(e,t,i):i.reject(t)}),new mt(i,function(){return n()})},mt.prototype.chain=mt.prototype.U,St.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},St.prototype.stopImmediatePropagation=function(){this.a=!0},St.prototype.stopPropagation=function(){},(n=_t.prototype).push=function(t,e){this.a.hasOwnProperty(t)?this.a[t].push(e):this.a[t]=[e]},n.get=function(t){return(t=this.a[t])?t.slice():null},n.getAll=function(){var t,e=[];for(t in this.a)e.push.apply(e,this.a[t]);return e},n.remove=function(t,e){var n=this.a[t];if(n)for(var r=0;r<n.length;++r)n[r]==e&&(n.splice(r,1),--r)},n.forEach=function(t){for(var e in this.a)t(e,this.a[e])},Et.prototype.addEventListener=function(t,e){this.Bc.push(t,e)},Et.prototype.removeEventListener=function(t,e){this.Bc.remove(t,e)},Et.prototype.dispatchEvent=function(t){for(var e=this.Bc.get(t.type)||[],n=0;n<e.length;++n){t.target=this.Vb,t.currentTarget=this.Vb;var r=e[n];try{r.handleEvent?r.handleEvent(t):r.call(this,t)}catch(t){}if(t.a)break}return t.defaultPrevented},Pt.prototype.destroy=function(){var t=[];return this.a.forEach(function(e){e.promise.catch(function(){}),t.push(e.abort())}),this.a=[],Promise.all(t)},F(It,Et),$("shaka.net.NetworkingEngine",It);var Dt={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4};It.RequestType=Dt,It.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var Ot={};function Lt(t,e,n){n=n||3;var r=Ot[t];(!r||n>=r.priority)&&(Ot[t]={priority:n,zf:e})}function Ut(t,e){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e,licenseRequestType:null}}function Rt(){this.a=0}function Nt(t,e,n){mt.call(this,t,e),this.b=n}It.registerScheme=Lt,It.unregisterScheme=function(t){delete Ot[t]},It.prototype.Bf=function(t){this.a.add(t)},It.prototype.registerRequestFilter=It.prototype.Bf,It.prototype.cg=function(t){this.a.delete(t)},It.prototype.unregisterRequestFilter=It.prototype.cg,It.prototype.we=function(){this.a.clear()},It.prototype.clearAllRequestFilters=It.prototype.we,It.prototype.Cf=function(t){this.b.add(t)},It.prototype.registerResponseFilter=It.prototype.Cf,It.prototype.dg=function(t){this.b.delete(t)},It.prototype.unregisterResponseFilter=It.prototype.dg,It.prototype.xe=function(){this.b.clear()},It.prototype.clearAllResponseFilters=It.prototype.xe,It.prototype.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},It.prototype.destroy=It.prototype.destroy,It.prototype.request=function(t,e){var n=this,r=new Rt;if(this.f){var i=Promise.reject(new ht(2,7,7001));return i.catch(function(){}),new Nt(i,function(){return Promise.resolve()},r)}e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?xt(e.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},e.uris=xt(e.uris);var a=(i=function(t,e,n){for(var r=gt(void 0),i={},a=(t=d(t.a)).next();!a.done;i={ed:i.ed},a=t.next())i.ed=a.value,r=r.U(function(t){return function(){return t.ed(e,n)}}(i));return r.U(void 0,function(t){if(t&&7001==t.code)throw t;throw new ht(2,1,1006,t)})}(this,t,e)).U(function(){return function t(e,n,r,i,a,o,s){var u=new Y(r.uris[a]),c=u.va,l=!1;c||(c=location.protocol,c=c.slice(0,-1),Q(u,c),r.uris[a]=u.toString());var d=(c=Ot[c])?c.zf:null;if(!d)return vt(new ht(2,1,1e3,u));var f;return bt(ft(i)).U(function(){return e.f?yt():(f=Date.now(),d(r.uris[a],r,n,function(t,r,i){e.c&&1==n&&(e.c(t,r),l=!0,s.a=i)}))}).U(function(t){return null==t.timeMs&&(t.timeMs=Date.now()-f),{response:t,Ze:l}},function(u){if(u&&7001==u.code)throw u;if(e.f)return yt();if(u&&1==u.severity)return e.dispatchEvent(new St("retry",{error:u instanceof ht?u:null})),a=(a+1)%r.uris.length,t(e,n,r,i,a,u,s);throw u||o})}(n,t,e,new dt(e.retryParameters,!1),0,null,r)}),o=a.U(function(e){return function(t,e,n){for(var r=gt(void 0),i=(t=d(t.b)).next();!i.done;i=t.next())r=r.U(i.value.bind(null,e,n.response));return r.U(function(){return n},function(t){if(t&&7001==t.code)throw t;var e=2;throw t instanceof ht&&(e=t.severity),new ht(e,1,1007,t)})}(n,t,e)}),s=Date.now(),u=0;i.promise.then(function(){u=Date.now()-s},function(){});var c=0;return a.promise.then(function(){c=Date.now()},function(){}),i=new Nt((i=o.U(function(e){var r=Date.now()-c,i=e.response;return i.timeMs+=u,i.timeMs+=r,e.Ze||!n.c||i.fromCache||1!=t||n.c(i.timeMs,i.data.byteLength),i},function(t){throw t&&(t.severity=2),t})).promise,i.Jd,r),Mt(this.g,i),i},It.prototype.request=It.prototype.request,It.NumBytesRemainingClass=Rt;var jt=Nt;if(jt.prototype=m(mt.prototype),jt.prototype.constructor=jt,g)g(jt,mt);else for(var Bt in mt)if("prototype"!=Bt)if(Object.defineProperties){var $t=Object.getOwnPropertyDescriptor(mt,Bt);$t&&Object.defineProperty(jt,Bt,$t)}else jt[Bt]=mt[Bt];function Ft(){}function Vt(){this.a=new _t}function Ht(t,e,n,r){this.target=t,this.type=e,this.listener=n,this.a=function(t,e){if(null==e)return!1;if("boolean"==typeof e)return e;var n=new Set(["passive","capture"]);return Object.keys(e).filter(function(t){return!n.has(t)}),function(t){var e=qt;if(null==e){e=!1;try{var n={},r={get:function(){return e=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},t.addEventListener("test",r,n),t.removeEventListener("test",r,n)}catch(t){e=!1}qt=e}return e||!1}(t)?e:e.capture||!1}(t,r),this.target.addEventListener(e,n,this.a)}jt.ag=mt.prototype,It.PendingRequest=Nt,Nt.all=wt,Nt.notAbortable=bt,Nt.completed=gt,Nt.aborted=yt,Nt.failed=vt,$("shaka.util.IReleasable",Ft),Ft.prototype.release=function(){},$("shaka.util.EventManager",Vt),Vt.prototype.release=function(){this.Ya(),this.a=null},Vt.prototype.release=Vt.prototype.release,Vt.prototype.w=function(t,e,n,r){this.a&&(t=new Ht(t,e,n,r),this.a.push(e,t))},Vt.prototype.listen=Vt.prototype.w,Vt.prototype.ha=function(t,e,n,r){var i=this;this.w(t,e,function r(a){i.da(t,e,r),n(a)},r)},Vt.prototype.listenOnce=Vt.prototype.ha,Vt.prototype.da=function(t,e,n){if(this.a)for(var r=this.a.get(e)||[],i=(r=d(r)).next();!i.done;i=r.next())(i=i.value).target!=t||n!=i.listener&&n||(i.da(),this.a.remove(e,i))},Vt.prototype.unlisten=Vt.prototype.da,Vt.prototype.Ya=function(){if(this.a){for(var t=this.a.getAll(),e=(t=d(t)).next();!e.done;e=t.next())e.value.da();this.a.a={}}},Vt.prototype.removeAll=Vt.prototype.Ya,Ht.prototype.da=function(){this.target.removeEventListener(this.type,this.listener,this.a),this.listener=this.target=null,this.a=!1},Ht.prototype.unlisten=Ht.prototype.da;var qt=void 0;function zt(t,e){for(var n=d(t),r=n.next();!r.done;r=n.next())if(!e(r.value))return!1;return!0}function Kt(t){var e=new Map;return Object.keys(t).forEach(function(n){e.set(n,t[n])}),e}function Gt(t){var e={};return t.forEach(function(t,n){e[n]=t}),e}function Wt(t,e){var n=t;return e&&(n+='; codecs="'+e+'"'),n}function Xt(t){var e=(t=t.split("."))[0];return t.pop(),[e,t.join(".")]}var Yt=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Qt(){return!(!t.MediaSource||!MediaSource.isTypeSupported)}function Jt(t){return""!=(ee||(te||(te=new lt(function(){ee=null})),(ee=document.querySelector("video")||document.querySelector("audio"))||(ee=document.createElement("video")),te.O(1),ee)).canPlayType(t)}function Zt(t){return(navigator.userAgent||"").includes(t)}var te=null,ee=null;function ne(t){if(!t)return"";239==(t=new Uint8Array(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),t=se(t),t=escape(t);try{return decodeURIComponent(t)}catch(t){throw new ht(2,2,2004)}}function re(t,e,n){if(!t)return"";if(!n&&0!=t.byteLength%2)throw new ht(2,2,2004);if(t instanceof ArrayBuffer)var r=t;else(n=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),r=n.buffer;t=Math.floor(t.byteLength/2),n=new Uint16Array(t),r=new DataView(r);for(var i=0;i<t;i++)n[i]=r.getUint16(2*i,e);return se(n)}function ie(t){var e=new Uint8Array(t);if(239==e[0]&&187==e[1]&&191==e[2])return ne(e);if(254==e[0]&&255==e[1])return re(e.subarray(2),!1);if(255==e[0]&&254==e[1])return re(e.subarray(2),!0);var n=function(t,e){return t.byteLength<=e||32<=t[e]&&126>=t[e]}.bind(null,e);if(0==e[0]&&0==e[2])return re(t,!1);if(0==e[1]&&0==e[3])return re(t,!0);if(n(0)&&n(1)&&n(2)&&n(3))return ne(t);throw new ht(2,2,2003)}function ae(t){t=encodeURIComponent(t),t=unescape(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e.buffer}function oe(t,e){for(var n=new Uint8Array(2*t.length),r=new DataView(n.buffer),i=0;i<t.length;++i)r.setUint16(2*i,t.charCodeAt(i),e);return n.buffer}function se(t){if(!ue)for(var e=function(t){try{return U(new Uint8Array(t)),!0}catch(t){return!1}},n={size:65536};0<n.size;(n={size:n.size}).size/=2)if(e(n.size)){ue=function(t){return function(e){for(var n="",r=0;r<e.length;r+=t.size)n+=String.fromCharCode.apply(String,U(e.subarray(r,r+t.size)));return n}}(n);break}return ue(t)}$("shaka.util.StringUtils.fromUTF8",ne),$("shaka.util.StringUtils.fromUTF16",re),$("shaka.util.StringUtils.fromBytesAutoDetect",ie),$("shaka.util.StringUtils.toUTF8",ae),$("shaka.util.StringUtils.toUTF16",oe);var ue=null;function ce(e,n){var r=se(e);return n=null==n||n,r=t.btoa(r).replace(/\+/g,"-").replace(/\//g,"_"),n?r:r.replace(/=*$/,"")}function le(e){e=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}function de(e){for(var n=new Uint8Array(e.length/2),r=0;r<e.length;r+=2)n[r/2]=t.parseInt(e.substr(r,2),16);return n}function fe(t){for(var e="",n=0;n<t.length;++n){var r=t[n].toString(16);1==r.length&&(r="0"+r),e+=r}return e}function he(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!=e[n])return!1;return!0}function pe(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(var r=n=0;r<e.length;++r)n+=e[r].length;n=new Uint8Array(n);for(var i=r=0;i<e.length;++i)n.set(e[i],r),r+=e[i].length;return n}function me(t){var e=this;this.C=t,this.v=new Set,this.m=this.h=null,this.P=!1,this.a=null,this.i=new Vt,this.b=new Map,this.o=[],this.l=new pt,this.f=null,this.g=function(n){e.l.reject(n),t.onError(n)},this.na=new Map,this.T=new Map,this.M=new lt(function(){return function(t){var e=t.na,n=t.T;n.clear(),e.forEach(function(t,e){return n.set(e,t)}),(e=Array.from(n.values())).length&&e.every(function(t){return"expired"==t})&&t.g(new ht(2,6,6014)),t.C.kc(Gt(n))}(e)}),this.c=!1,this.$=new pt,this.D=!1,this.G=[],this.ma=!1,this.W=new lt(function(){!function(t){t.b.forEach(function(e,n){var r=e.Xc,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(t.C.onExpirationUpdated(n.sessionId,i),e.Xc=i)})}(e)}).La(1),this.l.catch(function(){})}function ve(t,e,n){return t.o=n,t.D=0<n.length,ye(t,e)}function ye(e,n){var r=n.some(function(t){return 0<t.drmInfos.length});if(!r){var i=Kt(e.f.servers);!function(t,e){var n=[];e.forEach(function(t,e){n.push({keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})});for(var r=d(t),i=r.next();!i.done;i=r.next())i.value.drmInfos=n}(n,i)}var a=function(e){if(0==(e=Kt(e.f.clearKeys)).size)return null;var n=[],r=[];e.forEach(function(t,e){var i=de(e),a=de(t);i={kty:"oct",kid:ce(i,!1),k:ce(a,!1)},n.push(i),r.push(i.kid)}),e=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:new Uint8Array(ae(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}}(e);if(a){var o=d(n);for(i=o.next();!i.done;i=o.next())i.value.drmInfos=[a]}for(i=(a=d(n)).next();!i.done;i=a.next())for(o=(i=d(i.value.drmInfos)).next();!o.done;o=i.next())Ie(o.value,Kt(e.f.servers),Kt(e.f.advanced||{}));return(i=function(t,e){for(var n=new Set,r=d(e),i=r.next();!i.done;i=r.next()){var a=d(i.value.drmInfos);for(i=a.next();!i.done;i=a.next())n.add(i.value)}for(r=d(n),i=r.next();!i.done;i=r.next())Ie(i.value,Kt(t.f.servers),Kt(t.f.advanced||{}));a=t.D?"required":"optional";var o=t.D?["persistent-license"]:["temporary"];for(r=new Map,n=d(n),i=n.next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(n=d(e),i=n.next();!i.done;i=n.next()){i=i.value,a=i.audio,o=i.video;var s=a?Wt(a.mimeType,a.codecs):"",u=o?Wt(o.mimeType,o.codecs):"",c=d(i.drmInfos);for(i=c.next();!i.done;i=c.next()){i=i.value;var l=r.get(i.keySystem);l.drmInfos.push(i),i.distinctiveIdentifierRequired&&(l.distinctiveIdentifier="required"),i.persistentStateRequired&&(l.persistentState="required"),a&&l.audioCapabilities.push({robustness:i.audioRobustness||"",contentType:s}),o&&l.videoCapabilities.push({robustness:i.videoRobustness||"",contentType:u})}}return r}(e,n)).size?(i=_e(e,i),r?i:i.catch(function(){})):(e.P=!0,Promise.resolve())}function ge(t){return h(function e(){var n;return L(e,function(e){switch(e.j){case 1:if(!(t.h&&t.a&&t.a.serverCertificate&&t.a.serverCertificate.length)){e.A(0);break}return E(e,3),S(e,t.h.setServerCertificate(t.a.serverCertificate),5);case 5:C(e,0);break;case 3:return n=k(e),e.return(Promise.reject(new ht(2,6,6004,n.message)))}})})}function be(t){var e=t.a?t.a.initData:[];return e.forEach(function(e){return xe(t,e.initDataType,e.initData)}),t.o.forEach(function(e){return Ee(t,e)}),e.length||t.o.length||t.l.resolve(),t.l}function we(t,e,n){for(var r=t.b.values(),i=(r=d(r)).next();!i.done;i=r.next())if(he(n,i.value.initData))return;xe(t,e,n)}function Te(t,e){return!!Zt("Edge/")||t.v.has(e)}function Se(t){return t=function(t,e){for(var n=[],r=d(t),i=r.next();!i.done;i=r.next())n.push(e(i.value));return n}(t=t.b.keys(),function(t){return t.sessionId}),Array.from(t)}function _e(t,e){if(1==e.size&&e.has(""))return Promise.reject(new ht(2,6,6e3));for(var n=d(e.values()),r=n.next();!r.done;r=n.next())0==(r=r.value).audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities;var i=n=new pt;return[!0,!1].forEach(function(t){var n=this;e.forEach(function(e,r){e.drmInfos.some(function(t){return!!t.licenseServerUri})==t&&(i=i.catch(function(){if(!this.c)return navigator.requestMediaKeySystemAccess(r,[e])}.bind(n)))})}.bind(t)),i=(i=i.catch(function(){return Promise.reject(new ht(2,6,6001))})).then(function(t){if(this.c)return Promise.reject();this.v.clear();var n=t.getConfiguration(),r=n.videoCapabilities||[],i=d(n.audioCapabilities||[]);for(n=i.next();!n.done;n=i.next())this.v.add(n.value.contentType);for(n=(r=d(r)).next();!n.done;n=r.next())this.v.add(n.value.contentType);r=t.keySystem,i=[];var a=[],o=[],s=[];return function(t,e,n,r,i){t.forEach(function(t){if(e.includes(t.licenseServerUri)||e.push(t.licenseServerUri),t.serverCertificate&&(n.some(function(e){return he(e,t.serverCertificate)})||n.push(t.serverCertificate)),t.initData&&t.initData.forEach(function(t){r.some(function(e){return!(!e.keyId||e.keyId!=t.keyId)||e.initDataType==t.initDataType&&he(e.initData,t.initData)})||r.push(t)}),t.keyIds)for(var a=0;a<t.keyIds.length;++a)i.includes(t.keyIds[a])||i.push(t.keyIds[a])})}((n=e.get(t.keySystem)).drmInfos,i,a,o,s),this.a={keySystem:r,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:a[0],initData:o,keyIds:s},this.a.licenseServerUri?t.createMediaKeys():Promise.reject(new ht(2,6,6012,this.a.keySystem))}.bind(t)).then(function(t){if(this.c)return Promise.reject();this.h=t,this.P=!0}.bind(t)).catch(function(t){if(!this.c)return this.a=null,this.v.clear(),t instanceof ht?Promise.reject(t):Promise.reject(new ht(2,6,6002,t.message))}.bind(t)),n.reject(),i}function Ee(t,e){try{var n=t.h.createSession("persistent-license")}catch(e){var r=new ht(2,6,6005,e.message);return t.g(r),Promise.reject(r)}t.i.w(n,"message",t.Rd.bind(t)),t.i.w(n,"keystatuseschange",t.Pd.bind(t));var i={initData:null,loaded:!1,Xc:1/0,xa:null};return t.b.set(n,i),n.load(e).then(function(t){return this.c?Promise.reject():t?(i.loaded=!0,Me(this)&&this.l.resolve(),n):(this.b.delete(n),void this.g(new ht(2,6,6013)))}.bind(t),function(t){this.c||(this.b.delete(n),this.g(new ht(2,6,6005,t.message)))}.bind(t))}function xe(t,e,n){try{var r=t.D?t.h.createSession("persistent-license"):t.h.createSession()}catch(e){return void t.g(new ht(2,6,6005,e.message))}t.i.w(r,"message",t.Rd.bind(t)),t.i.w(r,"keystatuseschange",t.Pd.bind(t)),t.b.set(r,{initData:n,loaded:!1,Xc:1/0,xa:null}),r.generateRequest(e,n.buffer).catch(function(e){if(!t.c){if(t.b.delete(r),e.errorCode&&e.errorCode.systemCode){var n=e.errorCode.systemCode;0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)}t.g(new ht(2,6,6006,e.message,e,n))}})}function Ce(t,e){var n=e.target,r=t.b.get(n),i=t.a.licenseServerUri,a=t.f.advanced[t.a.keySystem];"individualization-request"==e.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(i=Ut([i],t.f.retryParameters)).body=e.message,i.method="POST",i.licenseRequestType=e.messageType,"com.microsoft.playready"!=t.a.keySystem&&"com.chromecast.playready"!=t.a.keySystem||function(t){var e=re(t.body,!0,!0);if(e.includes("PlayReadyKeyMessage")){for(var n=(e=(new DOMParser).parseFromString(e,"application/xml")).getElementsByTagName("HttpHeader"),r=0;r<n.length;++r)t.headers[n[r].querySelector("name").textContent]=n[r].querySelector("value").textContent;t.body=le(e.querySelector("Challenge").textContent).buffer}else t.headers["Content-Type"]="text/xml; charset=utf-8"}(i),t.a.keySystem.startsWith("com.apple.fps")&&function(t){var e=new Uint8Array(t.body);e="spc="+ce(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=ae(e)}(i),t.C.rb.request(2,i).promise.then(function(t){return this.c?Promise.reject():(this.a.keySystem.startsWith("com.apple.fps")&&function(t){try{var e=ne(t.data)}catch(t){return}"<ckc>"===(e=e.trim()).substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6));try{e=JSON.parse(e).ckc}catch(t){}t.data=le(e).buffer}(t),n.update(t.data).then(function(){var t=this;this.C.onEvent(new St("drmsessionupdate")),r&&(r.xa&&r.xa.resolve(),new lt(function(){r.loaded=!0,Me(t)&&t.l.resolve()}).O(Oe))}.bind(this)))}.bind(t),function(t){this.c||(t=new ht(2,6,6007,t),this.g(t),r&&r.xa&&r.xa.reject(t))}.bind(t)).catch(function(t){this.c||(t=new ht(2,6,6008,t.message),this.g(t),r&&r.xa&&r.xa.reject(t))}.bind(t))}function ke(){var t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],e=[{videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],n=new Map;return t="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").map(function(t){return function(t){return h(function r(){var i,a,o;return L(r,function(r){switch(r.j){case 1:return E(r,2),S(r,navigator.requestMediaKeySystemAccess(t,e),4);case 4:return i=r.s,o=!!(a=i.getConfiguration().sessionTypes)&&a.includes("persistent-license"),Zt("Tizen 3")&&(o=!1),n.set(t,{persistentState:o}),S(r,i.createMediaKeys(),5);case 5:C(r,0);break;case 2:k(r),n.set(t,null),_(r)}})})}(t)}),Promise.all(t).then(function(){return Gt(n)})}function Ae(t,e){var n=e.audio,r=e.video;if(n&&n.encrypted&&!Te(t,Wt(n.mimeType,n.codecs))||r&&r.encrypted&&!Te(t,Wt(r.mimeType,r.codecs)))return!1;var i=t.keySystem();return 0==e.drmInfos.length||e.drmInfos.some(function(t){return t.keySystem==i})}function Pe(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],r=0;r<t.length;r++)for(var i=0;i<e.length;i++)if(t[r].keySystem==e[i].keySystem){var a=t[r];i=e[i];var o=[];o=(o=o.concat(a.initData||[])).concat(i.initData||[]);var s=[];s=(s=s.concat(a.keyIds)).concat(i.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||i.persistentStateRequired,videoRobustness:a.videoRobustness||i.videoRobustness,audioRobustness:a.audioRobustness||i.audioRobustness,serverCertificate:a.serverCertificate||i.serverCertificate,initData:o,keyIds:s});break}return n}function Me(t){return zt(t=t.b.values(),function(t){return t.loaded})}function Ie(e,n,r){!e.keySystem||"org.w3.clearkey"==e.keySystem&&e.licenseServerUri||(n.size&&(n=n.get(e.keySystem)||"",e.licenseServerUri=n),e.keyIds||(e.keyIds=[]),(r=r.get(e.keySystem))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=r.persistentStateRequired),e.videoRobustness||(e.videoRobustness=r.videoRobustness),e.audioRobustness||(e.audioRobustness=r.audioRobustness),e.serverCertificate||(e.serverCertificate=r.serverCertificate)),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==e.keySystem&&(e.keySystem="com.chromecast.playready"))}$("shaka.util.Uint8ArrayUtils.toBase64",ce),$("shaka.util.Uint8ArrayUtils.fromBase64",le),$("shaka.util.Uint8ArrayUtils.fromHex",de),$("shaka.util.Uint8ArrayUtils.toHex",fe),$("shaka.util.Uint8ArrayUtils.equal",he),$("shaka.util.Uint8ArrayUtils.concat",pe),(n=me.prototype).destroy=function(){var t=this;return h(function e(){return L(e,function(e){switch(e.j){case 1:return t.c?S(e,t.$,0):(t.c=!0,S(e,function(t){return h(function e(){var n;return L(e,function(e){switch(e.j){case 1:return t.i.release(),t.i=null,t.l.reject(),t.W.stop(),t.W=null,t.M.stop(),t.M=null,n=Array.from(t.b.keys()),t.b.clear(),S(e,Promise.all(n.map(function(t){return Promise.resolve().then(function(){return h(function e(){return L(e,function(e){switch(e.j){case 1:return E(e,2),S(e,function(t){return h(function e(){var n;return L(e,function(e){switch(e.j){case 1:return n=new Promise(function(t){new lt(t).O(De)}),S(e,Promise.race([t.close().then(function(){return!0}),n.then(function(){return!1})]),2);case 2:_(e)}})})}(t),4);case 4:C(e,0);break;case 2:k(e),_(e)}})})})})),2);case 2:if(!t.m){e.A(3);break}return E(e,4),S(e,t.m.setMediaKeys(null),6);case 6:C(e,5);break;case 4:k(e);case 5:t.m=null;case 3:t.a=null,t.v.clear(),t.h=null,t.o=[],t.f=null,t.g=null,t.C=null,_(e)}})})}(t),4));case 4:t.$.resolve(),e.A(0)}})})},n.configure=function(t){this.f=t},n.Cb=function(t){var e=this;if(!this.h)return this.i.ha(t,"encrypted",function(){e.g(new ht(2,6,6010))}),Promise.resolve();this.m=t,this.i.ha(this.m,"play",function(){for(var t=0;t<e.G.length;t++)Ce(e,e.G[t]);e.ma=!0,e.G=[]}),t=(t=this.m.setMediaKeys(this.h)).catch(function(t){return Promise.reject(new ht(2,6,6003,t.message))});var n=ge(this);return Promise.all([t,n]).then(function(){if(e.c)return Promise.reject();be(e),e.a.initData.length||e.o.length||e.i.w(e.m,"encrypted",function(t){return we(e,t.initDataType,new Uint8Array(t.initData))})}).catch(function(t){if(!e.c)return Promise.reject(t)})},n.keySystem=function(){return this.a?this.a.keySystem:""},n.dc=function(){for(var t=1/0,e=this.b.keys(),n=(e=d(e)).next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},n.Rd=function(t){this.f.delayLicenseRequestUntilPlayed&&this.m.paused&&!this.ma?this.G.push(t):Ce(this,t)},n.Pd=function(t){t=t.target;var e=this.b.get(t),n=!1;t.keyStatuses.forEach(function(t,r){if("string"==typeof r){var i=r;r=t,t=i}if("com.microsoft.playready"==this.a.keySystem&&16==r.byteLength&&!Zt("Tizen")){var a=(i=new DataView(r)).getUint32(0,!0),o=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,a,!1),i.setUint16(4,o,!1),i.setUint16(6,s,!1)}"com.microsoft.playready"==this.a.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(e.loaded=!0),"expired"==t&&(n=!0),i=fe(new Uint8Array(r)),this.na.set(i,t)}.bind(this));var r=t.expiration-Date.now();(0>r||n&&1e3>r)&&e&&!e.xa&&(this.b.delete(t),t.close().catch(function(){})),Me(this)&&(this.l.resolve(),this.M.O(Le))};var De=1,Oe=5,Le=.5;function Ue(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}}function Re(){}function Ne(t){return!t||1==t.length&&1e-6>t.end(0)-t.start(0)?null:t.length?t.end(t.length-1):null}function je(t,e,n){return n=void 0===n?0:n,!(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)||e>t.end(t.length-1))&&e+n>=t.start(0)}function Be(t,e){if(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))return 0;for(var n=0,r=t.length-1;0<=r&&t.end(r)>e;--r)n+=t.end(r)-Math.max(t.start(r),e);return n}function $e(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}Ue.prototype.init=function(t){var e=muxjs.mp4.probe;t=new Uint8Array(t),this.g=e.videoTrackIds(t),this.f=e.timescale(t),this.a.init()},Ue.prototype.b=function(t,e){var n=new Uint8Array(t);(n=this.a.parse(n,this.g,this.f))&&n.captions&&e(n.captions),this.a.clearParsedCaptions()},Ue.prototype.c=function(){this.a.resetCaptionStream()},Re.prototype.init=function(){},Re.prototype.b=function(){},Re.prototype.c=function(){};var Fe={ye:function(t,e){return t.reduce(function(t,e,n){return e.catch(t.bind(null,n))}.bind(null,e),Promise.reject())},yc:function(t,e){return t.concat(e)},ic:function(){},Ga:function(t){return null!=t}};function Ve(t,e){if(0==e.length)return t;var n=e.map(function(t){return new Y(t)});return t.map(function(t){return new Y(t)}).map(function(t){return n.map(t.resolve.bind(t))}).reduce(Fe.yc,[]).map(function(t){return t.toString()})}function He(t,e){return{keySystem:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:e||[],keyIds:[]}}var qe={Na:"video",Ab:"audio",qa:"text",kg:"application"},ze=1/15;function Ke(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on("data",this.i.bind(this)),this.a.on("done",this.h.bind(this))}function Ge(e,n){return!(!t.muxjs||"mp2t"!=e.toLowerCase().split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(We(n,e)):MediaSource.isTypeSupported(We("audio",e))||MediaSource.isTypeSupported(We("video",e)))}function We(t,e){var n=e.replace(/mp2t/i,"mp4");"audio"==t&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",a=r[1],o=Number(r[2]);i=("66"==a?i+"4200":"77"==a?i+"4d00":i+"6400")+(o>>4).toString(16),i+=(15&o).toString(16),n=n.replace(r[0],i)}return n}function Xe(t,e,n){this.startTime=t,this.direction=en,this.endTime=e,this.payload=n,this.region=new ln,this.position=null,this.positionAlign=Ye,this.size=100,this.textAlign=Qe,this.writingMode=nn,this.lineInterpretation=rn,this.line=null,this.lineHeight="",this.lineAlign=an,this.displayAlign=Ze,this.fontSize=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=sn,this.fontStyle=un,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""}Ke.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},Ke.prototype.i=function(t){this.c=t.captions;var e=new Uint8Array(t.data.byteLength+t.initSegment.byteLength);e.set(t.initSegment,0),e.set(t.data,t.initSegment.byteLength),this.g.push(e)},Ke.prototype.h=function(){var t={data:pe.apply(null,this.g),captions:this.c};this.b.resolve(t),this.f=!1},$("shaka.text.Cue",Xe);var Ye="auto";Xe.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Ye};var Qe="center",Je={LEFT:"left",RIGHT:"right",CENTER:Qe,START:"start",END:"end"};Xe.textAlign=Je;var Ze="after",tn={BEFORE:"before",CENTER:"center",AFTER:Ze};Xe.displayAlign=tn;var en="ltr";Xe.direction={HORIZONTAL_LEFT_TO_RIGHT:en,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var nn="horizontal-tb";Xe.writingMode={HORIZONTAL_TOP_TO_BOTTOM:nn,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var rn=0;Xe.lineInterpretation={LINE_NUMBER:rn,PERCENTAGE:1};var an="start",on={CENTER:"center",START:an,END:"end"};Xe.lineAlign=on;var sn=400;Xe.fontWeight={NORMAL:sn,BOLD:700};var un="normal",cn={NORMAL:un,ITALIC:"italic",OBLIQUE:"oblique"};function ln(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=dn,this.scroll=fn}Xe.fontStyle=cn,Xe.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},$("shaka.text.CueRegion",ln);var dn=1;ln.units={PX:0,PERCENTAGE:dn,LINES:2};var fn="";function hn(t){this.g=null,this.c=t,this.f=this.m=0,this.h=1/0,this.b=this.a=null,this.l="",this.i=new Map}ln.scrollMode={NONE:fn,UP:"up"};var pn={};function mn(e){return!!(pn[e]||t.muxjs&&"application/cea-608"==e)}function vn(t,e){"application/cea-608"!=e&&(t.g=new pn[e])}function yn(t,e,n,r,i){for(var a=n+" "+r,o=new Map,s=(e=d(e)).next();!s.done;s=e.next()){var u=s.value;s=u.stream,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),u.startTime+=i,u.endTime+=i,u.startTime>=t.f&&u.startTime<t.h&&(u=new Xe(u.startTime,u.endTime,u.text),o.get(s).get(a).push(u),s==t.l&&t.c.append([u]))}for(a=(i=d(o.keys())).next();!a.done;a=i.next())for(a=a.value,t.i.has(a)||t.i.set(a,new Map),s=(e=d(o.get(a).keys())).next();!s.done;s=e.next())s=s.value,u=o.get(a).get(s),t.i.get(a).set(s,u);t.a=null==t.a?Math.max(n,t.f):Math.min(t.a,Math.max(n,t.f)),t.b=Math.max(t.b,Math.min(r,t.h))}function gn(t,e,n){this.f=t,this.g=n,this.b={},this.a=null,this.c={},this.i=new Vt,this.v=!1,this.l={},this.m=e,t=this.o=new pt,e=new MediaSource,this.i.ha(e,"sourceopen",t.resolve),this.f.src=bn(e),this.h=e}$("shaka.text.TextEngine.registerParser",function(t,e){pn[t]=e}),$("shaka.text.TextEngine.unregisterParser",function(t){delete pn[t]}),hn.prototype.destroy=function(){return this.c=this.g=null,this.i.clear(),Promise.resolve()},hn.prototype.Lc=function(t){try{return this.g.parseMedia(new Uint8Array(t),{periodStart:0,segmentStart:null,segmentEnd:0})[0].startTime}catch(t){throw new ht(2,2,2009,t)}},hn.prototype.remove=function(t,e){return Promise.resolve().then(function(){!this.c||!this.c.remove(t,e)||null==this.a||e<=this.a||t>=this.b||(t<=this.a&&e>=this.b?this.a=this.b=null:t<=this.a&&e<this.b?this.a=e:t>this.a&&e>=this.b&&(this.b=t))}.bind(this))},hn.prototype.qe=function(t){this.c.append(t)},hn.prototype.appendCues=hn.prototype.qe,hn.prototype.rc=function(t,e){this.l=t;var n=this.i.get(t);if(n)for(var r=d(n.keys()),i=r.next();!i.done;i=r.next())(i=n.get(i.value))&&(i=i.filter(function(t){return t.endTime<=e}),this.c.append(i))},hn.prototype.setSelectedClosedCaptionId=hn.prototype.rc;var bn=t.URL.createObjectURL;function wn(t){var e=Wt(t.mimeType,t.codecs),n=function(t){var e=[t.mimeType];return Yt.forEach(function(n,r){var i=t[r];i&&e.push(n+'="'+i+'"')}),e.join(";")}(t);return mn(e)||MediaSource.isTypeSupported(n)||Ge(e,t.type)}function Tn(t,e){t.a||(t.a=new hn(t.g)),vn(t.a,e)}function Sn(t,e){if("text"==e)var n=t.a.a;else n=!(n=En(t,e))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function _n(t,e){return"text"==e?t.a.b:Ne(En(t,e))}function En(t,e){try{return t.b[e].buffered}catch(t){return null}}function xn(e,n,r,i,a,o){return"text"==n?function(t,e,n,r){return Promise.resolve().then(function(){if(this.g&&this.c)if(null==n||null==r)this.g.parseInit(new Uint8Array(e));else{var t={periodStart:this.m,segmentStart:n,segmentEnd:r};t=this.g.parseMedia(new Uint8Array(e),t).filter(function(t){return t.startTime>=this.f&&t.startTime<this.h}.bind(this)),this.c.append(t),null==this.a&&(this.a=Math.max(n,this.f)),this.b=Math.min(r,this.h)}}.bind(t))}(e.a,r,i,a):e.l[n]?function(t,e){t.f=!0,t.b=new pt,t.g=[],t.c=[];var n=new Uint8Array(e);return t.a.push(n),t.a.flush(),t.f&&t.b.reject(new ht(2,3,3018)),t.b}(e.l[n],r).then(function(t){return this.a||Tn(this,"text/vtt"),t.captions&&yn(this.a,t.captions,i,a,this.b.video.timestampOffset),kn(this,n,this.ee.bind(this,n,t.data.buffer))}.bind(e)):(o&&t.muxjs&&(e.a||Tn(e,"text/vtt"),null==i&&null==a?e.m.init(r):e.m.b(r,function(t){t.length&&yn(e.a,t,i,a,e.b.video.timestampOffset)})),kn(e,n,e.ee.bind(e,n,r)))}function Cn(t,e){return"text"==e?t.a?(t.m.c(),t.a.remove(0,1/0)):Promise.resolve():kn(t,e,t.fe.bind(t,e,0,t.h.duration))}function kn(t,e,n){if(t.v)return Promise.reject();if(n={start:n,p:new pt},t.c[e].push(n),1==t.c[e].length)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new ht(2,3,3017,e)):n.p.reject(new ht(2,3,3015,r)),Pn(t,e)}return n.p}function An(t,e){if(t.v)return Promise.reject();var n,r=[];for(n in t.b){var i=new pt,a={start:function(t){t.resolve()}.bind(null,i),p:i};t.c[n].push(a),r.push(i),1==t.c[n].length&&a.start()}return Promise.all(r).then(function(){try{e()}catch(e){var t=Promise.reject(new ht(2,3,3015,e))}for(var n in this.b)Pn(this,n);return t}.bind(t),function(t){throw t}.bind(t))}function Pn(t,e){t.c[e].shift();var n=t.c[e][0];if(n)try{n.start()}catch(r){n.p.reject(new ht(2,3,3015,r)),Pn(t,e)}}function Mn(t,e){return t=Dn(t),e=Dn(e),t.split("-")[0]==e.split("-")[0]}function In(t,e){t=Dn(t),e=Dn(e);var n=t.split("-"),r=e.split("-");return n[0]==r[0]&&1==n.length&&2==r.length}function Dn(t){var e=t.split("-");return t=e[0]||"",e=e[1]||"",t=t.toLowerCase(),t=Un.get(t)||t,(e=e.toUpperCase())?t+"-"+e:t}function On(t){return t.language?Dn(t.language):t.audio&&t.audio.language?Dn(t.audio.language):t.video&&t.video.language?Dn(t.video.language):"und"}function Ln(t,e){for(var n=Dn(t),r=new Set,i=d(e),a=i.next();!a.done;a=i.next())r.add(Dn(a.value));for(a=(i=d(r)).next();!a.done;a=i.next())if((a=a.value)==n)return a;for(a=(i=d(r)).next();!a.done;a=i.next())if(In(a=a.value,n))return a;for(a=(i=d(r)).next();!a.done;a=i.next()){var o=a=a.value,s=n;if(o=Dn(o),s=Dn(s),o=o.split("-"),s=s.split("-"),2==o.length&&2==s.length&&o[0]==s[0])return a}for(a=(r=d(r)).next();!a.done;a=r.next())if(In(n,i=a.value))return i;return null}(n=gn.prototype).destroy=function(){var t=this;this.v=!0;var e,n=[];for(e in this.c){var r=this.c[e],i=r[0];for(this.c[e]=r.slice(0,1),i&&n.push(i.p.catch(Fe.ic)),i=1;i<r.length;++i)r[i].p.reject()}for(var a in this.a&&n.push(this.a.destroy()),this.g&&n.push(this.g.destroy()),this.l)n.push(this.l[a].destroy());return Promise.all(n).then(function(){t.i&&(t.i.release(),t.i=null),t.f&&(t.f.removeAttribute("src"),t.f.load(),t.f=null),t.h=null,t.a=null,t.g=null,t.b={},t.l={},t.m=null,t.c={}})},n.init=function(t,e){var n=this;return h(function r(){var i;return L(r,function(r){switch(r.j){case 1:return i=qe,S(r,n.o,2);case 2:t.forEach(function(t,r){var a=Wt(t.mimeType,t.codecs);r==i.qa?Tn(n,a):(!e&&MediaSource.isTypeSupported(a)||!Ge(a,r)||(n.l[r]=new Ke,a=We(r,a)),a=n.h.addSourceBuffer(a),n.i.w(a,"error",n.Tf.bind(n,r)),n.i.w(a,"updateend",n.ub.bind(n,r)),n.b[r]=a,n.c[r]=[])}),_(r)}})})},n.Ic=function(t){if(t.total=$e(this.f.buffered),t.audio=$e(En(this,"audio")),t.video=$e(En(this,"video")),t.text=[],this.a){var e=this.a.a,n=this.a.b;null!=e&&null!=n&&t.text.push({start:e,end:n})}},n.rc=function(t){var e=_n(this,"video")||0;this.a.rc(t,e)},n.remove=function(t,e,n){return"text"==t?this.a.remove(e,n):kn(this,t,this.fe.bind(this,t,e,n))},n.flush=function(t){return"text"==t?Promise.resolve():kn(this,t,this.Ce.bind(this,t))},n.endOfStream=function(t){return An(this,function(){t?this.h.endOfStream(t):this.h.endOfStream()}.bind(this))},n.wa=function(t){return An(this,function(){this.h.duration=t}.bind(this))},n.Y=function(){return this.h.duration},n.ee=function(t,e){this.b[t].appendBuffer(e)},n.fe=function(t,e,n){n<=e?this.ub(t):this.b[t].remove(e,n)},n.oe=function(t){var e=this.b[t].appendWindowStart,n=this.b[t].appendWindowEnd;this.b[t].abort(),this.b[t].appendWindowStart=e,this.b[t].appendWindowEnd=n,this.ub(t)},n.Ce=function(t){this.f.currentTime-=.001,this.ub(t)},n.Sf=function(t,e){0>e&&(e+=.001),this.b[t].timestampOffset=e,this.ub(t)},n.Pf=function(t,e,n){this.b[t].appendWindowStart=0,this.b[t].appendWindowEnd=n,this.b[t].appendWindowStart=e,this.ub(t)},n.Tf=function(t){this.c[t][0].p.reject(new ht(2,3,3014,this.f.error?this.f.error.code:0))},n.ub=function(t){var e=this.c[t][0];e&&(e.p.resolve(),Pn(this,t))};var Un=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Rn(t,e,n){function r(t,e,n){return t>=e&&t<=n}var i=t.video;return!(i&&i.width&&i.height&&!(r(i.width,e.minWidth,Math.min(e.maxWidth,n.width))&&r(i.height,e.minHeight,Math.min(e.maxHeight,n.height))&&r(i.width*i.height,e.minPixels,e.maxPixels))||!r(t.bandwidth,e.minBandwidth,e.maxBandwidth))}function Nn(t,e,n){var r=!1;return t.forEach(function(t){var i=t.allowedByApplication;t.allowedByApplication=Rn(t,e,n),i!=t.allowedByApplication&&(r=!0)}),r}function jn(t,e,n,r){r.variants=r.variants.filter(function(r){if(t&&t.P&&!Ae(t,r))return!1;var i=r.audio;return r=r.video,!(i&&!wn(i)||r&&!wn(r)||i&&e&&!Bn(i,e)||r&&n&&!Bn(r,n))}),r.textStreams=r.textStreams.filter(function(t){return mn(Wt(t.mimeType,t.codecs))})}function Bn(t,e){return t.mimeType==e.mimeType&&t.codecs.split(".")[0]==e.codecs.split(".")[0]}function $n(t){var e=t.audio,n=t.video,r=e?e.codecs:null,i=n?n.codecs:null,a=[];i&&a.push(i),r&&a.push(r);var o=[];n&&o.push(n.mimeType),e&&o.push(e.mimeType),o=o[0]||null;var s=[];e&&s.push(e.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;return e&&e.roles.forEach(function(t){return u.add(t)}),n&&n.roles.forEach(function(t){return u.add(t)}),t={id:t.id,active:!1,type:"variant",bandwidth:t.bandwidth,language:t.language,label:null,kind:s,width:null,height:null,frameRate:null,mimeType:o,codecs:a.join(", "),audioCodec:r,videoCodec:i,primary:t.primary,roles:Array.from(u),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(t.videoId=n.id,t.originalVideoId=n.originalId,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.videoBandwidth=n.bandwidth||null),e&&(t.audioId=e.id,t.originalAudioId=e.originalId,t.channelsCount=e.channelsCount,t.audioBandwidth=e.bandwidth||null,t.label=e.label,t.audioRoles=e.roles),t}function Fn(t){return{id:t.id,active:!1,type:"text",bandwidth:0,language:t.language,label:t.label,kind:t.kind||null,width:null,height:null,frameRate:null,mimeType:t.mimeType,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:t.originalId}}function Vn(t){return t.__shaka_id||(t.__shaka_id=Hn++),t.__shaka_id}var Hn=0;function qn(t){return{id:Vn(t),active:!1,type:"",bandwidth:0,language:Dn(t.language),label:t.label,kind:t.kind,width:null,height:null,frameRate:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function zn(t){return t.allowedByApplication&&t.allowedByKeySystem}function Kn(t,e){for(var n=t.filter(function(t){return t.audio&&t.audio.channelsCount}),r=new Map,i=(n=d(n)).next();!i.done;i=n.next()){var a=(i=i.value).audio.channelsCount;r.has(a)||r.set(a,[]),r.get(a).push(i)}return 0==(n=Array.from(r.keys())).length?t:(i=n.filter(function(t){return t<=e})).length?r.get(Math.max.apply(null,i)):r.get(Math.min.apply(null,n))}function Gn(t,e,n){var r=t,i=t.filter(function(t){return t.primary});i.length&&(r=i);var a=r.length?r[0].language:"";if(r=r.filter(function(t){return t.language==a}),e){var o=Ln(Dn(e),t.map(function(t){return t.language}));o&&(r=t.filter(function(t){return Dn(t.language)==o}))}if(n){if((t=Wn(r,n)).length)return t}else if((t=r.filter(function(t){return 0==t.roles.length})).length)return t;return(t=r.map(function(t){return t.roles}).reduce(Fe.yc,[])).length?Wn(r,t[0]):r}function Wn(t,e){return t.filter(function(t){return t.roles.includes(e)})}function Xn(t,e,n){for(var r=0;r<n.length;r++)if(n[r].audio==t&&n[r].video==e)return n[r];return null}function Yn(){this.h=null,this.f=!1,this.b=new z,this.c=[],this.i=!1,this.a=this.g=null}function Qn(t,e){return t&&(e=e.filter(function(e){return Rn(e,t,{width:1/0,height:1/0})})),e.sort(function(t,e){return t.bandwidth-e.bandwidth})}function Jn(t,e){this.a=t,this.b=e}function Zn(t,e){var n=new Jn(2,6),r=nr,i=r.a,a=n.b-i.b;(0<(n.a-i.a||a)?r.c:r.b)(r.a,n,t,e)}function tr(t,e,n,r){G([n,"has been deprecated and will be removed in",e,". We are currently at version",t,". Additional information:",r].join(" "))}function er(t,e,n,r){K([n,"has been deprecated and has been removed in",e,". We are now at version",t,". Additional information:",r].join(""))}$("shaka.abr.SimpleAbrManager",Yn),Yn.prototype.stop=function(){this.h=null,this.f=!1,this.c=[],this.g=null},Yn.prototype.stop=Yn.prototype.stop,Yn.prototype.init=function(t){this.h=t},Yn.prototype.init=Yn.prototype.init,Yn.prototype.chooseVariant=function(){var t=Qn(this.a.restrictions,this.c),e=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!t.length&&(t=[(t=Qn(null,this.c))[0]]);for(var n=t[0]||null,r=0;r<t.length;++r){var i=t[r],a=(t[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;e>=i.bandwidth/this.a.bandwidthDowngradeTarget&&e<=a&&(n=i)}return this.g=Date.now(),n},Yn.prototype.chooseVariant=Yn.prototype.chooseVariant,Yn.prototype.enable=function(){this.f=!0},Yn.prototype.enable=Yn.prototype.enable,Yn.prototype.disable=function(){this.f=!1},Yn.prototype.disable=Yn.prototype.disable,Yn.prototype.segmentDownloaded=function(t,e){var n=this.b;if(!(16e3>e)){var r=8e3*e/t,i=t/1e3;n.a+=e,H(n.b,i,r),H(n.c,i,r)}if(null!=this.g&&this.f)t:{if(this.i){if(Date.now()-this.g<1e3*this.a.switchInterval)break t}else{if(!(128e3<=this.b.a))break t;this.i=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},Yn.prototype.segmentDownloaded=Yn.prototype.segmentDownloaded,Yn.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},Yn.prototype.getBandwidthEstimate=Yn.prototype.getBandwidthEstimate,Yn.prototype.setVariants=function(t){this.c=t},Yn.prototype.setVariants=Yn.prototype.setVariants,Yn.prototype.configure=function(t){this.a=t},Yn.prototype.configure=Yn.prototype.configure,Jn.prototype.toString=function(){return"v"+this.a+"."+this.b};var nr=null,rr="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),ir="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),ar=["loop","playbackRate"],or=["pause","play"],sr="abrstatuschanged adaptation buffering emsg error loading streaming texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading variantchanged textchanged".split(" "),ur={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,usingEmbeddedTextTrack:2,getLoadMode:10},cr={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},lr=[["getConfiguration","configure"]],dr=[["isTextTrackVisible","setTextTrackVisibility"]],fr="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),hr=["attach","detach","load","unload"];function pr(t){return JSON.stringify(t,function(t,e){if("function"!=typeof e){if(e instanceof Event||e instanceof St){var n,r={};for(n in e){var i=e[n];i&&"object"==typeof i?"detail"==n&&(r[n]=i):n in Event||(r[n]=i)}return r}if(e instanceof TimeRanges)for(r={__type__:"TimeRanges",length:e.length,start:[],end:[]},n=0;n<e.length;++n)r.start.push(e.start(n)),r.end.push(e.end(n));else r=e instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(e)}:"number"==typeof e?isNaN(e)?"NaN":isFinite(e)?e:0>e?"-Infinity":"Infinity":e;return r}})}function mr(t){return JSON.parse(t,function(t,e){return"NaN"==e?NaN:"-Infinity"==e?-1/0:"Infinity"==e?1/0:e&&"object"==typeof e&&"TimeRanges"==e.__type__?function(t){return{length:t.length,start:function(e){return t.start[e]},end:function(e){return t.end[e]}}}(e):e&&"object"==typeof e&&"Uint8Array"==e.__type__?new Uint8Array(e.entries):e})}function vr(t,e,n,r,i,a){this.T=t,this.f=new lt(e),this.P=n,this.l=!1,this.G=r,this.M=i,this.C=a,this.b=this.h=!1,this.D="",this.i=null,this.m=this.Nd.bind(this),this.o=this.kf.bind(this),this.a={video:{},player:{}},this.v=0,this.c={},this.g=null}var yr=!1,gr=null;function br(t){var e=gr;e.removeUpdateListener(t.m),e.removeMessageListener("urn:x-cast:com.google.shaka.v2",t.o)}function wr(t){for(var e in t.c){var n=t.c[e];delete t.c[e],n.reject(new ht(1,7,7e3))}}function Tr(t){t=pr(t),gr.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},W)}function Sr(t,e,n){var r=this;Et.call(this),this.c=t,this.b=e,this.i=this.g=this.f=this.l=this.h=null,(this.m=n)&&(this.a=new vr(n,function(){return Er(r)},function(){return xr(r)},function(t,e){return kr(r,t,e)},function(){return Cr(r)},function(){return _r(r)})),function(t){for(var e in t.a&&t.a.init(),t.i=new Vt,rr.forEach(function(t){this.i.w(this.c,t,this.ig.bind(this))}.bind(t)),sr.forEach(function(t){this.i.w(this.b,t,this.yf.bind(this))}.bind(t)),t.h={},t.c)Object.defineProperty(t.h,e,{configurable:!1,enumerable:!0,get:t.hg.bind(t,e),set:t.jg.bind(t,e)});for(var n in t.l={},t.b)Object.defineProperty(t.l,n,{configurable:!1,enumerable:!0,get:t.Ud.bind(t,n)});t.f=new Et,t.f.Vb=t.h,t.g=new Et,t.g.Vb=t.l}(this)}function _r(t){var e={video:{},player:{},playerAfterLoad:{},manifest:t.b.bc(),startTime:null};return t.c.pause(),ar.forEach(function(t){e.video[t]=this.c[t]}.bind(t)),t.c.ended||(e.startTime=t.c.currentTime),lr.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.player[n]=t}.bind(t)),dr.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.playerAfterLoad[n]=t}.bind(t)),e}function Er(t){t.dispatchEvent(new St("caststatuschanged"))}function xr(t){t.f.dispatchEvent(new St(t.h.paused?"pause":"play"))}function Cr(t){lr.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(t));var e=t.a.get("player","getAssetUri")(),n=t.a.get("video","ended"),r=Promise.resolve(),i=t.c.autoplay,a=null;n||(a=t.a.get("video","currentTime")),e&&(t.c.autoplay=!1,r=t.b.load(e,a));var o={};ar.forEach(function(t){o[t]=this.a.get("video",t)}.bind(t)),r.then(function(){t.c&&(ar.forEach(function(t){this.c[t]=o[t]}.bind(t)),dr.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(t)),t.c.autoplay=i,e&&t.c.play())},function(e){t.b.dispatchEvent(new St("error",{detail:e}))})}function kr(t,e,n){t.a.fa()&&("video"==e?t.f.dispatchEvent(n):"player"==e&&t.g.dispatchEvent(n))}function Ar(t,e,n,r){var i=this;Et.call(this),this.a=t,this.b=e,this.c=new Vt,this.D={video:t,player:e},this.o=n||function(){},this.G=r||function(t){return t},this.v=!1,this.h=!0,this.g=0,this.m=!1,this.l=!0,this.i=this.f=null,this.C=new lt(function(){Mr(i)}),function(t){var e=cast.receiver.CastReceiverManager.getInstance();e.onSenderConnected=t.Qd.bind(t),e.onSenderDisconnected=t.Qd.bind(t),e.onSystemVolumeChanged=t.Be.bind(t),t.i=e.getCastMessageBus("urn:x-cast:com.google.cast.media"),t.i.onMessage=t.ef.bind(t),t.f=e.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),t.f.onMessage=t.rf.bind(t),e.start(),rr.forEach(function(t){this.c.w(this.a,t,this.Wd.bind(this,"video"))}.bind(t)),sr.forEach(function(t){this.c.w(this.b,t,this.Wd.bind(this,"player"))}.bind(t)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?t.b.jd(3840,2160):t.b.jd(1920,1080),t.c.w(t.a,"loadeddata",function(){this.m=!0}.bind(t)),t.c.w(t.b,"loading",function(){this.h=!1,Pr(this)}.bind(t)),t.c.w(t.a,"playing",function(){this.h=!1,Pr(this)}.bind(t)),t.c.w(t.a,"pause",function(){Pr(this)}.bind(t)),t.c.w(t.b,"unloading",function(){this.h=!0,Pr(this)}.bind(t)),t.c.w(t.a,"ended",function(){var t=this;new lt(function(){t.a&&t.a.ended&&(t.h=!0,Pr(t))}).O(5)}.bind(t))}(this)}function Pr(t){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new St("caststatuschanged")),Ir(this)||Lr(this,0))}.bind(t))}function Mr(t){t.C.O(.5);var e={video:{},player:{}};if(ir.forEach(function(t){e.video[t]=this.a[t]}.bind(t)),t.b.V())for(var n in cr)0==t.g%cr[n]&&(e.player[n]=t.b[n]());for(var r in ur)0==t.g%ur[r]&&(e.player[r]=t.b[r]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=n.level,e.video.muted=n.muted),t.m&&(t.g+=1),Or(t,{type:"update",update:e},t.f),Ir(t)}function Ir(t){return!(!t.l||!t.a.duration&&!t.b.V())&&(Dr(t),t.l=!1,!0)}function Dr(t){var e={contentId:t.b.bc(),streamType:t.b.V()?"LIVE":"BUFFERED",duration:t.a.duration,contentType:""};Lr(t,0,e)}function Or(t,e,n,r){t.v&&(t=pr(e),r?n.getCastChannel(r).send(t):n.broadcast(t))}function Lr(t,e,n){var r=t.a.playbackRate,i=Ur;r={mediaSessionId:0,playbackRate:r,playerState:i=t.h?i.IDLE:t.b.Nc()?i.je:t.a.paused?i.le:i.me,currentTime:t.a.currentTime,supportedMediaCommands:15,volume:{level:t.a.volume,muted:t.a.muted}},n&&(r.media=n),Or(t,{requestId:e,type:"MEDIA_STATUS",status:[r]},t.i)}(n=vr.prototype).destroy=function(){return wr(this),gr&&br(this),this.f&&(this.f.stop(),this.f=null),this.M=this.G=null,this.b=this.h=!1,this.o=this.m=this.g=this.c=this.a=this.i=null,Promise.resolve()},n.fa=function(){return this.b},n.bd=function(){return this.D},n.init=function(){if(t.chrome&&chrome.cast&&chrome.cast.isAvailable){delete t.__onGCastApiAvailable,this.h=!0,this.f.sc();var e=new chrome.cast.SessionRequest(this.T);e=new chrome.cast.ApiConfig(e,this.Od.bind(this),this.pf.bind(this),"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),yr&&this.f.O(.02),(e=gr)&&e.status!=chrome.cast.SessionStatus.STOPPED?this.Od(e):gr=null}else t.__onGCastApiAvailable=function(t){t&&this.init()}.bind(this)},n.hd=function(t){this.i=t,this.b&&Tr({type:"appData",appData:this.i})},n.cast=function(t){return this.h?yr?this.b?Promise.reject(new ht(1,8,8002)):(this.g=new pt,chrome.cast.requestSession(this.Zc.bind(this,t),this.Md.bind(this)),this.g):Promise.reject(new ht(1,8,8001)):Promise.reject(new ht(1,8,8e3))},n.Eb=function(){this.b&&(wr(this),gr&&(br(this),gr.stop(function(){},function(){}),gr=null))},n.get=function(t,e){if("video"==t){if(or.includes(e))return this.Yd.bind(this,t,e)}else if("player"==t){if(cr[e]&&!this.get("player","isLive")())return function(){};if(fr.includes(e))return this.Yd.bind(this,t,e);if(hr.includes(e))return this.Ef.bind(this,t,e);if(ur[e])return this.Vd.bind(this,t,e)}return this.Vd(t,e)},n.set=function(t,e,n){this.a[t][e]=n,Tr({type:"set",targetName:t,property:e,value:n})},n.Zc=function(t,e){gr=e,e.addUpdateListener(this.m),e.addMessageListener("urn:x-cast:com.google.shaka.v2",this.o),this.Nd(),Tr({type:"init",initState:t,appData:this.i}),this.g.resolve()},n.Md=function(t){var e=8003;switch(t.code){case"cancel":e=8004;break;case"timeout":e=8005;break;case"receiver_unavailable":e=8006}this.g.reject(new ht(2,8,e,t))},n.Vd=function(t,e){return this.a[t][e]},n.Yd=function(t,e,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];Tr({type:"call",targetName:t,methodName:e,args:r})},n.Ef=function(t,e,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];i=new pt;var a=this.v.toString();return this.v++,this.c[a]=i,Tr({type:"asyncCall",targetName:t,methodName:e,args:r,id:a}),i},n.Od=function(t){var e=this.C();this.g=new pt,this.l=!0,this.Zc(e,t)},n.pf=function(t){yr="available"==t,this.f.sc()},n.Nd=function(){var t=!!gr&&"connected"==gr.status;if(this.b&&!t){for(var e in this.M(),this.a)this.a[e]={};wr(this)}this.D=(this.b=t)?gr.receiver.friendlyName:"",this.f.sc()},n.kf=function(t,e){var n=mr(e);switch(n.type){case"event":var r=n.event;this.G(n.targetName,new St(r.type,r));break;case"update":for(var i in r=n.update)for(var a in n=this.a[i]||{},r[i])n[a]=r[i][a];this.l&&(this.P(),this.l=!1);break;case"asyncComplete":if(i=n.id,n=n.error,a=this.c[i],delete this.c[i],a)if(n){for(r in i=new ht(n.severity,n.category,n.code),n)i[r]=n[r];a.reject(i)}else a.resolve()}},F(Sr,Et),$("shaka.cast.CastProxy",Sr),Sr.prototype.destroy=function(t){return t&&this.a&&this.a.Eb(),this.i&&(this.i.release(),this.i=null),t=[],this.b&&(t.push(this.b.destroy()),this.b=null),this.a&&(t.push(this.a.destroy()),this.a=null),this.l=this.h=this.c=null,Promise.all(t)},Sr.prototype.destroy=Sr.prototype.destroy,Sr.prototype.Ye=function(){return this.h},Sr.prototype.getVideo=Sr.prototype.Ye,Sr.prototype.Re=function(){return this.l},Sr.prototype.getPlayer=Sr.prototype.Re,Sr.prototype.se=function(){return!!this.a&&(this.a.h&&yr)},Sr.prototype.canCast=Sr.prototype.se,Sr.prototype.fa=function(){return!!this.a&&this.a.fa()},Sr.prototype.isCasting=Sr.prototype.fa,Sr.prototype.bd=function(){return this.a?this.a.bd():""},Sr.prototype.receiverName=Sr.prototype.bd,Sr.prototype.cast=function(){if(!this.a)throw new ht(1,8,8007);var t=_r(this);return this.a.cast(t).then(function(){if(this.b)return this.b.qd()}.bind(this))},Sr.prototype.cast=Sr.prototype.cast,Sr.prototype.hd=function(t){this.a&&this.a.hd(t)},Sr.prototype.setAppData=Sr.prototype.hd,Sr.prototype.$f=function(){if(this.a){var t=this.a;if(t.b){var e=t.C();chrome.cast.requestSession(t.Zc.bind(t,e),t.Md.bind(t))}}},Sr.prototype.suggestDisconnect=Sr.prototype.$f,Sr.prototype.ve=function(t){var e=this;return h(function n(){return L(n,function(n){switch(n.j){case 1:if(t==e.m)return n.return();if(e.m=t,!e.a){n.A(2);break}return e.a.Eb(),S(n,e.a.destroy(),3);case 3:e.a=null;case 2:e.a=new vr(t,function(){return Er(e)},function(){return xr(e)},function(t,n){return kr(e,t,n)},function(){return Cr(e)},function(){return _r(e)}),e.a.init(),_(n)}})})},Sr.prototype.changeReceiverId=Sr.prototype.ve,Sr.prototype.Eb=function(){this.a&&this.a.Eb()},Sr.prototype.forceDisconnect=Sr.prototype.Eb,(n=Sr.prototype).hg=function(t){if("addEventListener"==t)return this.f.addEventListener.bind(this.f);if("removeEventListener"==t)return this.f.removeEventListener.bind(this.f);if(this.a&&this.a.fa()&&0==Object.keys(this.a.a.video).length){var e=this.c[t];if("function"!=typeof e)return e}return this.a&&this.a.fa()?this.a.get("video",t):("function"==typeof(t=this.c[t])&&(t=t.bind(this.c)),t)},n.jg=function(t,e){this.a&&this.a.fa()?this.a.set("video",t,e):this.c[t]=e},n.ig=function(t){this.a&&this.a.fa()||this.f.dispatchEvent(new St(t.type,t))},n.Ud=function(t){if("addEventListener"==t)return this.g.addEventListener.bind(this.g);if("removeEventListener"==t)return this.g.removeEventListener.bind(this.g);if("getMediaElement"==t)return function(){return this.h}.bind(this);if("getSharedConfiguration"==t)return this.a?this.a.get("player","getConfiguration"):this.b.getConfiguration();if("getNetworkingEngine"==t)return this.b.Fb.bind(this.b);if(this.a&&this.a.fa()){if("getManifest"==t||"drmInfo"==t)return function(){return G(t+"() does not work while casting!"),null};if("getManifestUri"==t)return Zn("getManifestUri",'Please use "getAssetUri" instead.'),this.Ud("getAssetUri");if("attach"==t||"detach"==t)return function(){return G(t+"() does not work while casting!"),Promise.resolve()}}return this.a&&this.a.fa()&&0==Object.keys(this.a.a.video).length&&ur[t]||!this.a||!this.a.fa()?this.b[t].bind(this.b):this.a.get("player",t)},n.yf=function(t){this.a&&this.a.fa()||this.g.dispatchEvent(t)},F(Ar,Et),$("shaka.cast.CastReceiver",Ar),Ar.prototype.isConnected=function(){return this.v},Ar.prototype.isConnected=Ar.prototype.isConnected,Ar.prototype.bf=function(){return this.h},Ar.prototype.isIdle=Ar.prototype.bf,Ar.prototype.destroy=function(){var t=this;return h(function e(){var n;return L(e,function(e){switch(e.j){case 1:return t.c&&(t.c.release(),t.c=null),n=[],t.b&&(n.push(t.b.destroy()),t.b=null),t.C&&(t.C.stop(),t.C=null),t.a=null,t.D=null,t.o=null,t.v=!1,t.h=!0,t.f=null,t.i=null,S(e,Promise.all(n),2);case 2:cast.receiver.CastReceiverManager.getInstance().stop(),_(e)}})})},Ar.prototype.destroy=Ar.prototype.destroy,(n=Ar.prototype).Qd=function(){this.g=0,this.l=!0,this.v=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Pr(this)},n.Wd=function(t,e){this.b&&(Mr(this),Or(this,{type:"event",targetName:t,event:e},this.f))},n.Be=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Or(this,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},this.f),Or(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.f)},n.rf=function(t){var e=mr(t.data);switch(e.type){case"init":this.g=0,this.m=!1,this.l=!0,function(t,e,n){for(var r in e.player)t.b[r](e.player[r]);t.o(n),n=Promise.resolve();var i=t.a.autoplay;e.manifest&&(t.a.autoplay=!1,n=t.b.load(e.manifest,e.startTime)),n.then(function(){if(t.b){for(var n in e.video)t.a[n]=e.video[n];for(var r in e.playerAfterLoad)t.b[r](e.playerAfterLoad[r]);t.a.autoplay=i,e.manifest&&(t.a.play(),Lr(t,0))}},function(e){t.b.dispatchEvent(new St("error",{detail:e}))})}(this,e.initState,e.appData),Mr(this);break;case"appData":this.o(e.appData);break;case"set":var n=e.targetName,r=e.property;if(e=e.value,"video"==n){var i=cast.receiver.CastReceiverManager.getInstance();if("volume"==r){i.setSystemVolumeLevel(e);break}if("muted"==r){i.setSystemVolumeMuted(e);break}}this.D[n][r]=e;break;case"call":(n=this.D[e.targetName])[e.methodName].apply(n,e.args);break;case"asyncCall":n=e.targetName,r=e.methodName,"player"==n&&"load"==r&&(this.g=0,this.m=!1),i=e.id,t=t.senderId;var a=this.D[n];e=a[r].apply(a,e.args),"player"==n&&"load"==r&&(e=e.then(function(){this.l=!0}.bind(this))),e.then(this.be.bind(this,t,i,null),this.be.bind(this,t,i))}},n.ef=function(t){var e=mr(t.data);switch(e.type){case"PLAY":this.a.play(),Lr(this,0);break;case"PAUSE":this.a.pause(),Lr(this,0);break;case"SEEK":t=e.currentTime;var n=e.resumeState;null!=t&&(this.a.currentTime=Number(t)),n&&"PLAYBACK_START"==n?(this.a.play(),Lr(this,0)):n&&"PLAYBACK_PAUSE"==n&&(this.a.pause(),Lr(this,0));break;case"STOP":this.b.qd().then(function(){this.b&&Lr(this,0)}.bind(this));break;case"GET_STATUS":Lr(this,Number(e.requestId));break;case"VOLUME":t=(n=e.volume).level,n=n.muted;var r=this.a.volume,i=this.a.muted;null!=t&&(this.a.volume=Number(t)),null!=n&&(this.a.muted=n),r==this.a.volume&&i==this.a.muted||Lr(this,0);break;case"LOAD":this.g=0,this.l=this.m=!1,t=e.media,n=e.currentTime,r=this.G(t.contentId),i=e.autoplay||!0,this.o(t.customData),i&&(this.a.autoplay=!0),this.b.load(r,n).then(function(){this.b&&Dr(this)}.bind(this)).catch(function(t){var n="LOAD_FAILED";7==t.category&&7e3==t.code&&(n="LOAD_CANCELLED"),Or(this,{requestId:Number(e.requestId),type:n},this.i)}.bind(this));break;default:Or(this,{requestId:Number(e.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.i)}},n.be=function(t,e,n){this.b&&Or(this,{type:"asyncComplete",id:e,error:n},this.f,t)};var Ur={IDLE:"IDLE",me:"PLAYING",je:"BUFFERING",le:"PAUSED"},Rr={ac:function(t,e){var n=Rr.R(t,e);return 1!=n.length?null:n[0]},yd:function(t,e,n){return 1!=(t=Rr.zd(t,e,n)).length?null:t[0]},R:function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return t instanceof Element&&t.tagName==e})},zd:function(t,e,n){return Array.prototype.filter.call(t.childNodes,function(t){return t instanceof Element&&t.localName==n&&t.namespaceURI==e})},getAttributeNS:function(t,e,n){return t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null},cc:function(t){return Array.prototype.every.call(t.childNodes,function(t){return t.nodeType==Node.TEXT_NODE||t.nodeType==Node.CDATA_SECTION_NODE})?t.textContent.trim():null},J:function(t,e,n,r){r=void 0===r?null:r;var i=null;return null!=(t=t.getAttribute(e))&&(i=n(t)),null==i?r:i},vf:function(t){return t?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),t=Date.parse(t),isNaN(t)?null:Math.floor(t/1e3)):null},Ba:function(t){return t&&(t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(t))?(t=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(t)?t:null):null},oc:function(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null},parseInt:function(t){return 0==(t=Number(t))%1?t:null},nc:function(t){return 0==(t=Number(t))%1&&0<t?t:null},vb:function(t){return 0==(t=Number(t))%1&&0<=t?t:null},parseFloat:function(t){return t=Number(t),isNaN(t)?null:t},Ae:function(t){var e;return t=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1])/Number(e[2]):Number(t),isNaN(t)?null:t},Td:function(t,e){var n=new DOMParser;try{var r=n.parseFromString(t,"text/xml")}catch(t){}if(r&&r.documentElement.tagName==e)var i=r.documentElement;return i&&0<i.getElementsByTagName("parsererror").length?null:i},Sd:function(t,e){try{var n=ne(t);return Rr.Td(n,e)}catch(t){}}},Nr=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime");function jr(t,e,n){var r=function(t){for(var e=[],n=(t=d(t)).next();!n.done;n=t.next())(n=$r(n.value))&&e.push(n);return e}(t),i=null;t=[];var a=[],o=new Set(r.map(function(t){return t.keyId}));if(o.delete(null),1<o.size)throw new ht(2,4,4010);if(n||(a=r.filter(function(t){return"urn:mpeg:dash:mp4protection:2011"!=t.ae||(i=t.init||i,!1)})).length&&(0==(t=function(t,e,n){for(var r=[],i=(n=d(n)).next();!i.done;i=n.next()){i=i.value;var a=Nr.get(i.ae);if(a){var o=He(a,i.init||t);(a=Br.get(a))&&(o.licenseServerUri=a(i)),r.push(o)}else for(i=d(i=e(i.node)||[]),o=i.next();!o.done;o=i.next())r.push(o.value)}return r}(i,e,a)).length&&(t=[He("",i)])),r.length&&(n||!a.length))for(t=[],n=(e=d(Nr.values())).next();!n.done;n=e.next())"org.w3.clearkey"!=(n=n.value)&&t.push(He(n,i));if(o=Array.from(o)[0]||null)for(n=(e=d(t)).next();!n.done;n=e.next())for(r=(n=d(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=o;return{vd:o,pg:i,drmInfos:t,Ad:!0}}var Br=(new Map).set("com.widevine.alpha",function(t){return(t=Rr.yd(t.node,"urn:microsoft","laurl"))&&t.getAttribute("licenseUrl")||""}).set("com.microsoft.playready",function(t){return(t=Rr.yd(t.node,"urn:microsoft:playready","pro"))&&(t=function(t){var e=0,n=new DataView(t).getUint32(e,!0);if(n!==t.byteLength)return[];e+=6,n=[];for(var r=new DataView(t);e<t.byteLength-1;){var i=r.getUint16(e,!0);e+=2;var a=r.getUint16(e,!0);e+=2;var o=new Uint8Array(t,e,a);n.push({type:i,value:o}),e+=a}return n}((t=le(t.textContent)).buffer).filter(function(t){return 1===t.type})[0])?(t=re(t.value,!0),(t=Rr.Td(t,"WRMHEADER"))?function(t){return(t=t.querySelector("DATA > LA_URL"))?t.textContent:""}(t):""):""});function $r(t){var e=t.getAttribute("schemeIdUri"),n=Rr.getAttributeNS(t,"urn:mpeg:cenc:2013","default_KID"),r=Rr.zd(t,"urn:mpeg:cenc:2013","pssh").map(Rr.cc);if(!e)return null;if(e=e.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new ht(2,4,4009);var i=[];try{i=r.map(function(t){return{initDataType:"cenc",initData:le(t),keyId:null}})}catch(t){throw new ht(2,4,4007)}return{node:t,ae:e,keyId:n,init:0<i.length?i:null}}function Fr(e,n,r,i,a){var o={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(e,n,r,i){if("$$"==e)return"$";var a=o[n];if(null==a)return e;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(a=Math.round(a)),i){case void 0:case"d":case"i":case"u":e=a.toString();break;case"o":e=a.toString(8);break;case"x":e=a.toString(16);break;case"X":e=a.toString(16).toUpperCase();break;default:e=a.toString()}return r=t.parseInt(r,10)||1,Array(Math.max(0,r-e.length)+1).join("0")+e})}function Vr(t,e){var n=Hr(t,e,"timescale"),r=1;n&&(r=Rr.nc(n)||1),n=Hr(t,e,"duration"),(n=Rr.nc(n||""))&&(n/=r);var i=Hr(t,e,"startNumber"),a=Number(Hr(t,e,"presentationTimeOffset"))||0,o=Rr.vb(i||"");null!=i&&null!=o||(o=1);var s=qr(t,e,"SegmentTimeline");if(i=null,s){i=r;var u=t.S.duration||1/0;s=Rr.R(s,"S");for(var c=[],l=0,d=0;d<s.length;++d){var f=s[d],h=Rr.J(f,"t",Rr.vb),p=Rr.J(f,"d",Rr.vb);if(f=Rr.J(f,"r",Rr.parseInt),null!=h&&(h-=a),!p)break;if(h=null!=h?h:l,0>(f=f||0))if(d+1<s.length){if(null==(f=Rr.J(s[d+1],"t",Rr.vb)))break;if(h>=f)break;f=Math.ceil((f-h)/p)-1}else{if(1/0==u)break;if(h/i>=u)break;f=Math.ceil((u*i-h)/p)-1}0<c.length&&h!=l&&(c[c.length-1].end=h/i);for(var m=0;m<=f;++m)l=h+p,c.push({start:h/i,end:l/i,eg:h}),h=l}i=c}return{timescale:r,Z:n,Za:o,la:a/r||0,rd:a,N:i}}function Hr(t,e,n){return[e(t.B),e(t.ca),e(t.ja)].filter(Fe.Ga).map(function(t){return t.getAttribute(n)}).reduce(function(t,e){return t||e})}function qr(t,e,n){return[e(t.B),e(t.ca),e(t.ja)].filter(Fe.Ga).map(function(t){return Rr.ac(t,n)}).reduce(function(t,e){return t||e})}function zr(t,e,n,r,i,a){if(a=void 0===a?0:a,Rr.getAttributeNS(t,"http://www.w3.org/1999/xlink","href")){var o=function(t,e,n,r,i,a){for(var o=Rr.getAttributeNS(t,"http://www.w3.org/1999/xlink","href"),s=Rr.getAttributeNS(t,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=0;u<t.attributes.length;u++){var c=t.attributes[u];"http://www.w3.org/1999/xlink"==c.namespaceURI&&(t.removeAttributeNS(c.namespaceURI,c.localName),--u)}if(5<=a)return vt(new ht(2,4,4028));if("onLoad"!=s)return vt(new ht(2,4,4027));var l=Ve([r],[o]);return i.request(0,Ut(l,e)).U(function(r){if(!(r=Rr.Sd(r.data,t.tagName)))return vt(new ht(2,4,4001,o));for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),t.appendChild(s)}for(s=0;s<r.attributes.length;s++){var u=r.attributes[s].nodeName,c=r.getAttribute(u);t.setAttribute(u,c)}return zr(t,e,n,l[0],i,a+1)})}(t,e,n,r,i,a);return n&&(o=o.U(void 0,function(){return zr(t,e,n,r,i,a)})),o}o=[];for(var s=0;s<t.childNodes.length;s++){var u=t.childNodes[s];u instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==Rr.getAttributeNS(u,"http://www.w3.org/1999/xlink","href")?(t.removeChild(u),--s):"SegmentTimeline"!=u.tagName&&o.push(zr(u,e,n,r,i,a)))}return wt(o).U(function(){return t})}function Kr(t,e,n){this.c=t,this.b=e,this.a=n}function Gr(t,e,n,r,i,a){this.position=t,this.startTime=e,this.endTime=n,this.c=r,this.b=i,this.a=a}function Wr(t,e){this.K=t,this.b=e==Yr,this.a=0}$("shaka.media.InitSegmentReference",Kr),Kr.prototype.Ac=function(){return this.c()},Kr.prototype.createUris=Kr.prototype.Ac,Kr.prototype.Kc=function(){return this.b},Kr.prototype.getStartByte=Kr.prototype.Kc,Kr.prototype.Jc=function(){return this.a},Kr.prototype.getEndByte=Kr.prototype.Jc,$("shaka.media.SegmentReference",Gr),Gr.prototype.ba=function(){return this.position},Gr.prototype.getPosition=Gr.prototype.ba,Gr.prototype.Lc=function(){return this.startTime},Gr.prototype.getStartTime=Gr.prototype.Lc,Gr.prototype.Ge=function(){return this.endTime},Gr.prototype.getEndTime=Gr.prototype.Ge,Gr.prototype.Ac=function(){return this.c()},Gr.prototype.createUris=Gr.prototype.Ac,Gr.prototype.Kc=function(){return this.b},Gr.prototype.getStartByte=Gr.prototype.Kc,Gr.prototype.Jc=function(){return this.a},Gr.prototype.getEndByte=Gr.prototype.Jc,$("shaka.util.DataViewReader",Wr);var Xr,Yr=1;function Qr(){throw new ht(2,3,3e3)}function Jr(){this.c=[],this.b=[],this.a=!1}function Zr(t){for(;t.reader.sa()&&!t.parser.a;)t.parser.mc(t.start,t.reader,t.partialOkay)}function ti(t){for(var e=t.reader.F();0<e&&!t.parser.a;--e)t.parser.mc(t.start,t.reader,t.partialOkay)}function ei(t){return function(e){t(e.reader.Xa(e.reader.K.byteLength-e.reader.ba()))}}function ni(t){for(var e=0,n=0;n<t.length;n++)e=e<<8|t.charCodeAt(n);return e}function ri(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function ii(t,e,n,r){var i,a=(new Jr).ea("sidx",function(t){i=function(t,e,n,r){var i=[];r.reader.L(4);var a=r.reader.F();if(0==a)throw new ht(2,3,3005);if(0==r.version)var o=r.reader.F(),s=r.reader.F();else o=r.reader.yb(),s=r.reader.yb();r.reader.L(2);var u=r.reader.Mb();for(t=t+r.size+s,s=0;s<u;s++){var c=r.reader.F(),l=(2147483648&c)>>>31;c&=2147483647;var d=r.reader.F();if(r.reader.L(4),1==l)throw new ht(2,3,3006);i.push(new Gr(i.length,o/a-e,(o+d)/a-e,function(){return n},t,t+c-1)),o+=d,t+=c}return r.parser.stop(),i}(e,r,n,t)});if(t&&a.parse(t),i)return i;throw new ht(2,3,3004)}function ai(t){this.a=t}function oi(t,e){for(;t.a.length&&t.a[t.a.length-1].startTime>=e;)t.a.pop();for(;t.a.length&&0>=t.a[0].endTime;)t.a.shift();if(0!=t.a.length){var n=t.a[t.a.length-1];t.a[t.a.length-1]=new Gr(n.position,n.startTime,e,n.c,n.b,n.a)}}function si(t){this.b=t,this.a=new Wr(t,0),Xr||(Xr=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function ui(t){var e=ci(t);if(7<e.length)throw new ht(2,3,3002);for(var n=0,r=0;r<e.length;r++)n=256*n+e[r];e=n,n=ci(t);t:{for(r=0;r<Xr.length;r++)if(he(n,Xr[r])){r=!0;break t}r=!1}if(r)n=t.b.byteLength-t.a.ba();else{if(8==n.length&&224&n[1])throw new ht(2,3,3001);r=n[0]&(1<<8-n.length)-1;for(var i=1;i<n.length;i++)r=256*r+n[i];n=r}return n=t.a.ba()+n<=t.b.byteLength?n:t.b.byteLength-t.a.ba(),r=new DataView(t.b.buffer,t.b.byteOffset+t.a.ba(),n),t.a.L(n),new li(e,r)}function ci(t){var e,n=t.a.ka();for(e=1;8>=e&&!(n&1<<8-e);e++);if(8<e)throw new ht(2,3,3002);var r=new Uint8Array(e);for(r[0]=n,n=1;n<e;n++)r[n]=t.a.ka();return r}function li(t,e){this.id=t,this.a=e}function di(t){if(8<t.a.byteLength)throw new ht(2,3,3002);if(8==t.a.byteLength&&224&t.a.getUint8(0))throw new ht(2,3,3001);for(var e=0,n=0;n<t.a.byteLength;n++){e=256*e+t.a.getUint8(n)}return e}function fi(){}function hi(t){var e=new si(t.a);if(179!=(t=ui(e)).id)throw new ht(2,3,3013);if(t=di(t),183!=(e=ui(e)).id)throw new ht(2,3,3012);e=new si(e.a);for(var n=0;e.sa();){var r=ui(e);if(241==r.id){n=di(r);break}}return{fg:t,Df:n}}function pi(t,e){var n=qr(t,e,"Initialization");if(!n)return null;var r=t.B.oa,i=n.getAttribute("sourceURL");i&&(r=Ve(t.B.oa,[i])),i=0;var a=null;return(n=Rr.J(n,"range",Rr.oc))&&(i=n.start,a=n.end),new Kr(function(){return r},i,a)}function mi(t,e,n,r,i,a,o,s){var u=t.presentationTimeline,c=!t.kb||!t.S.Pc,l=t.S.start,d=t.S.duration,f=e,h=null;return{createSegmentIndex:function(){var t=[f(r,i,a),"webm"==o?f(n.c(),n.b,n.a):null];return f=null,Promise.all(t).then(function(t){var e=t[0];t=t[1]||null,e="mp4"==o?ii(e,i,r,s):(new fi).parse(e,t,r,s),u.sb(e,l),h=new ai(e),c&&oi(h,d)})},findSegmentPosition:function(t){return h.find(t)},getSegmentReference:function(t){return h.get(t)}}}function vi(t){return t.Ob}function yi(t,e){var n=pi(t,gi),r=function(t){return[t.B.Ja,t.ca.Ja,t.ja.Ja].filter(Fe.Ga).map(function(t){return Rr.R(t,"SegmentURL")}).reduce(function(t,e){return 0<t.length?t:e}).map(function(e){e.getAttribute("indexRange")&&!t.Fd&&(t.Fd=!0);var n=e.getAttribute("media");return e=Rr.J(e,"mediaRange",Rr.oc,{start:0,end:null}),{cf:n,start:e.start,end:e.end}})}(t),i=Vr(t,gi),a=i.Za;0==a&&(a=1);var o=0;if(i.Z?o=i.Z*(a-1):i.N&&0<i.N.length&&(o=i.N[0].start),!(r={Z:i.Z,startTime:o,Za:a,la:i.la,N:i.N,qb:r}).Z&&!r.N&&1<r.qb.length)throw new ht(2,4,4002);if(!r.Z&&!t.S.duration&&!r.N&&1==r.qb.length)throw new ht(2,4,4002);if(r.N&&0==r.N.length)throw new ht(2,4,4002);return a=i=null,t.ja.id&&t.B.id&&(i=e[a=t.ja.id+","+t.B.id]),o=function(t,e,n,r){var i=r.qb.length;r.N&&r.N.length!=r.qb.length&&(i=Math.min(r.N.length,r.qb.length));for(var a=[],o=r.startTime,s=0;s<i;s++){var u=r.qb[s],c=Ve(n,[u.cf]),l=void 0;l=null!=r.Z?o+r.Z:r.N?r.N[s].end:o+t,a.push(new Gr(s+e,o,l,function(t){return t}.bind(null,c),u.start,u.end)),o=l}return a}(t.S.duration,r.Za,t.B.oa,r),i?(i.Sc(o),a=t.presentationTimeline.Hb(),i.Dc(a-t.S.start)):(t.presentationTimeline.sb(o,t.S.start),i=new ai(o),a&&t.kb&&(e[a]=i)),t.kb&&t.S.Pc||oi(i,t.S.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:n,la:r.la}}function gi(t){return t.Ja}function bi(t,e,n,r){var i=function(t){var e=Hr(t,wi,"initialization");if(!e)return null;var n=t.B.id,r=t.bandwidth||null,i=t.B.oa;return new Kr(function(){var t=Fr(e,n,null,r,null);return Ve(i,[t])},0,null)}(t),a=Vr(t,wi),o=Hr(t,wi,"media"),s=Hr(t,wi,"index");if(o=(a={Z:a.Z,timescale:a.timescale,Za:a.Za,la:a.la,rd:a.rd,N:a.N,Rc:o,Jb:s}).Jb?1:0,o+=a.N?1:0,0==(o+=a.Z?1:0))throw new ht(2,4,4002);if(1!=o&&(a.Jb&&(a.N=null),a.Z=null),!a.Jb&&!a.Rc)throw new ht(2,4,4002);if(a.Jb){if("mp4"!=(n=t.B.mimeType.split("/")[1])&&"webm"!=n)throw new ht(2,4,4006);if("webm"==n&&!i)throw new ht(2,4,4005);r=Fr(a.Jb,t.B.id,null,t.bandwidth||null,null),t=mi(t,e,i,r=Ve(t.B.oa,[r]),0,null,n,a.la)}else a.Z?(r||(t.presentationTimeline.Uc(a.Z),t.presentationTimeline.Vc(t.S.start)),t=function(t,e){var n=t.S.duration,r=e.Z,i=e.Za,a=e.timescale,o=e.Rc,s=t.bandwidth||null,u=t.B.id,c=t.B.oa;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0>t||n&&t>=n?null:Math.floor(t/r)},getSegmentReference:function(t){var e=t*r,l=e+r;return n&&(l=Math.min(l,n)),0>l||n&&e>=n?null:new Gr(t,e,l,function(){var n=Fr(o,u,t+i,s,e*a);return Ve(c,[n])},0,null)}}}(t,a)):(o=e=null,t.ja.id&&t.B.id&&(e=n[o=t.ja.id+","+t.B.id]),s=function(t,e){for(var n=[],r=0;r<e.N.length;r++){var i=r+e.Za;n.push(new Gr(i,e.N[r].start,e.N[r].end,function(t,e,n,r,i,a){return t=Fr(t,e,i,n,a),Ve(r,[t]).map(function(t){return t.toString()})}.bind(null,e.Rc,t.B.id,t.bandwidth||null,t.B.oa,i,e.N[r].eg+e.rd),0,null))}return n}(t,a),r=!t.kb||!t.S.Pc,e?(r&&oi(new ai(s),t.S.duration),e.Sc(s),n=t.presentationTimeline.Hb(),e.Dc(n-t.S.start)):(t.presentationTimeline.sb(s,t.S.start),e=new ai(s),o&&t.kb&&(n[o]=e)),r&&oi(e,t.S.duration),t={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e)});return{createSegmentIndex:t.createSegmentIndex,findSegmentPosition:t.findSegmentPosition,getSegmentReference:t.getSegmentReference,initSegmentReference:i,la:a.la}}function wi(t){return t.Qb}Wr.Endianness={lg:0,mg:Yr},Wr.prototype.sa=function(){return this.a<this.K.byteLength},Wr.prototype.hasMoreData=Wr.prototype.sa,Wr.prototype.ba=function(){return this.a},Wr.prototype.getPosition=Wr.prototype.ba,Wr.prototype.Ie=function(){return this.K.byteLength},Wr.prototype.getLength=Wr.prototype.Ie,Wr.prototype.ka=function(){try{var t=this.K.getUint8(this.a);return this.a+=1,t}catch(t){Qr()}},Wr.prototype.readUint8=Wr.prototype.ka,Wr.prototype.Mb=function(){try{var t=this.K.getUint16(this.a,this.b);return this.a+=2,t}catch(t){Qr()}},Wr.prototype.readUint16=Wr.prototype.Mb,Wr.prototype.F=function(){try{var t=this.K.getUint32(this.a,this.b);return this.a+=4,t}catch(t){Qr()}},Wr.prototype.readUint32=Wr.prototype.F,Wr.prototype.Xd=function(){try{var t=this.K.getInt32(this.a,this.b);return this.a+=4,t}catch(t){Qr()}},Wr.prototype.readInt32=Wr.prototype.Xd,Wr.prototype.yb=function(){try{if(this.b)var t=this.K.getUint32(this.a,!0),e=this.K.getUint32(this.a+4,!0);else e=this.K.getUint32(this.a,!1),t=this.K.getUint32(this.a+4,!1)}catch(t){Qr()}if(2097151<e)throw new ht(2,3,3001);return this.a+=8,e*Math.pow(2,32)+t},Wr.prototype.readUint64=Wr.prototype.yb,Wr.prototype.Xa=function(t){this.a+t>this.K.byteLength&&Qr();var e=new Uint8Array(this.K.buffer,this.K.byteOffset+this.a,t);return this.a+=t,new Uint8Array(e)},Wr.prototype.readBytes=Wr.prototype.Xa,Wr.prototype.L=function(t){this.a+t>this.K.byteLength&&Qr(),this.a+=t},Wr.prototype.skip=Wr.prototype.L,Wr.prototype.$d=function(t){this.a<t&&Qr(),this.a-=t},Wr.prototype.rewind=Wr.prototype.$d,Wr.prototype.seek=function(t){(0>t||t>this.K.byteLength)&&Qr(),this.a=t},Wr.prototype.seek=Wr.prototype.seek,Wr.prototype.ad=function(){for(var t=this.a;this.sa()&&0!=this.K.getUint8(this.a);)this.a+=1;return t=new Uint8Array(this.K.buffer,this.K.byteOffset+t,this.a-t),this.a+=1,ne(t)},Wr.prototype.readTerminatedString=Wr.prototype.ad,$("shaka.util.Mp4Parser",Jr),Jr.prototype.H=function(t,e){var n=ni(t);return this.c[n]=0,this.b[n]=e,this},Jr.prototype.box=Jr.prototype.H,Jr.prototype.ea=function(t,e){var n=ni(t);return this.c[n]=1,this.b[n]=e,this},Jr.prototype.fullBox=Jr.prototype.ea,Jr.prototype.stop=function(){this.a=!0},Jr.prototype.stop=Jr.prototype.stop,Jr.prototype.parse=function(t,e){var n=new Uint8Array(t);for(n=new Wr(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.sa()&&!this.a;)this.mc(0,n,e)},Jr.prototype.parse=Jr.prototype.parse,Jr.prototype.mc=function(t,e,n){var r=e.ba(),i=e.F(),a=e.F();switch(i){case 0:i=e.K.byteLength-r;break;case 1:i=e.yb()}var o=this.b[a];if(o){var s=null,u=null;1==this.c[a]&&(s=(u=e.F())>>>24,u&=16777215),a=r+i,n&&a>e.K.byteLength&&(a=e.K.byteLength),a-=e.ba(),e=0<a?e.Xa(a):new Uint8Array(0),o({parser:this,partialOkay:n||!1,version:s,flags:u,reader:e=new Wr(new DataView(e.buffer,e.byteOffset,e.byteLength),0),size:i,start:r+t})}else e.L(Math.min(r+i-e.ba(),e.K.byteLength-e.ba()))},Jr.prototype.parseNext=Jr.prototype.mc,Jr.children=Zr,Jr.sampleDescription=ti,Jr.allData=ei,Jr.typeToString=ri,$("shaka.media.SegmentIndex",ai),ai.prototype.destroy=function(){return this.a=null,Promise.resolve()},ai.prototype.destroy=ai.prototype.destroy,ai.prototype.find=function(t){for(var e=this.a.length-1;0<=e;--e){var n=this.a[e];if(t>=n.startTime&&t<n.endTime)return n.position}return this.a.length&&t<this.a[0].startTime?this.a[0].position:null},ai.prototype.find=ai.prototype.find,ai.prototype.get=function(t){return 0==this.a.length?null:0>(t-=this.a[0].position)||t>=this.a.length?null:this.a[t]},ai.prototype.get=ai.prototype.get,ai.prototype.offset=function(t){for(var e=0;e<this.a.length;++e)this.a[e].startTime+=t,this.a[e].endTime+=t},ai.prototype.offset=ai.prototype.offset,ai.prototype.Sc=function(t){for(var e=[],n=0,r=0;n<this.a.length&&r<t.length;){var i=this.a[n],a=t[r];i.startTime<a.startTime?(e.push(i),n++):(i.startTime>a.startTime?0==n&&e.push(a):(.1<Math.abs(i.endTime-a.endTime)?e.push(new Gr(i.position,a.startTime,a.endTime,a.c,a.b,a.a)):e.push(i),n++),r++)}for(;n<this.a.length;)e.push(this.a[n++]);if(e.length)for(n=e[e.length-1].position+1;r<t.length;)i=new Gr(n++,(i=t[r++]).startTime,i.endTime,i.c,i.b,i.a),e.push(i);else e=t;this.a=e},ai.prototype.merge=ai.prototype.Sc,ai.prototype.Dc=function(t){for(var e=0;e<this.a.length;++e)if(this.a[e].endTime>t)return void this.a.splice(0,e);this.a=[]},ai.prototype.evict=ai.prototype.Dc,si.prototype.sa=function(){return this.a.sa()},fi.prototype.parse=function(t,e,n,r){var i;if(440786851!=ui(e=new si(new DataView(e))).id)throw new ht(2,3,3008);var a=ui(e);if(408125543!=a.id)throw new ht(2,3,3009);for(e=a.a.byteOffset,a=new si(a.a),i=null;a.sa();){var o=ui(a);if(357149030==o.id){i=o;break}}if(!i)throw new ht(2,3,3010);for(a=new si(i.a),i=1e6,o=null;a.sa();){var s=ui(a);if(2807729==s.id)i=di(s);else if(17545==s.id)if(4==(o=s).a.byteLength)o=o.a.getFloat32(0);else{if(8!=o.a.byteLength)throw new ht(2,3,3003);o=o.a.getFloat64(0)}}if(null==o)throw new ht(2,3,3011);if(i=o*(a=i/1e9),475249515!=(t=ui(new si(new DataView(t)))).id)throw new ht(2,3,3007);return function(t,e,n,r,i,a){function o(){return i}var s=[];t=new si(t.a);for(var u=null,c=null;t.sa();){var l=ui(t);if(187==l.id){var d=hi(l);d&&(l=n*d.fg,d=e+d.Df,null!=u&&s.push(new Gr(s.length,u-a,l-a,o,c,d-1)),u=l,c=d)}}return null!=u&&s.push(new Gr(s.length,u-a,r-a,o,c,null)),s}(t,e,a,i,n,r)};var Ti={wb:{},Lb:{},dd:function(t,e){Ti.Lb[t]=e}};function Si(t,e,n){this.f=t,this.pc=e,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.l=0,this.m=!0,this.i=0,this.o=void 0===n||n}function _i(t,e,n,r){return t=Ut(t,r),0==e&&null==n||(t.headers.Range=n?"bytes="+e+"-"+n:"bytes="+e+"-"),t}function Ei(){var t=this;this.a=this.b=null,this.f=[],this.c=null,this.l=[],this.h=1,this.m={},this.o=0,this.v=new V(5),this.i=new lt(function(){!function(t){h(function e(){var n,r;return L(e,function(e){switch(e.j){case 1:return n=0,E(e,2),S(e,xi(t),4);case 4:n=e.s,C(e,3);break;case 2:r=k(e),t.a&&(r.severity=1,t.a.onError(r));case 3:if(!t.a)return e.return();Pi(t,n),_(e)}})})}(t)}),this.g=new Pt}function xi(t){var e=Date.now(),n=t.a.networkingEngine.request(0,Ut(t.f,t.b.retryParameters));return Mt(t.g,n),n.promise.then(function(e){if(t.a)return e.uri&&!t.f.includes(e.uri)&&t.f.unshift(e.uri),function(t,e,n){if(!(e=Rr.Sd(e,"MPD")))throw new ht(2,4,4001,n);return e=zr(e,t.b.retryParameters,t.b.dash.xlinkFailGracefully,n,t.a.networkingEngine),Mt(t.g,e),e.promise.then(function(e){return function(t,e,n){return h(function r(){var i,a,o,s,u,c,l,d,f,h,p,m,v,y,g,b,w,T,E,x,C,k,A;return L(r,function(r){switch(r.j){case 1:s=Fe,c=[n],0<(l=(u=Rr).R(e,"Location").map(u.cc).filter(s.Ga)).length&&(d=Ve(c,l),c=t.f=d),f=u.R(e,"BaseURL").map(u.cc),h=Ve(c,f),p=t.b.dash.ignoreMinBufferTime,m=0,p||(m=u.J(e,"minBufferTime",u.Ba)),t.o=u.J(e,"minimumUpdatePeriod",u.Ba,-1),v=u.J(e,"availabilityStartTime",u.vf),y=u.J(e,"timeShiftBufferDepth",u.Ba),g=u.J(e,"suggestedPresentationDelay",u.Ba),b=u.J(e,"maxSegmentDuration",u.Ba),w=e.getAttribute("type")||"static",t.c?T=t.c.presentationTimeline:(E=Math.max(t.b.dash.defaultPresentationDelay,1.5*m),T=new Si(v,null!=g?g:E,t.b.dash.autoCorrectDrift));for(var P={kb:"static"!=w,presentationTimeline:T,ja:null,S:null,ca:null,B:null,bandwidth:0,Fd:!1},M=h,I=Rr.J(e,"mediaPresentationDuration",Rr.Ba),D=[],O=0,L=Rr.R(e,"Period"),U=0;U<L.length;U++){var R=L[U];O=Rr.J(R,"start",Rr.Ba,O);var N=Rr.J(R,"duration",Rr.Ba),j=null;if(U!=L.length-1){var B=Rr.J(L[U+1],"start",Rr.Ba);null!=B&&(j=B-O)}else null!=I&&(j=I-O);if(null==j&&(j=N),R=Ci(t,P,M,{start:O,duration:j,node:R,Pc:null==j||U==L.length-1}),D.push(R),N=P.ja.id,t.l.includes(N)||(t.l.push(N),t.c&&(t.a.filterNewPeriod(R),t.c.periods.push(R))),null==j){O=null;break}O+=j}if(null==t.c&&t.a.filterAllPeriods(D),null!=I?(i=D,a=I,o=!1):(i=D,a=O,o=!0),x=a,C=i,T.Rb("static"==w),"static"!=w&&o||T.wa(x||1/0),T.V()&&!isNaN(t.b.availabilityWindowOverride)&&(y=t.b.availabilityWindowOverride),null==y&&(y=1/0),T.ld(y),T.Uc(b||1),t.c){r.A(0);break}if(t.c={presentationTimeline:T,periods:C,offlineSessionIds:[],minBufferTime:m||0},!T.he()){r.A(0);break}return k=u.R(e,"UTCTiming"),S(r,function(t,e,n){n=n.map(function(t){return{scheme:t.getAttribute("schemeIdUri"),value:t.getAttribute("value")}});var r=t.b.dash.clockSyncUri;return!n.length&&r&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),Fe.ye(n,function(t){var n=t.scheme;switch(t=t.value,n){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Ii(this,e,t,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Ii(this,e,t,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return n=Date.parse(t),isNaN(n)?0:n-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return G("NTP UTCTiming scheme is not supported"),Promise.reject();default:return G("Unrecognized scheme in UTCTiming element",n),Promise.reject()}}.bind(t)).catch(function(){return G("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),0})}(t,h,k),4);case 4:if(A=r.s,!t.a)return r.return();T.ce(A),_(r)}})})}(t,e,n)})}(t,e.data,e.uri)}).then(function(){var n=(Date.now()-e)/1e3;return H(t.v,1,n),n})}function Ci(t,e,n,r){if(e.ja=Mi(r.node,null,n),e.S=r,e.ja.id||(e.ja.id="__shaka_period_"+r.start),Rr.R(r.node,"EventStream").forEach(t.wf.bind(t,r.start,r.duration)),n=Rr.R(r.node,"AdaptationSet").map(t.uf.bind(t,e)).filter(Fe.Ga),e.kb){e=[];for(var i=d(n),a=i.next();!a.done;a=i.next())for(var o=(a=d(a.value.Gf)).next();!o.done;o=a.next())e.push(o.value);if(e.length!=new Set(e).size)throw new ht(2,4,4018)}var s=n.filter(function(t){return!t.pd});if(n.filter(function(t){return t.pd}).forEach(function(t){var e=t.streams[0],n=t.pd;s.forEach(function(t){t.id==n&&t.streams.forEach(function(t){t.trickModeVideo=e})})}),e=ki(s,"video"),i=ki(s,"audio"),!e.length&&!i.length)throw new ht(2,4,4004);for(i.length||(i=[null]),e.length||(e=[null]),n=[],a=0;a<i.length;a++)for(o=0;o<e.length;o++)Ai(t,i[a],e[o],n);for(t=ki(s,"text"),e=[],i=0;i<t.length;i++)e.push.apply(e,t[i].streams);return{startTime:r.start,textStreams:e,variants:n}}function ki(t,e){return t.filter(function(t){return t.contentType==e})}function Ai(t,e,n,r){if(e||n)if(e&&n){var i=e.drmInfos,a=n.drmInfos;if(!i.length||!a.length||0<Pe(i,a).length){a=Pe(e.drmInfos,n.drmInfos);for(var o=0;o<e.streams.length;o++)for(var s=0;s<n.streams.length;s++)i=(n.streams[s].bandwidth||0)+(e.streams[o].bandwidth||0),i={id:t.h++,language:e.language,primary:e.Qc||n.Qc,audio:e.streams[o],video:n.streams[s],bandwidth:i,drmInfos:a,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}}else for(a=e||n,o=0;o<a.streams.length;o++)i=a.streams[o].bandwidth||0,i={id:t.h++,language:a.language||"und",primary:a.Qc,audio:e?a.streams[o]:null,video:n?a.streams[o]:null,bandwidth:i,drmInfos:a.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}function Pi(t,e){0>t.o||t.i.O(Math.max(3,t.o-e,q(t.v)))}function Mi(t,e,n){e=e||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,Wc:null},n=n||e.oa;var r=Rr.vb,i=Rr.Ae,a=Rr.R(t,"BaseURL").map(Rr.cc),o=t.getAttribute("contentType")||e.contentType,s=t.getAttribute("mimeType")||e.mimeType,u=t.getAttribute("codecs")||e.codecs;i=Rr.J(t,"frameRate",i)||e.frameRate;for(var c=Rr.R(t,"InbandEventStream"),l=e.emsgSchemeIdUris.slice(),f=(c=d(c)).next();!f.done;f=c.next())f=f.value.getAttribute("schemeIdUri"),l.includes(f)||l.push(f);return c=function(t){for(var e=0;e<t.length;++e){var n=t[e],r=n.getAttribute("schemeIdUri");if(r&&(n=n.getAttribute("value")))switch(r){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(r=parseInt(n,10)))continue;return r;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(r=parseInt(n,16)){for(t=0;r;)1&r&&++t,r>>=1;return t}}}return null}(c=Rr.R(t,"AudioChannelConfiguration"))||e.Wc,o||(o=Di(s,u)),{oa:Ve(n,a),Ob:Rr.ac(t,"SegmentBase")||e.Ob,Ja:Rr.ac(t,"SegmentList")||e.Ja,Qb:Rr.ac(t,"SegmentTemplate")||e.Qb,width:Rr.J(t,"width",r)||e.width,height:Rr.J(t,"height",r)||e.height,contentType:o,mimeType:s,codecs:u,frameRate:i,emsgSchemeIdUris:l,id:t.getAttribute("id"),Wc:c}}function Ii(t,e,n,r){return(e=Ut(e=Ve(e,[n]),t.b.retryParameters)).method=r,e=t.a.networkingEngine.request(4,e),Mt(t.g,e),e.promise.then(function(t){if("HEAD"==r){if(!t.headers||!t.headers.date)return 0;t=t.headers.date}else t=ne(t.data);return t=Date.parse(t),isNaN(t)?0:t-Date.now()})}function Di(t,e){return mn(Wt(t,e))?"text":t.split("/")[0]}function Oi(t,e,n,r){this.b=t,this.type=e,this.a=n,this.segments=r||null}function Li(t,e,n,r){this.id=t,this.name=e,this.a=n,this.value=void 0===r?null:r}function Ui(t,e){this.name=t,this.value=e}function Ri(t,e,n){return(t=t.getAttribute(e))?t.value:n||null}function Ni(t,e){this.b=e,this.a=t}$("shaka.media.ManifestParser.registerParserByExtension",Ti.dd),Ti.Nb=function(t,e){Ti.wb[t]=e},$("shaka.media.ManifestParser.registerParserByMime",Ti.Nb),Ti.Af=function(){var t={};if(Qt()){for(var e in Ti.wb)t[e]=!0;for(var n in Ti.Lb)t[n]=!0}e={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var r=(n=d(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!r.done;r=n.next())t[r=r.value]=Qt()?!!Ti.wb[r]:Jt(r);for(var i in e)t[i]=Qt()?!!Ti.Lb[i]:Jt(e[i]);return t},Ti.create=function(t,e,n,r){return h(function i(){var a,o;return L(i,function(i){switch(i.j){case 1:return E(i,2),S(i,Ti.He(t,e,n,r),4);case 4:return a=i.s,i.return(new a);case 2:throw(o=k(i)).severity=2,o}})})},Ti.He=function(t,e,n,r){return h(function i(){var a,o,s,u,c;return L(i,function(i){switch(i.j){case 1:if(a=Ti,r&&(o=a.wb[r.toLowerCase()]))return i.return(o);if((s=a.getExtension(t))&&(u=a.Lb[s]))return i.return(u);if(r){i.A(2);break}return S(i,a.Oe(t,e,n),3);case 3:if((r=i.s)&&(c=Ti.wb[r]))return i.return(c);case 2:throw new ht(2,4,4e3,t)}})})},Ti.Oe=function(t,e,n){return h(function r(){var i,a,o;return L(r,function(r){switch(r.j){case 1:return(i=Ut([t],n)).method="HEAD",S(r,e.request(0,i).promise,2);case 2:return a=r.s,o=a.headers["content-type"],r.return(o?o.toLowerCase():"")}})})},Ti.getExtension=function(t){return 1==(t=new Y(t).ia.split("/").pop().split(".")).length?"":t.pop().toLowerCase()},Ti.isSupported=function(t,e){return!!Qt()&&(e in Ti.wb||Ti.getExtension(t)in Ti.Lb)},$("shaka.media.PresentationTimeline",Si),Si.prototype.Y=function(){return this.g},Si.prototype.getDuration=Si.prototype.Y,Si.prototype.wa=function(t){this.g=t},Si.prototype.setDuration=Si.prototype.wa,Si.prototype.Te=function(){return this.f},Si.prototype.getPresentationStartTime=Si.prototype.Te,Si.prototype.ce=function(t){this.l=t},Si.prototype.setClockOffset=Si.prototype.ce,Si.prototype.Rb=function(t){this.m=t},Si.prototype.setStatic=Si.prototype.Rb,Si.prototype.ld=function(t){this.h=t},Si.prototype.setSegmentAvailabilityDuration=Si.prototype.ld,Si.prototype.Qf=function(t){this.pc=t},Si.prototype.setDelay=Si.prototype.Qf,Si.prototype.Fe=function(){return this.pc},Si.prototype.getDelay=Si.prototype.Fe,Si.prototype.sb=function(t,e){if(0!=t.length){var n=t[t.length-1].endTime+e;this.Vc(t[0].startTime+e),this.a=t.reduce(function(t,e){return Math.max(t,e.endTime-e.startTime)},this.a),this.b=Math.max(this.b,n),null!=this.f&&this.o&&(this.f=(Date.now()+this.l)/1e3-this.b-this.a)}},Si.prototype.notifySegments=Si.prototype.sb,Si.prototype.Vc=function(t){this.c=null==this.c?t:Math.min(this.c,t)},Si.prototype.notifyMinSegmentStartTime=Si.prototype.Vc,Si.prototype.Uc=function(t){this.a=Math.max(this.a,t)},Si.prototype.notifyMaxSegmentDuration=Si.prototype.Uc,Si.prototype.offset=function(t){null!=this.c&&(this.c+=t),null!=this.b&&(this.b+=t)},Si.prototype.offset=Si.prototype.offset,Si.prototype.V=function(){return 1/0==this.g&&!this.m},Si.prototype.isLive=Si.prototype.V,Si.prototype.Va=function(){return 1/0!=this.g&&!this.m},Si.prototype.isInProgress=Si.prototype.Va,Si.prototype.Hb=function(){if(1/0==this.h)return this.i;var t=this.nb()-this.h;return Math.max(this.i,t)},Si.prototype.getSegmentAvailabilityStart=Si.prototype.Hb,Si.prototype.de=function(t){this.i=t},Si.prototype.setUserSeekStart=Si.prototype.de,Si.prototype.nb=function(){return this.V()||this.Va()?Math.min(Math.max(0,(Date.now()+this.l)/1e3-this.a-this.f),this.g):this.g},Si.prototype.getSegmentAvailabilityEnd=Si.prototype.nb,Si.prototype.Gb=function(t){var e=Math.max(this.c,this.i);if(1/0==this.h)return e;var n=this.nb()-this.h;return t=Math.min(n+t,this.za()),Math.max(e,t)},Si.prototype.getSafeSeekRangeStart=Si.prototype.Gb,Si.prototype.mb=function(){return this.Gb(0)},Si.prototype.getSeekRangeStart=Si.prototype.mb,Si.prototype.za=function(){var t=this.V()||this.Va()?this.pc:0;return Math.max(0,this.nb()-t)},Si.prototype.getSeekRangeEnd=Si.prototype.za,Si.prototype.he=function(){return null!=this.f&&null==this.b},Si.prototype.usingPresentationStartTime=Si.prototype.he,$("shaka.dash.DashParser",Ei),(n=Ei.prototype).configure=function(t){this.b=t},n.start=function(t,e){var n=this;return h(function r(){var i;return L(r,function(r){switch(r.j){case 1:return n.f=[t],n.a=e,S(r,xi(n),2);case 2:if(i=r.s,n.a&&Pi(n,i),!n.a)throw new ht(2,7,7001);return r.return(n.c)}})})},n.stop=function(){return this.b=this.a=null,this.f=[],this.c=null,this.l=[],this.m={},null!=this.i&&(this.i.stop(),this.i=null),this.g.destroy()},n.update=function(){xi(this).catch(function(t){this.a&&this.a.onError(t)}.bind(this))},n.onExpirationUpdated=function(){},n.uf=function(t,e){t.ca=Mi(e,t.ja,null);var n=!1,r=Rr.R(e,"Role"),i=r.map(function(t){return t.getAttribute("value")}).filter(Fe.Ga),a=void 0,o="text"==t.ca.contentType;o&&(a="subtitle");for(var s=0;s<r.length;s++){var u=r[s].getAttribute("schemeIdUri");if(null==u||"urn:mpeg:dash:role:2011"==u)switch(u=r[s].getAttribute("value"),u){case"main":n=!0;break;case"caption":case"subtitle":a=u}}var c=null,l=!1;Rr.R(e,"EssentialProperty").forEach(function(t){"http://dashif.org/guidelines/trickmode"==t.getAttribute("schemeIdUri")?c=t.getAttribute("value"):l=!0}),s=Rr.R(e,"Accessibility");var f=new Map;for(r={},u=(s=d(s)).next();!u.done;r={Db:r.Db},u=s.next()){var h=(u=u.value).getAttribute("schemeIdUri");"urn:scte:dash:cc:cea-608:2015"!=h&&"urn:scte:dash:cc:cea-708:2015"!=h||(r.Db=1,null!=(u=u.getAttribute("value"))?u.split(";").forEach(function(t){return function(e){if(e.includes("=")){var n=(e=e.split("="))[0].startsWith("CC")?e[0]:"CC"+e[0];e=e[1].split(",")[0].split(":").pop()}else n="CC"+t.Db,t.Db+=2;f.set(n,Dn(e))}}(r)):f.set("CC1","und"))}if(l)return null;var p=jr(r=Rr.R(e,"ContentProtection"),this.b.dash.customScheme,this.b.dash.ignoreDrmInfo);if(r=Dn(e.getAttribute("lang")||"und"),u=e.getAttribute("label"),0==(i=(s=Rr.R(e,"Representation")).map(this.xf.bind(this,t,p,a,r,u,n,i,f)).filter(function(t){return!!t})).length){if(o)return null;throw new ht(2,4,4003)}return t.ca.contentType&&"application"!=t.ca.contentType||(t.ca.contentType=Di(i[0].mimeType,i[0].codecs),i.forEach(function(e){e.type=t.ca.contentType})),i.forEach(function(t){p.drmInfos.forEach(function(e){t.keyId&&e.keyIds.push(t.keyId)})}),o=s.map(function(t){return t.getAttribute("id")}).filter(Fe.Ga),{id:t.ca.id||"__fake__"+this.h++,contentType:t.ca.contentType,language:r,Qc:n,streams:i,drmInfos:p.drmInfos,pd:c,Gf:o}},n.xf=function(t,e,n,r,i,a,o,s,u){if(t.B=Mi(u,t.ca,null),!function(t){var e=t.Ob?1:0;return e+=t.Ja?1:0,0==(e+=t.Qb?1:0)?"text"==t.contentType||"application"==t.contentType:(1!=e&&(t.Ob&&(t.Ja=null),t.Qb=null),!0)}(t.B))return null;t.bandwidth=Rr.J(u,"bandwidth",Rr.nc)||0;var c=t.B.contentType;c="text"==c||"application"==c;try{var l=this.Hf.bind(this);if(t.B.Ob)var d=function(t,e){var n=Number(Hr(t,vi,"presentationTimeOffset"))||0,r=Hr(t,vi,"timescale"),i=1;r&&(i=Rr.nc(r)||1),n=n/i||0,r=pi(t,vi);var a=t.B.contentType;if(i=t.B.mimeType.split("/")[1],"text"!=a&&"mp4"!=i&&"webm"!=i)throw new ht(2,4,4006);if("webm"==i&&!r)throw new ht(2,4,4005);a=qr(t,vi,"RepresentationIndex");var o=Hr(t,vi,"indexRange"),s=t.B.oa;if(o=Rr.oc(o||""),a){var u=a.getAttribute("sourceURL");u&&(s=Ve(t.B.oa,[u])),o=Rr.J(a,"range",Rr.oc,o)}if(!o)throw new ht(2,4,4002);return{createSegmentIndex:(i=mi(t,e,r,s,o.start,o.end,i,n)).createSegmentIndex,findSegmentPosition:i.findSegmentPosition,getSegmentReference:i.getSegmentReference,initSegmentReference:r,la:n}}(t,l);else if(t.B.Ja)d=yi(t,this.m);else if(t.B.Qb)d=bi(t,l,this.m,!!this.c);else{var f=t.B.oa,h=t.S.duration||0;d={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0<=t&&t<h?1:null},getSegmentReference:function(t){return 1!=t?null:new Gr(1,0,h,function(){return f},0,null)},initSegmentReference:null,la:0}}}catch(t){if(c&&4002==t.code)return null;throw t}return u=function(t,e,n,r){var i=jr(t,e,r);if(n.Ad)t=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,e=0==i.drmInfos.length,(0==n.drmInfos.length||t&&!e)&&(n.drmInfos=i.drmInfos),n.Ad=!1;else if(0<i.drmInfos.length&&(n.drmInfos=n.drmInfos.filter(function(t){return i.drmInfos.some(function(e){return e.keySystem==t.keySystem})}),0==n.drmInfos.length))throw new ht(2,4,4008);return i.vd||n.vd}(u=Rr.R(u,"ContentProtection"),this.b.dash.customScheme,e,this.b.dash.ignoreDrmInfo),{id:this.h++,originalId:t.B.id,createSegmentIndex:d.createSegmentIndex,findSegmentPosition:d.findSegmentPosition,getSegmentReference:d.getSegmentReference,initSegmentReference:d.initSegmentReference,presentationTimeOffset:d.la,mimeType:t.B.mimeType,codecs:t.B.codecs,frameRate:t.B.frameRate,bandwidth:t.bandwidth,width:t.B.width,height:t.B.height,kind:n,encrypted:0<e.drmInfos.length,keyId:u,language:r,label:i,type:t.ca.contentType,primary:a,trickModeVideo:null,emsgSchemeIdUris:t.B.emsgSchemeIdUris,roles:o,channelsCount:t.B.Wc,closedCaptions:s}},n.wf=function(t,e,n){var r=Rr.vb,i=n.getAttribute("schemeIdUri")||"",a=n.getAttribute("value")||"",o=Rr.J(n,"timescale",r)||1;Rr.R(n,"Event").forEach(function(n){var s=Rr.J(n,"presentationTime",r)||0,u=Rr.J(n,"duration",r)||0;u=(s=s/o+t)+u/o,null!=e&&(s=Math.min(s,t+e),u=Math.min(u,t+e)),n={schemeIdUri:i,value:a,startTime:s,endTime:u,id:n.getAttribute("id")||"",eventElement:n},this.a.onTimelineRegionAdded(n)}.bind(this))},n.Hf=function(t,e,n){return t=_i(t,e,n,this.b.retryParameters),t=this.a.networkingEngine.request(1,t),Mt(this.g,t),t.promise.then(function(t){return t.data})},Ti.dd("mpd",Ei),Ti.Nb("application/dash+xml",Ei),Li.prototype.toString=function(){var t="#"+this.name,e=this.a?this.a.map(function(t){return t.name+"="+(isNaN(Number(t.value))?'"'+t.value+'"':t.value)}):[];return this.value&&e.unshift(this.value),0<e.length&&(t+=":"+e.join(",")),t},Li.prototype.getAttribute=function(t){var e=this.a.filter(function(e){return e.name==t});return e.length?e[0]:null};var ji={lb:function(t,e){return t.filter(function(t){return t.name==e})},Ra:function(t,e){var n=ji.lb(t,e);return n.length?n[0]:null},Gc:function(t,e,n){return t.filter(function(t){var r=t.getAttribute("TYPE");return t=t.getAttribute("GROUP-ID"),r.value==e&&t.value==n})},zc:function(t,e){return Ve([t],[e])[0]},Oc:function(t){return/^#(?!EXT)/m.test(t)}};function Bi(t){this.b=t,this.a=0}function $i(t){Fi(t,/[ \t]+/gm)}function Fi(t,e){e.lastIndex=t.a;var n=e.exec(t.b);return n=null==n?null:{position:n.index,length:n[0].length,Jf:n},t.a==t.b.length||null==n||n.position!=t.a?null:(t.a+=n.length,n.Jf)}function Vi(t){return t.a==t.b.length?null:(t=Fi(t,/[^ \t\n]*/gm))?t[0]:null}function Hi(){this.a=0}function qi(t,e,n){var r=(e=(e=ne(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new ht(2,4,4015);e=0;for(var i=1;i<r.length;i++)if(!ji.Oc(r[i])){var a=Ki(t,r[i]);if(--t.a,Gi.includes(a.name)){e=1;break}"EXT-X-STREAM-INF"==a.name&&(i+=1)}for(i=[],a=1;a<r.length;)if(ji.Oc(r[a]))a+=1;else{var o=Ki(t,r[a]);if(Wi.includes(o.name)){if(1!=e)throw new ht(2,4,4017);return new Oi(n,e,i,t=zi(t,n,r=r.splice(a,r.length-a),i))}i.push(o),a+=1,"EXT-X-STREAM-INF"==o.name&&(o.a.push(new Ui("URI",r[a])),a+=1)}return new Oi(n,e,i)}function zi(t,e,n,r){var i=[],a=[];return n.forEach(function(n){if(/^(#EXT)/.test(n))n=Ki(t,n),Gi.includes(n.name)?r.push(n):a.push(n);else{if(ji.Oc(n))return[];n=ji.zc(e,n.trim()),i.push(new Ni(n,a)),a=[]}}),i}function Ki(t,e){var n=t.a++,r=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new ht(2,4,4016,e);var i,a=r[1],o=r[2];if(r=[],o){var s;(s=Fi(o=new Bi(o),/^([^,=]+)(?:,|$)/g))&&(i=s[1]);for(var u=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;s=Fi(o,u);)r.push(new Ui(s[1],s[2]||s[3]))}return new Li(n,a,r,i)}var Gi="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),Wi="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function Xi(t){try{var e=Xi.parse(t);return gt({uri:t,$c:t,data:e.data,headers:{"content-type":e.contentType}})}catch(t){return vt(t)}}function Yi(){var t=this;this.c=this.g=null,this.$=1,this.D=new Map,this.T=new Set,this.a=new Map,this.b=null,this.v="",this.o=new Hi,this.P=0,this.h=new lt(function(){!function(t){h(function e(){var n,r;return L(e,function(e){switch(e.j){case 1:return t.g?(E(e,2),S(e,t.update(),4)):e.return();case 4:n=t.P,t.h.O(n),C(e,0);break;case 2:(r=k(e)).severity=1,t.g.onError(r),t.h.O(.1),_(e)}})})}(t)}),this.f=va,this.m=null,this.C=0,this.G=1/0,this.i=new Pt,this.M=[],this.l=new Map,this.W=!1}function Qi(t,e){return h(function n(){var r,i,a,o,s,u,c,l,d,f;return L(n,function(n){switch(n.j){case 1:return r=ji,i=ya,a=e.pe,S(n,la(t,a),2);case 2:if(o=n.s,1!=(s=qi(t.o,o.data,o.uri)).type)throw new ht(2,4,4017);return c=(u=r.Ra(s.a,"EXT-X-MEDIA-SEQUENCE"))?Number(u.value):0,l=e.stream,S(n,aa(t,e.tc,s,c,l.mimeType,l.codecs),3);case 3:d=n.s,e.Pb.a=d,f=d[d.length-1],r.Ra(s.a,"EXT-X-ENDLIST")&&(ha(t,i.Oa),t.b.wa(f.endTime)),_(n)}})})}function Ji(t){t.forEach(function(t){var e=t.stream.codecs.split(",");e=e.filter(function(t){return"mp4a.40.34"!=t}),t.stream.codecs=e.join(",")})}function Zi(t,e,n,r,i){return{id:t.$++,language:e?e.language:"und",primary:!!e&&e.primary||!!n&&n.primary,audio:e,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}}function ta(t,e,n){return h(function r(){var i,a,o,s,u,c,l,d,f;return L(r,function(r){switch(r.j){case 1:if(i=ua(e,"URI"),t.a.has(i))return r.return(t.a.get(i));if(a=ua(e,"TYPE").toLowerCase(),o=qe,"subtitles"==a&&(a=o.qa),s=Dn(Ri(e,"LANGUAGE","und")),u=Ri(e,"NAME"),c=e.getAttribute("DEFAULT"),l=e.getAttribute("AUTOSELECT"),d=Ri(e,"CHANNELS"),"audio"==a)if(d){var h=d.split("/")[0];h=parseInt(h,10)}else h=null;else h=null;return S(r,ea(t,i,n,a,s,!!c||!!l,u,h,null),2);case 2:return null==(f=r.s)?r.return(null):t.a.has(i)?r.return(t.a.get(i)):(t.D.set(e.id,f),t.a.set(i,f),r.return(f))}})})}function ea(t,e,n,r,i,a,o,s,u){return h(function c(){var l,f,p,m,v,y,g,b,w,T,_,E,x,C,k,A,P,M,I,D,O,U,R,N,j;return L(c,function(c){switch(c.j){case 1:return f=(l=ji).zc(t.v,e),m="",S(c,la(t,f),2);case 2:if(y=c.s,f=y.uri,1!=(p=qi(t.o,y.data,f)).type)throw new ht(2,4,4017);g=[],p.segments.forEach(function(t){t=l.lb(t.b,"EXT-X-KEY"),g.push.apply(g,t)}),b=!1,w=[],T=null;for(var B=d(g),$=B.next();!$.done;$=B.next())if(_=$.value,"NONE"!=(E=ua(_,"METHOD"))){if(b=!0,"AES-128"==E)return t.W=!0,c.return(null);x=ua(_,"KEYFORMAT"),(k=(C=ma[x])?C(_):null)&&(k.keyIds.length&&(T=k.keyIds[0]),w.push(k))}if(b&&!w.length)throw new ht(2,4,4026);return function(t,e){var n=ya,r=ji.Ra(e.a,"EXT-X-PLAYLIST-TYPE"),i=ji.Ra(e.a,"EXT-X-ENDLIST");i=r&&"VOD"==r.value||i,r=r&&"EVENT"==r.value&&!i,r=!i&&!r,i?ha(t,n.Oa):(ha(t,r?n.sd:n.ke),n=ca(e.a,"EXT-X-TARGETDURATION"),n=Number(n.value),t.C=Math.max(n,t.C),t.G=Math.min(n,t.G))}(t,p),m=function(t,e){if(1==e.length)return e[0];var n=sa(t,e);if(null!=n)return n;throw new ht(2,4,4025,e)}(r,n),S(c,function(t,e,n,r){return h(function i(){var a,o,s,u,c,l,d,f,h,p;return L(i,function(i){switch(i.j){case 1:return a=qe,o=Dt,s=r.segments[0].a,u=new Y(s),c=u.ia.split(".").pop(),l=fa[e],(d=l[c])?i.return(d):e==a.qa?n&&"vtt"!=n?i.return("application/mp4"):i.return("text/vtt"):((f=Ut([s],t.c.retryParameters)).method="HEAD",S(i,pa(t,f,o.td),2));case 2:if(h=i.s,!(p=h.headers["content-type"]))throw new ht(2,4,4021,c);return i.return(p.split(";")[0])}})})}(t,r,m,p),3);case 3:return v=c.s,P=(A=l.Ra(p.a,"EXT-X-MEDIA-SEQUENCE"))?Number(A.value):0,S(c,aa(t,e,p,P,v,m),4);case 4:return M=c.s,I=M[0].startTime,D=M[M.length-1].endTime,O=D-I,U=new ai(M),R=na(p),N=void 0,"text"==r&&(N="subtitle"),j={id:t.$++,originalId:o,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:U.find.bind(U),getSegmentReference:U.get.bind(U),initSegmentReference:R,presentationTimeOffset:0,mimeType:v,codecs:m,kind:N,encrypted:b,keyId:T,language:i,label:o,type:r,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s,closedCaptions:u},c.return({stream:j,Pb:U,drmInfos:w,tc:e,pe:f,Tc:I,qg:D,duration:O})}})})}function na(t){var e=ji.lb(t.a,"EXT-X-MAP");if(!e.length)return null;if(1<e.length)throw new ht(2,4,4020);var n=ua(e=e[0],"URI"),r=ji.zc(t.b,n);return t=0,n=null,(e=Ri(e,"BYTERANGE"))&&(t=e.split("@"),e=Number(t[0]),n=(t=Number(t[1]))+e-1),new Kr(function(){return[r]},t,n)}function ra(t,e,n,r){var i=e.b,a=e.a;e=ca(i,"EXTINF").value.split(","),e=r+Number(e[0]);var o=0,s=null;return(i=ji.Ra(i,"EXT-X-BYTERANGE"))&&(o=i.value.split("@"),i=Number(o[0]),s=(o=o[1]?Number(o[1]):t.a+1)+i-1),new Gr(n,r,e,function(){return[a]},o,s)}function ia(t){t.b&&(t.M.forEach(function(e){t.b.sb(e,0)}),t.M=[])}function aa(t,e,n,r,i,a){return h(function o(){var s,u,c,l,d,f,p,m,v,y;return L(o,function(o){switch(o.j){case 1:return s=n.segments,u=[],c=s[0].a,l=ra(null,s[0],r,0),d=na(n),S(o,function(t,e,n,r,i,a){return h(function o(){var s,u,c,l,d,f,h,p,m;return L(o,function(o){switch(o.j){case 1:if(t.m&&(s=t.a.get(e),u=s.Pb,c=u.get(r.position)))return o.return(c.startTime);if("audio/mpeg"==i)return o.return(0);if("video/mp4"!=i&&"audio/mp4"!=i){o.A(2);break}return l=[oa(t,r)],n&&l.push(oa(t,n)),S(o,Promise.all(l),3);case 3:return d=o.s,f=d[0],h=d[1]||d[0],o.return(function(t,e){var n=0;if((new Jr).H("moov",Zr).H("trak",Zr).H("mdia",Zr).ea("mdhd",function(t){t.reader.L(0==t.version?8:16),n=t.reader.F(),t.parser.stop()}).parse(e,!0),!n)throw new ht(2,4,4030);var r=0,i=!1;if((new Jr).H("moof",Zr).H("traf",Zr).ea("tfdt",function(t){r=(0==t.version?t.reader.F():t.reader.yb())/n,i=!0,t.parser.stop()}).parse(t,!0),!i)throw new ht(2,4,4030);return r}(f.data,h.data));case 2:if("video/mp2t"!=i){o.A(4);break}return S(o,oa(t,r),5);case 5:return p=o.s,o.return(function(t){function e(){throw new ht(2,4,4030)}t=new Wr(new DataView(t),0);for(var n=0,r=0;;){if(n=t.ba(),71!=(r=t.ka())&&e(),16384&t.Mb()||e(),0!=(r=(48&t.ka())>>4)&&2!=r||e(),3==r&&(r=t.ka(),t.L(r)),1==t.F()>>8)return t.L(3),0!=(n=t.ka()>>6)&&1!=n||e(),0==t.ka()&&e(),n=t.ka(),r=t.Mb(),t=t.Mb(),(1073741824*((14&n)>>1)+((65534&r)<<14|(65534&t)>>1))/9e4;t.seek(n+188),71!=(r=t.ka())&&(t.seek(n+192),r=t.ka()),71!=r&&(t.seek(n+204),r=t.ka()),71!=r&&e(),t.$d(1)}}(p.data));case 4:if("application/mp4"!=i&&!i.startsWith("text/")){o.A(6);break}return S(o,oa(t,r),7);case 7:return m=o.s,o.return(function(t,e,n){return mn(t=Wt(t,e))?(vn(e=new hn(null),t),e.Lc(n)):0}(i,a,m.data));case 6:throw new ht(2,4,4030)}})})}(t,e,d,l,i,a),2);case 2:f=o.s,c.split("/").pop();for(var g=0;g<s.length;++g)p=s[g],m=u[u.length-1],v=0==g?f:m.endTime,y=ra(m,p,r+g,v),u.push(y);return t.M.push(u),ia(t),o.return(u)}})})}function oa(t,e){return h(function n(){var r,i,a,o,s,u;return L(n,function(n){switch(n.j){case 1:return r=Dt,i=_i(e.c(),e.b,e.b+2048-1,t.c.retryParameters),a=_i(e.c(),e.b,e.a,t.c.retryParameters),E(n,2),S(n,pa(t,i,r.td),4);case 4:return o=n.s,n.return(o);case 2:if(7001==(s=k(n)).code)throw s;return G("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),S(n,pa(t,a,r.td),5);case 5:return u=n.s,n.return(u)}})})}function sa(t,e){for(var n=da[t],r=0;r<n.length;r++)for(var i=0;i<e.length;i++)if(n[r].test(e[i].trim()))return e[i].trim();return"text"==t?"":null}function ua(t,e){var n=t.getAttribute(e);if(!n)throw new ht(2,4,4023,e);return n.value}function ca(t,e){var n=ji.Ra(t,e);if(!n)throw new ht(2,4,4024,e);return n}function la(t,e){return pa(t,Ut([e],t.c.retryParameters),Dt.ng)}$("shaka.net.DataUriPlugin",Xi),Xi.parse=function(e){var n=e.split(":");if(2>n.length||"data"!=n[0])throw new ht(2,1,1004,e);if(2>(n=n.slice(1).join(":").split(",")).length)throw new ht(2,1,1004,e);var r=n[0];n=t.decodeURIComponent(n.slice(1).join(","));var i=null;if(1<(r=r.split(";")).length&&(i=r[1]),"base64"==i)e=le(n).buffer;else{if(i)throw new ht(2,1,1005,e);e=ae(n)}return{data:e,contentType:r[0]}},Lt("data",Xi),$("shaka.hls.HlsParser",Yi),(n=Yi.prototype).configure=function(t){this.c=t},n.start=function(t,e){var n=this;return h(function r(){var i,a;return L(r,function(r){switch(r.j){case 1:return n.g=e,S(r,la(n,t),2);case 2:return i=r.s,n.v=i.uri,S(r,function(t,e){return h(function n(){var r,i,a,o,s,u,c,l,f,p,m;return L(n,function(n){switch(n.j){case 1:if(0!=(r=qi(t.o,e,t.v)).type)throw new ht(2,4,4022);return S(n,function(t,e){return h(function n(){var r,i,a,o,s,u,c,l,f,p,m,v;return L(n,function(n){switch(n.j){case 1:return r=ji,i=Fe,a=e.a,o=r.lb(e.a,"EXT-X-MEDIA"),s=o.filter(function(t){return"SUBTITLES"==ua(t,"TYPE")}.bind(t)),u=s.map(function(t){return function(t,e){return h(function n(){var r;return L(n,function(n){switch(n.j){case 1:return ua(e,"TYPE"),S(n,ta(t,e,[]),2);case 2:return r=n.s,n.return(r.stream)}})})}(this,t)}.bind(t)),c=o.filter(function(t){return"CLOSED-CAPTIONS"==ua(t,"TYPE")}),function(t,e){for(var n=d(e),r=n.next();!r.done;r=n.next()){ua(r=r.value,"TYPE");var i=Ri(r,"LANGUAGE")||"und";i=Dn(i);var a=ua(r,"GROUP-ID");r=ua(r,"INSTREAM-ID"),t.l.get(a)||t.l.set(a,new Map),t.l.get(a).set(r,i)}}(t,c),S(n,Promise.all(u),2);case 2:return l=n.s,f=r.lb(a,"EXT-X-STREAM-INF"),p=f.map(function(t){return function(t,e,n){return h(function r(){var i,a,o,s,u,c,l,f,p,m,v,y,g,b,w,T,_,E,x,C,k,A,P,M,I,D;return L(r,function(r){switch(r.j){case 1:return i=qe,a=ji,o=Ri(e,"CODECS","avc1.42E01E,mp4a.40.2"),s=function(t){for(var e=new Set,n=[],r=(t=d(t)).next();!r.done;r=t.next()){var i=Xt(r=r.value)[0];e.has(i)||(n.push(r),e.add(i))}return n}(o.split(/\s*,\s*/)),u=e.getAttribute("RESOLUTION"),l=c=null,f=Ri(e,"FRAME-RATE"),p=Number(ua(e,"BANDWIDTH")),u&&(m=u.value.split("x"),c=m[0],l=m[1]),v=(v=(v=a.lb(n.a,"EXT-X-MEDIA")).filter(function(t){return"CLOSED-CAPTIONS"!=ua(t,"TYPE")})).filter(function(t){var e=Ri(t,"URI")||"";return"SUBTITLES"==(Ri(t,"TYPE")||"")||""!=e}),y=Ri(e,"AUDIO"),g=Ri(e,"VIDEO"),y?v=a.Gc(v,"AUDIO",y):g&&(v=a.Gc(v,"VIDEO",g)),(b=sa(i.qa,s))&&((w=Ri(e,"SUBTITLES"))&&((T=a.Gc(v,"SUBTITLES",w)).length&&(t.D.get(T[0].id).stream.codecs=b)),kt(s,b)),_=v.map(function(t){return ta(this,t,s)}.bind(t)),E=[],x=[],S(r,Promise.all(_),2);case 2:if(k=(k=r.s).filter(function(t){return null!=t}),y?E=k:g&&(x=k),P=!1,E.length||x.length?E.length?(I=ua(e,"URI"),D=E[0].tc,I==D?(A=i.Ab,P=!0):A=i.Na):A=i.Ab:1==s.length?(M=sa(i.Na,s),A=u||f||M?i.Na:i.Ab):(A=i.Na,s=[s.join(",")]),P){r.A(3);break}return S(r,function(t,e,n,r){return h(function i(){var a,o,s,u,c;return L(i,function(i){switch(i.j){case 1:return a=qe,o=ua(e,"URI"),t.a.has(o)?i.return(t.a.get(o)):(s=Ri(e,"CLOSED-CAPTIONS"),u=null,r==a.Na&&s&&"NONE"!=s&&(u=t.l.get(s)),S(i,ea(t,o,n,r,"und",!1,null,null,u),2));case 2:return null==(c=i.s)?i.return(null):t.a.has(o)?i.return(t.a.get(o)):(t.a.set(o,c),i.return(c))}})})}(t,e,s,A),4);case 4:C=r.s;case 3:if(C)C.stream.type==i.Ab?E=[C]:x=[C];else if(null===C)return r.return([]);return x&&Ji(x),E&&Ji(E),r.return(function(t,e,n,r,i,a,o){n.forEach(function(t){(t=t.stream)&&(t.width=Number(i)||void 0,t.height=Number(a)||void 0,t.frameRate=Number(o)||void 0)}.bind(t)),e.length||(e=[null]),n.length||(n=[null]);for(var s=[],u=(e=d(e)).next();!u.done;u=e.next()){u=u.value;for(var c=d(n),l=c.next();!l.done;l=c.next()){var f=l.value;l=u?u.stream:null;var h=f?f.stream:null,p=u?u.drmInfos:null,m=f?f.drmInfos:null;f=(f?f.tc:"")+" - "+(u?u.tc:"");var v=void 0;if(l&&h){if(p.length&&m.length&&!(0<Pe(p,m).length))continue;v=Pe(p,m)}else l?v=p:h&&(v=m);t.T.has(f)||(l=Zi(t,l,h,r,v),s.push(l),t.T.add(f))}}return s}(t,E,x,p,c,l,f))}})})}(this,t,e)}.bind(t)),S(n,Promise.all(p),3);case 3:return m=n.s,v=(v=m.reduce(i.yc,[])).filter(function(t){return null!=t}),n.return({startTime:0,variants:v,textStreams:l})}})})}(t,r),2);case 2:if(i=n.s,!t.g)throw new ht(2,7,7001);if(t.W&&0==i.variants.length)throw new ht(2,4,4034);t.g.filterAllPeriods([i]),a=1/0,o=0,s=1/0;for(var v=d(t.a.values()),y=v.next();!y.done;y=v.next())u=y.value,a=Math.min(a,u.Tc),o=Math.max(o,u.Tc),"text"!=u.stream.type&&(s=Math.min(s,u.duration));if(t.f!=ya.Oa?(t.b=new Si(0,3*t.C),t.b.Rb(!1)):(t.b=new Si(null,0),t.b.Rb(!0)),ia(t),t.f!=ya.Oa){for(t.P=t.G,c=ya,t.f==c.sd&&(l=t.b.pc,isNaN(t.c.availabilityWindowOverride)||(l=t.c.availabilityWindowOverride),t.b.ld(l)),f=0;95443.7176888889<=o;)f+=95443.7176888889,o-=95443.7176888889;if(f)for(v=d(t.a.values()),y=v.next();!y.done;y=v.next())95443.7176888889>(p=y.value).Tc&&(p.stream.presentationTimeOffset=-f,p.Pb.offset(f))}else for(t.b.wa(s),t.b.offset(-a),v=d(t.a.values()),y=v.next();!y.done;y=v.next())(m=y.value).stream.presentationTimeOffset=a,m.Pb.offset(-a),oi(m.Pb,s);t.m={presentationTimeline:t.b,periods:[i],offlineSessionIds:[],minBufferTime:0},_(n)}})})}(n,i.data),3);case 3:return 0<(a=n.P)&&n.h.O(a),r.return(n.m)}})})},n.stop=function(){this.h&&(this.h.stop(),this.h=null);var t=[];return this.i&&(t.push(this.i.destroy()),this.i=null),this.c=this.g=null,this.D.clear(),this.T.clear(),this.a.clear(),this.m=null,Promise.all(t)},n.update=function(){if(this.f!=ya.Oa){for(var t=[],e=d(this.a.values()),n=e.next();!n.done;n=e.next())t.push(Qi(this,n.value));return Promise.all(t)}},n.onExpirationUpdated=function(){};var da={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},fa={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};function ha(t,e){t.f=e,t.b&&t.b.Rb(t.f==ya.Oa),t.f!=ya.Oa||t.h.stop()}function pa(t,e,n){if(!t.i)throw new ht(2,7,7001);return e=t.g.networkingEngine.request(n,e),Mt(t.i,e),e.promise}var ma={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(t){var e=ua(t,"METHOD");return Zn("HLS SAMPLE-AES-CENC","SAMPLE-AES-CENC will no longer be supported, see Issue #1227"),["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].includes(e)?(e=ua(t,"URI"),e=Xi.parse(e),e=He("com.widevine.alpha",[{initDataType:"cenc",initData:e=new Uint8Array(e.data)}]),(t=Ri(t,"KEYID"))&&(e.keyIds=[t.substr(2).toLowerCase()]),e):null}},va="VOD",ya={Oa:va,ke:"EVENT",sd:"LIVE"};function ga(){this.a=new Map}function ba(t,e,n){wa(t,e).text=n}function wa(t,e){return t.a.has(e)||t.a.set(e,new Ta),t.a.get(e)}function Ta(){this.text=this.variant=null}function Sa(t,e){this.a=t,this.b=new Set([t]);for(var n=d(e=e||[]),r=n.next();!r.done;r=n.next())this.add(r.value)}function _a(t,e){var n;if(!(n=!!t.audio!=!!e.audio||!!t.video!=!!e.video||t.language!=e.language)&&(n=t.audio&&e.audio)){n=t.audio;var r=e.audio;n=!(n.channelsCount==r.channelsCount&&Ea(n,r)&&xa(n.roles,r.roles))}return!n&&(n=t.video&&e.video)&&(n=!(Ea(n=t.video,r=e.video)&&xa(n.roles,r.roles))),!n}function Ea(t,e){if(t.mimeType!=e.mimeType)return!1;var n=t.codecs.split(",").map(function(t){return Xt(t)[0]}),r=e.codecs.split(",").map(function(t){return Xt(t)[0]});if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=0;i<n.length;i++)if(n[i]!=r[i])return!1;return!0}function xa(t,e){var n=new Set(t),r=new Set(e);if(n.delete("main"),r.delete("main"),n.size!=r.size)return!1;for(var i=(n=d(n)).next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0}function Ca(t){this.a=t,this.b=new ka(t.language,"",t.audio&&t.audio.channelsCount?t.audio.channelsCount:0)}function ka(t,e,n){this.c=t,this.b=e,this.a=n}function Aa(t,e){this.a=Ma,this.b=(new Map).set(Ma,e).set(Pa,t)}Ti.dd("m3u8",Yi),Ti.Nb("application/x-mpegurl",Yi),Ti.Nb("application/vnd.apple.mpegurl",Yi),Sa.prototype.add=function(t){return!!_a(this.a,t)&&(this.b.add(t),!0)},Sa.prototype.values=function(){return this.b.values()},Ca.prototype.create=function(t){var e=this,n=t.filter(function(t){return _a(e.a,t)});return n.length?new Sa(n[0],n):this.b.create(t)},ka.prototype.create=function(t){var e=[];e=function(t,e){var n=Ln(Dn(e),t.map(function(t){return On(t)}));return n?t.filter(function(t){return n==On(t)}):[]}(t,this.c);var n=t.filter(function(t){return t.primary});for(e=e.length?e:n.length?n:t,this.b&&((t=function(t,e){return t.filter(function(t){var n=t.audio;return t=t.video,n&&0<=n.roles.indexOf(e)||t&&0<=t.roles.indexOf(e)})}(e,this.b)).length&&(e=t)),this.a&&((t=Kn(e,this.a)).length&&(e=t)),t=new Sa(e[0]),n=(e=d(e)).next();!n.done;n=e.next())n=n.value,_a(t.a,n)&&t.add(n);return t};var Pa=0,Ma=1;function Ia(t,e){this.f=t,this.g=Oa(t),this.b=t.a.currentTime,this.c=Date.now()/1e3,this.h=e,this.a=function(){}}function Da(t){this.a=t}function Oa(t){if(t.a.paused||0==t.a.playbackRate||null==t.a.buffered)var e=!1;else t:{e=t.a.buffered,t=t.a.currentTime;for(var n=0;n<e.length;n++){var r=e.start(n),i=e.end(n);if(!(t<r||t>i-.5)){e=!0;break t}}e=!1}return e}function La(t,e,n,r,i){var a=this;this.a=t,this.v=e,this.o=n,this.l=i,this.f=new Vt,this.i=!1,this.m=t.readyState,this.c=!1,this.b=r,this.h=!1,this.f.w(t,"waiting",function(){return Ua(a)}),this.g=new lt(function(){Ua(a)}).La(.25)}function Ua(t){if(0!=t.a.readyState){if(t.a.seeking){if(!t.i)return}else t.i=!1;if(!t.a.paused){t.a.readyState!=t.m&&(t.c=!1,t.m=t.a.readyState);var e=t.o.smallGapLimit,n=t.a.currentTime,r=t.a.buffered;t:{if(r&&r.length&&!(1==r.length&&1e-6>r.end(0)-r.start(0)))for(var i=Zt("Edge/")||Zt("Trident/")||Zt("Tizen")||Zt("CrKey")?.5:.1,a=0;a<r.length;a++)if(r.start(a)>n&&(0==a||r.end(a-1)-n<=i)){i=a;break t}i=null}if(null==i)t.b&&(r=Oa(n=(t=t.b).f),n=n.a.currentTime,i=Date.now()/1e3,t.b==n&&t.g==r||(t.c=i,t.b=n,t.g=r),(n=i-t.c)>=t.h&&r&&t.a(t.b,n));else if(0!=i||t.h){a=r.start(i);var o=t.v.za();if(!(a>=o)){e=(o=a-n)<=e;var s=!1;.001>o||(e||t.c||(t.c=!0,(n=new St("largegap",{currentTime:n,gapSize:o})).cancelable=!0,t.l(n),t.o.jumpLargeGaps&&!n.defaultPrevented&&(s=!0)),!e&&!s)||(0!=i&&r.end(i-1),t.a.currentTime=a)}}}}}function Ra(t){var e=this;this.c=t,this.a=new Set,this.b=new lt(function(){Na(e,!1)}).La(.25)}function Na(t,e){for(var n=d(t.a),r=n.next();!r.done;r=n.next())r.value.g(t.c.currentTime,e)}function ja(t){for(var e=[],n=(t=d(t)).next();!n.done;n=t.next())for(var r=(n=d(n.value.variants)).next();!r.done;r=n.next())e.push(r.value);return e}function Ba(t,e){for(var n=null,r=d(t),i=r.next();!i.done;i=r.next())e>=(i=i.value).startTime&&(n=i);return n}function $a(t){this.c=t,this.a=null,this.b=function(){}}function Fa(t){var e=this;this.a=t,this.f=!1,this.c=this.a.ec(),this.b=new lt(function(){e.a.Id(.25*e.c)})}function Va(t){t.b.stop();var e=t.f?0:t.c;if(0<=e)try{return void(t.a.ec()!=e&&t.a.kd(e))}catch(t){}t.b.La(.25),0!=t.a.ec()&&t.a.kd(0)}function Ha(t,e,n){this.a=t,this.f=e,this.g=n,this.b=new Vt,this.c=new Wa(t),0<t.readyState?Ka(this,n):za(this,n)}function qa(t){return 0<t.a.readyState?t.a.currentTime:t.g}function za(t,e){t.g=e,t.b.da(t.a,"loadedmetadata"),t.b.ha(t.a,"loadedmetadata",function(){Ka(t,e)})}function Ka(t,e){.001>Math.abs(t.a.currentTime-e)?Ga(t):(t.b.ha(t.a,"seeking",function(){Ga(t)}),Xa(t.c,0==t.a.currentTime?e:t.a.currentTime))}function Ga(t){t.b.w(t.a,"seeking",function(){return t.f()})}function Wa(t){var e=this;this.b=t,this.h=10,this.g=this.f=this.c=0,this.a=new lt(function(){0>=e.c?e.a.stop():e.b.currentTime!=e.f?e.a.stop():(e.b.currentTime=e.g,e.c--)})}function Xa(t,e){t.f=t.b.currentTime,t.g=e,t.c=t.h,t.b.currentTime=e,t.a.La(.1)}function Ya(t){function e(){n.f=!0,null!=n.b&&(n.a.currentTime=n.b)}var n=this;this.a=t,this.f=!1,this.b=null,this.c=new Vt,0==this.a.readyState?this.c.ha(this.a,"loadedmetadata",e):e()}function Qa(t,e,n,r,i,a){var o=this;this.b=t,this.a=e.presentationTimeline,this.C=e.minBufferTime||0,this.g=n,this.v=i,this.l=null,this.f=new La(t,e.presentationTimeline,n,function(t,e){if(!e.stallEnabled)return null;var n=e.stallSkip,r=new Ia(new Da(t),e.stallThreshold);return function(t,e){t.a=e}(r,function(){t.currentTime+=n}),r}(t,n),a),this.c=new Ha(t,function(){var t=o.f;t.i=!0,t.h=!1,t.c=!1;var e=qa(o.c);return t=Za(o,e),.001<Math.abs(t-e)&&(e=(new Date).getTime()/1e3,!o.l||o.l<e-1)?(o.l=e,0<(e=o.c).a.readyState?Xa(e.c,t):za(e,t),t=void 0):(o.v(),t=void 0),t},function(t,e){return null==e?e=1/0>t.a.Y()?t.a.mb():t.a.za():0>e&&(e=t.a.za()+e),Ja(t,to(t,e))}(this,r)),this.i=new lt(function(){if(0!=o.b.readyState&&!o.b.paused){var t=o.b.currentTime,e=o.a.mb(),n=o.a.za();3>n-e&&(e=n-3),t<e&&(t=Za(o,t),o.b.currentTime=t)}}).La(.25)}function Ja(t,e){var n=t.a.Y();return e>=n?n-t.g.durationBackoff:e}function Za(t,e){var n=je.bind(null,t.b.buffered),r=Math.max(t.C,t.g.rebufferingGoal),i=t.g.safeSeekOffset,a=t.a.mb(),o=t.a.za(),s=t.a.Y();3>o-a&&(a=o-3);var u=t.a.Gb(r),c=t.a.Gb(i);return r=t.a.Gb(r+i),e>=s?Ja(t,e):e>o?o:e<a?n(c)?c:r:e>=u||n(e)?e:r}function to(t,e){var n=t.a.mb();return e<n?n:e>(n=t.a.za())?n:e}function eo(){this.b=function(){},this.a=new Set}function no(t){var e=this;this.h=t,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.i=[{bb:null,ab:io,Ua:function(t,n){return e.a(t,n)}},{bb:ro,ab:io,Ua:function(t,n){return e.a(t,n)}},{bb:ao,ab:io,Ua:function(t,n){return e.a(t,n)}},{bb:io,ab:ro,Ua:function(t,n){return e.b(t,n)}},{bb:io,ab:ao,Ua:function(t,n){return e.b(t,n)}},{bb:ro,ab:ao,Ua:function(t,n){return e.c(t,n)}},{bb:ao,ab:ro,Ua:function(t,n){return e.c(t,n)}}]}Ia.prototype.release=function(){this.f=null,this.a=function(){}},La.prototype.release=function(){this.f&&(this.f.release(),this.f=null),null!=this.g&&(this.g.stop(),this.g=null),this.b&&(this.b.release(),this.b=null),this.a=this.v=this.l=null},La.prototype.Yc=function(){this.h=!0,Ua(this)},Ra.prototype.release=function(){this.b.stop();for(var t=d(this.a),e=t.next();!e.done;e=t.next())e.value.release();this.a.clear()},$a.prototype.release=function(){this.a=this.c=null,this.b=function(){}},$a.prototype.g=function(t){var e=this.a,n=this.c.periods;e!=(t=Ba(n,t)||n[0])&&this.b(t),this.a=t},Fa.prototype.release=function(){this.b&&(this.b.stop(),this.b=null),this.a=null},Fa.prototype.set=function(t){this.c=t,Va(this)},Ha.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.f=function(){},this.a=null},Wa.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},Ya.prototype.release=function(){this.c&&(this.c.release(),this.c=null),this.a=null},Ya.prototype.m=function(t){this.b=this.f?this.b:t},Ya.prototype.h=function(){return(this.f?this.a.currentTime:this.b)||0},Ya.prototype.o=function(){},Qa.prototype.release=function(){this.c&&(this.c.release(),this.c=null),this.f&&(this.f.release(),this.f=null),this.i&&(this.i.stop(),this.i=null),this.b=this.c=this.a=this.g=null,this.v=function(){}},Qa.prototype.m=function(t){var e=this.c;0<e.a.readyState?Xa(e.c,t):za(e,t)},Qa.prototype.h=function(){var t=qa(this.c);return 0<this.b.readyState&&!this.b.paused?to(this,t):t},Qa.prototype.o=function(){this.f.Yc()},eo.prototype.release=function(){this.b=function(){},this.a.clear()},no.prototype.release=function(){this.h=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}},no.prototype.g=function(t,e){for(var n=d(this.h.a),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.f.get(r),a=t<r.startTime?ro:t>r.endTime?ao:io;this.f.set(r,a);for(var o=d(this.i),s=o.next();!s.done;s=o.next())(s=s.value).bb==i&&s.ab==a&&s.Ua(r,e)}};var ro=1,io=2,ao=3;function oo(t,e){this.a=e,this.c=t,this.g=null,this.l=1,this.v=Promise.resolve(),this.h=[],this.i=new Map,this.b=new Map,this.o=!1,this.G=null,this.D=this.f=this.m=!1,this.C=0}function so(t){return co(t,"audio")}function uo(t){return co(t,"video")}function co(t,e){var n=t.b.get(e);return n?n.Ia||n.stream:null}function lo(t,e){return h(function n(){var r,i,a,o,s,u,c,l,d;return L(n,function(n){switch(n.j){case 1:return r=qe,S(n,Cn(t.a.I,r.qa),2);case 2:return t.C++,t.D=!1,i=t.C,a=t.a.I,o=new Map,s=new Set,o.set(r.qa,e),s.add(e),S(n,a.init(o,!1),3);case 3:return t.f?n.return():S(n,bo(t,s),4);case 4:if(t.f)return n.return();u=t.a.I.g.isTextVisible()||t.g.alwaysStreamText,t.C!=i||t.b.has(r.qa)||t.D||!u||(c=t.a.Sa(),l=xo(t,c),d=yo(e,l,0),t.b.set(r.qa,d),Po(t,d,0)),_(n)}})})}function fo(t,e){var n=t.b.get("video");if(n){var r=n.stream;if(r)if(e){var i=r.trickModeVideo;i&&!n.Ia&&(po(t,i,!1,0,!1),n.Ia=r)}else(r=n.Ia)&&(n.Ia=null,po(t,r,!0,0,!1))}}function ho(t,e,n,r){e.video&&po(t,e.video,n,r,!1),e.audio&&po(t,e.audio,n,r,!1)}function po(t,e,n,r,i){var a=t.b.get(e.type);if(!a&&"text"==e.type&&t.g.ignoreTextStreamFailures)lo(t,e);else if(a){var o=Co(t,e),s=Array.from(t.b.values()).every(function(t){return t.pa==a.pa});n&&o!=a.pa&&s?t.b.forEach(function(e){mo(t,e)}):(a.Ia&&(e.trickModeVideo?(a.Ia=e,e=e.trickModeVideo):a.Ia=null),(s=t.h[o])&&s.zb&&(s=t.i.get(e.id))&&s.zb&&(a.stream!=e||i)&&("text"==e.type&&Tn(t.a.I,Wt(e.mimeType,e.codecs)),a.stream=e,a.hc=!0,function(t,e,n){if(!e.Kb)return!1;var r=t.a.Sa(),i=_n(t.a.I,e.type);if(null==(n=(n=So(t,e,r,i,n))&&n.a?n.a-n.b:null))return!1;var a=e.stream.initSegmentReference;return a&&(n+=(a.a?a.a-a.b:null)||0),a=t.a.getBandwidthEstimate(),8*n/a<i-r-Math.max(t.c.minBufferTime||0,t.g.rebufferingGoal)||e.Kb.b.a>n}(t,a,o)&&a.Kb.abort(),n&&(a.Pa?a.uc=!0:a.Ha?(a.Ma=!0,a.Zb=r,a.uc=!0):(Mo(a),Ao(t,a,!0,r).catch(function(e){t.a&&t.a.onError(e)})))))}}function mo(t,e){e.Pa||e.Ma||(e.Ha?(e.Ma=!0,e.Zb=0):null==Sn(t.a.I,e.type)?null==e.Da&&Po(t,e,0):(Mo(e),Ao(t,e,!1,0).catch(function(e){t.a&&t.a.onError(e)})))}function vo(t,e,n,r,i){return h(function a(){var o,s,u,c,l,d,f;return L(a,function(a){switch(a.j){case 1:return o=t.a.Sa(),s=xo(t,o),u=qe,c=new Map,l=new Set,e&&(c.set(u.Ab,e),l.add(e)),n&&(c.set(u.Na,n),l.add(n)),r&&(c.set(u.qa,r),l.add(r)),d=t.a.I,f=t.g.forceTransmuxTS,S(a,d.init(c,f),2);case 2:return t.f?a.return():(function(t){var e=t.c.presentationTimeline.Y();1/0>e?t.a.I.wa(e):t.a.I.wa(Math.pow(2,32))}(t),S(a,bo(t,l),3));case 3:if(t.f)return a.return();c.forEach(function(e,n){if(!t.b.has(n)){var r=yo(e,s,i);t.b.set(n,r),Po(t,r,0)}}),_(a)}})})}function yo(t,e,n){return{stream:t,type:t.type,pb:null,Aa:null,Ia:null,hc:!0,pa:e,endOfStream:!1,Ha:!1,Da:null,Ma:!1,Zb:0,uc:!1,Pa:!1,cd:!1,Ib:!1,Zd:n||0,Kb:null}}function go(t,e){var n=t.h[e];if(n)return n.promise;n={promise:new pt,zb:!1},t.h[e]=n;for(var r=new Set,i=d(t.c.periods[e].variants),a=i.next();!a.done;a=i.next())(a=a.value).video&&r.add(a.video),a.video&&a.video.trickModeVideo&&r.add(a.video.trickModeVideo),a.audio&&r.add(a.audio);for(a=(i=d(t.c.periods[e].textStreams)).next();!a.done;a=i.next())r.add(a.value);return t.v=t.v.then(function(){if(!this.f)return bo(this,r)}.bind(t)).then(function(){this.f||(this.h[e].promise.resolve(),this.h[e].zb=!0)}.bind(t)).catch(function(t){this.f||(this.h[e].promise.catch(function(){}),this.h[e].promise.reject(),delete this.h[e],this.a.onError(t))}.bind(t)),n.promise}function bo(t,e){return h(function n(){var r,i,a,o,s,u,c;return L(n,function(n){switch(n.j){case 1:r=[];for(var l=d(e),f=l.next();!f.done;f=l.next())i=f.value,(a=t.i.get(i.id))?r.push(a.promise):(t.i.set(i.id,{promise:new pt,zb:!1}),r.push(i.createSegmentIndex()));return E(n,2),S(n,Promise.all(r),4);case 4:if(t.f)return n.return();C(n,3);break;case 2:if(o=k(n),t.f)return n.return();for(f=(n=d(e)).next();!f.done;f=n.next())s=f.value,t.i.get(s.id).promise.catch(function(){}),t.i.get(s.id).promise.reject(),t.i.delete(s.id);throw o;case 3:for(f=(l=d(e)).next();!f.done;f=l.next())u=f.value,(c=t.i.get(u.id)).zb||(c.promise.resolve(),c.zb=!0);_(n)}})})}function wo(t,e){if(!t.f&&!e.Ha&&null!=e.Da&&!e.Pa)if(e.Da=null,e.Ma)Ao(t,e,e.uc,e.Zb);else{try{var n=function(t,e){function n(t){return"text"==t.type&&"application/cea-608"==t.stream.mimeType}if(n(e))return t.a.I.rc(e.stream.originalId||""),null;var r=t.a.Sa(),i=To(t,e,r),a=Co(t,e.stream),o=xo(t,i),s=function(t,e,n){return"text"==e?null==(t=t.a).b||t.b<n?0:t.b-Math.max(n,t.a):Be(t=En(t,e),n)}(t.a.I,e.type,r),u=Math.max(t.c.minBufferTime||0,t.g.rebufferingGoal,t.g.bufferingGoal)*t.l;if(i>=t.c.presentationTimeline.Y())return e.endOfStream=!0,"video"==e.type&&(i=t.b.get("text"))&&"application/cea-608"==i.stream.mimeType&&(i.endOfStream=!0),null;if(e.endOfStream=!1,e.pa=o,o!=a)return null;if(s>=u)return.5;if(o=_n(t.a.I,e.type),!(o=So(t,e,r,o,a)))return 1;var c=1/0;return Array.from(t.b.values()).forEach(function(e){n(e)||(e=To(t,e,r),c=Math.min(c,e))}),i>=c+t.c.presentationTimeline.a?1:(e.Zd=0,function(t,e,n,r,i){var a=t.c.periods[r],o=e.stream,s=t.c.presentationTimeline.Y(),u=t.c.periods[r+1];r=function(t,e,n,r,i){return e.hc?(n=function(t,e,n,r,i){return"text"==e?(t.a.m=n,(t=t.a).f=r,t.h=i,Promise.resolve()):Promise.all([kn(t,e,t.oe.bind(t,e)),kn(t,e,t.Sf.bind(t,e,n)),kn(t,e,t.Pf.bind(t,e,r,i))])}(t.a.I,e.type,t.c.periods[n].startTime-e.stream.presentationTimeOffset,r,i),e.stream.initSegmentReference?(t=ko(t,e,e.stream.initSegmentReference).then(function(t){if(!this.f)return xn(this.a.I,e.type,t,null,null,e.stream.closedCaptions&&0<e.stream.closedCaptions.size)}.bind(t)).catch(function(t){return e.hc=!0,Promise.reject(t)}),Promise.all([n,t])):n):Promise.resolve()}(t,e,r,Math.max(0,a.startTime-.1),u?u.startTime+.01:s),e.Ha=!0,e.hc=!1,s=ko(t,e,i),Promise.all([r,s]).then(function(t){if(!this.f&&!this.m)return function(t,e,n,r,i,a,o){var s=i.closedCaptions&&0<i.closedCaptions.size;return null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new Jr).ea("emsg",t.M.bind(t,r,a,i.emsgSchemeIdUris)).parse(o),function(t,e,n){var r=Math.max(t.g.bufferBehind,t.c.presentationTimeline.a),i=Sn(t.a.I,e.type);return null==i?Promise.resolve():0>=(n=n-i-r)?Promise.resolve():t.a.I.remove(e.type,i,i+n).then(function(){}.bind(t))}(t,e,n).then(function(){if(!this.f)return xn(this.a.I,e.type,o,a.startTime+r.startTime,a.endTime+r.startTime,s)}.bind(t)).then(function(){if(!this.f)return e.pb=i,e.Aa=a,Promise.resolve()}.bind(t))}(this,e,n,a,o,i,t[1])}.bind(t)).then(function(){this.f||this.m||(e.Ha=!1,e.cd=!1,e.Ma||this.a.Yc(),Po(this,e,0),function(t,e){if(!t.o){var n=Array.from(t.b.values());if(1==n.length&&"text"==n[0].type||(t.o=n.every(function(t){return"text"==t.type||!t.Ma&&!t.Pa&&t.Aa})),t.o){for(n=Co(t,e),t.h[n]||go(t,n).then(function(){this.f||this.a.Kd()}.bind(t)).catch(Fe.ic),n=0;n<t.c.periods.length;++n)go(t,n).catch(Fe.ic);t.a.sf&&t.a.sf()}}}(this,o))}.bind(t)).catch(function(t){this.f||this.m||(e.Ha=!1,"text"==e.type&&this.g.ignoreTextStreamFailures?this.b.delete("text"):7001==t.code?(e.Ha=!1,e.Da=null,Po(this,e,0)):3017==t.code?function(t,e,n){if(!Array.from(t.b.values()).some(function(t){return t!=e&&t.cd})){var r=Math.round(100*t.l);if(20<r)t.l-=.2;else{if(!(4<r))return e.Ib=!0,t.m=!0,void t.a.onError(n);t.l-=.04}e.cd=!0}Po(t,e,4)}(this,e,t):(e.Ib=!0,t.severity=2,Io(this,t)))}.bind(t))}(t,e,r,a,o),null)}(t,e);null!=n&&(Po(t,e,n),e.Ib=!1)}catch(e){return void Io(t,e)}n=Array.from(t.b.values()),function(t,e){var n=Co(t,e.stream);if(e.pa!=n){var r=e.pa,i=Array.from(t.b.values());i.every(function(t){return t.pa==r})&&i.every(Eo)&&go(t,r).then(function(){if(!this.f&&i.every(function(t){var e=Eo(t),n=Co(this,t.stream);return e&&t.pa==r&&n!=r}.bind(this))){var t=this.c.periods[r],e=this.a.Ld(t),n=new Map;e.variant&&e.variant.video&&n.set("video",e.variant.video),e.variant&&e.variant.audio&&n.set("audio",e.variant.audio),e.text&&n.set("text",e.text);var a=d(this.b.keys());for(e=a.next();!e.done;e=a.next())if(e=e.value,!n.has(e)&&"text"!=e)return void this.a.onError(new ht(2,5,5005));for(a=d(Array.from(n.keys())),e=a.next();!e.done;e=a.next())if(e=e.value,!this.b.has(e)){if("text"!=e)return void this.a.onError(new ht(2,5,5005));vo(this,null,null,n.get("text"),t.startTime),n.delete(e)}for(t=d(Array.from(this.b.keys())),e=t.next();!e.done;e=t.next())e=e.value,(a=n.get(e))?(po(this,a,!1,0,!1),Po(this,this.b.get(e),0)):this.b.delete(e);this.a.Kd()}}.bind(t)).catch(Fe.ic)}}(t,e),t.o&&n.every(function(t){return t.endOfStream})&&t.a.I.endOfStream().then(function(){if(!this.f){var t=this.a.I.Y();0!=t&&t<this.c.presentationTimeline.Y()&&this.c.presentationTimeline.wa(t)}}.bind(t))}}function To(t,e,n){return e.pb&&e.Aa?(n=Co(t,e.pb),t.c.periods[n].startTime+e.Aa.endTime):Math.max(n,e.Zd)}function So(t,e,n,r,i){if(e.Aa&&e.stream==e.pb)return _o(t,e,i,e.Aa.position+1);if(e.Aa?(n=Co(t,e.pb),n=e.stream.findSegmentPosition(Math.max(0,t.c.periods[n].startTime+e.Aa.endTime-t.c.periods[i].startTime))):n=e.stream.findSegmentPosition(Math.max(0,(r||n)-t.c.periods[i].startTime)),null==n)return null;var a=null;return null==r&&(a=_o(t,e,i,Math.max(0,n-1))),a||_o(t,e,i,n)}function _o(t,e,n,r){return n=t.c.periods[n],(e=e.stream.getSegmentReference(r))?(t=(r=t.c.presentationTimeline).Hb(),r=r.nb(),n.startTime+e.endTime<t||n.startTime+e.startTime>r?null:e):null}function Eo(t){return!t.Ha&&null==t.Da&&!t.Ma&&!t.Pa}function xo(t,e){var n=Ba(t.c.periods,e+ze);return n?t.c.periods.indexOf(n):0}function Co(t,e){for(var n=t.c.periods,r=0;r<n.length;r++){for(var i=n[r],a=new Set,o=d(i.variants),s=o.next();!s.done;s=o.next())(s=s.value).audio&&a.add(s.audio),s.video&&a.add(s.video),s.video&&s.video.trickModeVideo&&a.add(s.video.trickModeVideo);for(o=(i=d(i.textStreams)).next();!o.done;o=i.next())a.add(o.value);if(a.has(e))return r}return-1}function ko(t,e,n){return n=_i(n.c(),n.b,n.a,t.g.retryParameters),t=t.a.rb.request(1,n),e.Kb=t,t.promise.then(function(t){return e.Kb=null,t.data})}function Ao(t,e,n,r){return h(function i(){var a,o,s;return L(i,function(i){switch(i.j){case 1:return e.Ma=!1,e.uc=!1,e.Zb=0,e.Pa=!0,r?(o=t.a.Sa(),s=t.a.I.Y(),a=t.a.I.remove(e.type,o+r,s)):a=Cn(t.a.I,e.type).then(function(){if(!this.f&&n)return this.a.I.flush(e.type)}.bind(t)),S(i,a,2);case 2:if(t.f)return i.return();e.pb=null,e.Aa=null,e.Pa=!1,e.endOfStream=!1,Po(t,e,0),_(i)}})})}function Po(t,e,n){e.Da=new ct(function(){return h(function n(){var r;return L(n,function(n){switch(n.j){case 1:return E(n,2),S(n,wo(t,e),4);case 4:C(n,0);break;case 2:r=k(n),t.a&&t.a.onError(r),_(n)}})})}).O(n)}function Mo(t){null!=t.Da&&(t.Da.stop(),t.Da=null)}function Io(t,e){ft(t.G).then(function(){this.f||(this.a.onError(e),e.handled||this.g.failureCallback(e))}.bind(t))}function Do(t,e,n,r,i,a){if(200<=n&&299>=n&&202!=n)return{uri:i||r,$c:r,data:e,headers:t,fromCache:!!t["x-shaka-from-cache"]};i=null;try{i=ie(e)}catch(t){}throw new ht(401==n||403==n?2:1,1,1001,r,n,i,t,a)}function Oo(t,e,n,r){var i=new Oo.b;Kt(e.headers).forEach(function(t,e){i.append(e,t)});var a=new Oo.a,o={ud:!1,ge:!1};if(t=new mt(t=Oo.l(t,n,{body:e.body||void 0,headers:i,method:e.method,signal:a.signal,credentials:e.allowCrossSiteCredentials?"include":void 0},o,r),function(){return o.ud=!0,a.abort(),Promise.resolve()}),e=e.retryParameters.timeout){var s=new lt(function(){o.ge=!0,a.abort()});s.O(e/1e3),t.finally(function(){s.stop()})}return t}function Lo(t,e,n,r){var i=new Lo.f,a=Date.now(),o=0;return new mt(new Promise(function(s,u){for(var c in i.open(e.method,t,!0),i.responseType="arraybuffer",i.timeout=e.retryParameters.timeout,i.withCredentials=e.allowCrossSiteCredentials,i.onabort=function(){u(new ht(1,1,7001,t,n))},i.onload=function(e){for(var r=(e=e.target).getAllResponseHeaders().trim().split("\r\n"),i={},a=(r=d(r)).next();!a.done;a=r.next())i[(a=a.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ");try{var o=Do(i,e.response,e.status,t,e.responseURL,n);s(o)}catch(t){u(t)}},i.onerror=function(e){u(new ht(1,1,1002,t,e,n))},i.ontimeout=function(){u(new ht(1,1,1003,t,n))},i.onprogress=function(t){var e=Date.now();(100<e-a||t.lengthComputable&&t.loaded==t.total)&&(r(e-a,t.loaded-o,t.total-t.loaded),o=t.loaded,a=e)},e.headers)i.setRequestHeader(c.toLowerCase(),e.headers[c]);i.send(e.body)}),function(){return i.abort(),Promise.resolve()})}function Uo(){this.a=this.f=this.b=0,this.c=new Map,this.g=0}function Ro(t,e){this.g=t,this.b=new Map,this.c=!1,this.f=e,this.a=new Uo}function No(t,e,n,r,i){var a=function(t,e){t.b+=e;var n=t.g;return t.g++,t.c.set(n,e),n}(t.a,r);r=t.b.get(e)||Promise.resolve(),t.b.set(e,r.then(function(){return h(function e(){var r;return L(e,function(e){switch(e.j){case 1:return S(e,function(t,e){return h(function n(){var r,i;return L(n,function(n){switch(n.j){case 1:return r=t.g.request(1,e),S(n,r.promise,2);case 2:return i=n.s,n.return(i.data)}})})}(t,n),2);case 2:if(r=e.s,t.c)throw new ht(2,9,7001);t.a.close(a,r.byteLength);var o=t.a;return t.f(0==o.b?0:o.f/o.b,t.a.a),e.return(i(r))}})})}))}function jo(t,e){var n=this;this.c=t,this.b=t.objectStore(e),this.a=new pt,t.onabort=function(t){t.preventDefault(),n.a.reject()},t.onerror=function(t){t.preventDefault(),n.a.reject()},t.oncomplete=function(){n.a.resolve()}}function Bo(t,e){return new Promise(function(n,r){var i=t.b.openCursor();i.onerror=r,i.onsuccess=function(t){if(!(t=t.target.result))return n();e(t.key,t.value,t),t.continue()}})}function $o(t){this.b=t,this.a=[]}function Fo(t,e){return Ho(t,e,"readonly")}function Vo(t,e){return Ho(t,e,"readwrite")}function Ho(t,e,n){var r=new jo(n=t.b.transaction([e],n),e);return t.a.push(r),r.promise().then(function(){kt(t.a,r)},function(){kt(t.a,r)}),r}function qo(t){this.a=new $o(t)}function zo(){this.a=new Map}function Ko(t,e,n){if(!(t=t.a.get(e)))throw new ht(2,9,9013,"Could not find mechanism with name "+e);if(!(e=t.getCells().get(n)))throw new ht(2,9,9013,"Could not find cell with name "+n);return e}function Go(t,e){Wo.set(t,e)}oo.prototype.destroy=function(){for(var t=d(this.b.values()),e=t.next();!e.done;e=t.next())Mo(e.value);return this.b.clear(),this.i.clear(),this.g=this.h=this.v=this.c=this.a=null,this.f=!0,Promise.resolve()},oo.prototype.configure=function(t){this.g=t,this.G=new dt({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0},!0)},oo.prototype.start=function(){var t=this;return h(function e(){var n,r,i;return L(e,function(e){switch(e.j){case 1:return n=t.a.Sa(),r=xo(t,n),(i=t.a.Ld(t.c.periods[r])).variant||i.text?S(e,vo(t,i.variant?i.variant.audio:null,i.variant?i.variant.video:null,i.text,n),2):e.return(new ht(2,5,5005));case 2:if(t.f)return e.return();t.a&&t.a.gf&&t.a.gf(),_(e)}})})},oo.prototype.M=function(t,e,n,r){var i=r.reader.ad(),a=r.reader.ad(),o=r.reader.F(),s=r.reader.F(),u=r.reader.F(),c=r.reader.F();r=r.reader.Xa(r.reader.K.byteLength-r.reader.ba()),t=t.startTime+e.startTime+s/o,n.includes(i)&&("urn:mpeg:dash:event:2012"==i?this.a.hf():this.a.onEvent(new St("emsg",{detail:{startTime:t,endTime:t+u/o,schemeIdUri:i,value:a,timescale:o,presentationTimeDelta:s,eventDuration:u,id:c,messageData:r}})))},$("shaka.net.HttpFetchPlugin",Oo),Oo.l=function(t,e,n,r,i){return h(function a(){var o,s,u,c,l,d,f,p,m,v,y,g;return L(a,function(a){switch(a.j){case 1:return o=Oo.g,s=Oo.c,d=l=0,f=Date.now(),E(a,2),S(a,o(t,n),4);case 4:return u=a.s,p=u.clone().body.getReader(),v=(m=u.headers.get("Content-Length"))?parseInt(m,10):0,new s({start:function(t){!function e(){return h(function n(){var r,a;return L(n,function(n){switch(n.j){case 1:return E(n,2),S(n,p.read(),4);case 4:r=n.s,C(n,3);break;case 2:return k(n),n.return();case 3:r.done||(l+=r.value.byteLength),(100<(a=Date.now())-f||r.done)&&(i(a-f,l-d,v-l),d=l,f=a),r.done?t.close():(t.enqueue(r.value),e()),_(n)}})})}()}}),S(a,u.arrayBuffer(),5);case 5:c=a.s,C(a,3);break;case 2:if(y=k(a),r.ud)throw new ht(1,1,7001,t,e);if(r.ge)throw new ht(1,1,1003,t,e);throw new ht(1,1,1002,t,y,e);case 3:return g={},u.headers.forEach(function(t,e){g[e.trim()]=t}),a.return(Do(g,c,u.status,t,u.url,e))}})})},Oo.isSupported=function(){if(!t.ReadableStream)return!1;try{new ReadableStream({})}catch(t){return!1}return!(!t.fetch||!t.AbortController)},Oo.isSupported=Oo.isSupported,Oo.g=t.fetch,Oo.a=t.AbortController,Oo.c=t.ReadableStream,Oo.b=t.Headers,Oo.isSupported()&&(Lt("http",Oo,2),Lt("https",Oo,2)),$("shaka.net.HttpXHRPlugin",Lo),Lo.f=t.XMLHttpRequest,Lt("http",Lo,1),Lt("https",Lo,1),Uo.prototype.close=function(t,e){if(this.c.has(t)){var n=this.c.get(t);this.c.delete(t),this.f+=n,this.a+=e}},Ro.prototype.destroy=function(){return this.c=!0,Promise.all(this.b.values()).then(function(){},function(){})},jo.prototype.abort=function(){try{this.c.abort()}catch(t){}return this.a.catch(function(){})},jo.prototype.store=function(){return this.b},jo.prototype.promise=function(){return this.a},$o.prototype.destroy=function(){return Promise.all(this.a.map(function(t){return t.abort()}))},qo.prototype.destroy=function(){return this.a.destroy()},qo.prototype.getAll=function(){var t=this;return h(function e(){var n,r;return L(e,function(e){switch(e.j){case 1:return n=Fo(t.a,"session-ids"),r=[],S(e,Bo(n,function(t,e){r.push(e)}),2);case 2:return S(e,n.promise(),3);case 3:return e.return(r)}})})},qo.prototype.add=function(t){for(var e=Vo(this.a,"session-ids"),n=e.store(),r=(t=d(t)).next();!r.done;r=t.next())n.add(r.value);return e.promise()},qo.prototype.remove=function(t){var e=this;return h(function n(){var r;return L(n,function(n){switch(n.j){case 1:return S(n,Bo(r=Vo(e.a,"session-ids"),function(e,n,r){0<=t.indexOf(n.sessionId)&&r.delete()}),2);case 2:return S(n,r.promise(),0)}})})},zo.prototype.destroy=function(){for(var t=[],e=d(this.a.values()),n=e.next();!n.done;n=e.next())t.push(n.value.destroy());return this.a.clear(),Promise.all(t)},zo.prototype.init=function(){var t=this;Wo.forEach(function(e,n){var r=e();r&&t.a.set(n,r)});for(var e=[],n=d(this.a.values()),r=n.next();!r.done;r=n.next())e.push(r.value.init());return Promise.all(e)},zo.prototype.erase=function(){var t=this;return h(function e(){var n,r;return L(e,function(e){switch(e.j){case 1:return n=Array.from(t.a.values()),(r=0<n.length)||Wo.forEach(function(t){(t=t())&&n.push(t)}),S(e,Promise.all(n.map(function(t){return t.erase()})),2);case 2:if(!r)return S(e,Promise.all(n.map(function(t){return t.destroy()})),0);e.A(0)}})})},$("shaka.offline.StorageMuxer.register",Go),$("shaka.offline.StorageMuxer.unregister",function(t){Wo.delete(t)});var Wo=new Map;function Xo(t){this.a=new $o(t)}function Yo(t){return Promise.reject(new ht(2,9,9011,"Cannot add new value to "+t))}function Qo(t,e,n,r){var i=(t=Vo(t.a,e)).store();return n.forEach(function(t){i.delete(t).onsuccess=function(){return r(t)}}),t.promise()}function Jo(t,e,n){var r=(t=Fo(t.a,e)).store(),i={},a=[];return n.forEach(function(t){r.get(t).onsuccess=function(e){null==(e=e.target.result)&&a.push(t),i[t]=e}}),t.promise().then(function(){return a.length?Promise.reject(new ht(2,9,9012,"Could not find values for "+a)):n.map(function(t){return i[t]})})}function Zo(t){return{originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:null==t.expiration?1/0:t.expiration,periods:t.periods.map(ts),sessionIds:t.sessionIds,drmInfo:t.drmInfo,appMetadata:t.appMetadata}}function ts(t){return function(t){var e=t.streams.filter(function(t){return"audio"==t.contentType}),n=t.streams.filter(function(t){return"video"==t.contentType});if(!e.every(function(t){return t.variantIds})||!n.every(function(t){return t.variantIds})){e.forEach(function(t){t.variantIds=[]}),n.forEach(function(t){t.variantIds=[]});var r=0;if(n.length&&!e.length){var i=r++;n.forEach(function(t){t.variantIds.push(i)})}if(!n.length&&e.length){var a=r++;e.forEach(function(t){t.variantIds.push(a)})}n.length&&e.length&&e.forEach(function(t){n.forEach(function(e){var n=r++;t.variantIds.push(n),e.variantIds.push(n)})})}}(t),t.streams.forEach(function(){}),{startTime:t.startTime,streams:t.streams.map(es)}}function es(t){var e=t.$e?is(t.$e):null;return{id:t.id,originalId:null,primary:t.primary,presentationTimeOffset:t.presentationTimeOffset,contentType:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,kind:t.kind,language:t.language,label:t.label,width:t.width,height:t.height,initSegmentKey:e,encrypted:t.encrypted,keyId:t.keyId,segments:t.segments.map(ns),variantIds:t.variantIds}}function ns(t){var e=is(t.uri);return{startTime:t.startTime,endTime:t.endTime,dataKey:e}}function rs(t){return{data:t.data}}function is(t){var e;if((e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t))||(e=/^offline:segment\/([0-9]+)$/.exec(t)))return Number(e[1]);throw new ht(2,9,9004,"Could not parse uri "+t)}function as(t,e,n,r){this.a=new $o(t),this.c=e,this.b=n,this.f=r}function os(t,e,n){if(t.f)return Promise.reject(new ht(1,9,9011,"Cannot add new value to "+e));var r=(t=Vo(t.a,e)).store(),i=[];return n.forEach(function(t){r.add(t).onsuccess=function(t){i.push(t.target.result)}}),t.promise().then(function(){return i})}function ss(t,e,n,r){var i=(t=Vo(t.a,e)).store();return n.forEach(function(t){i.delete(t).onsuccess=function(){return r(t)}}),t.promise()}function us(t,e,n){var r=(t=Fo(t.a,e)).store(),i={},a=[];return n.forEach(function(t){var e=r.get(t);e.onsuccess=function(){null==e.result&&a.push(t),i[t]=e.result}}),t.promise().then(function(){return a.length?Promise.reject(new ht(1,9,9012,"Could not find values for "+a)):n.map(function(t){return i[t]})})}function cs(){this.g=this.c=this.b=this.a=this.f=null}function ls(t,e,n,r){this.a=t,this.g=e,this.f=n,this.c=r,this.b=["offline:",t,"/",e,"/",n,"/",r].join("")}function ds(t){if(null==(t=/^offline:([a-z]+)\/([^\/]+)\/([^\/]+)\/([0-9]+)$/.exec(t)))return null;var e=t[1];if("manifest"!=e&&"segment"!=e)return null;var n=t[2];if(!n)return null;var r=t[3];return r&&null!=e?new ls(e,n,r,Number(t[4])):null}function fs(t,e){this.b=t,this.a=e}function hs(t,e,n){var r=e.streams.filter(function(t){return"audio"==t.contentType}),i=e.streams.filter(function(t){return"video"==t.contentType});return r=function(t,e,n){for(var r=new Set,i=d(e),a=i.next();!a.done;a=i.next()){var o=d(a.value.variantIds);for(a=o.next();!a.done;a=o.next())r.add(a.value)}for(i=d(n),a=i.next();!a.done;a=i.next())for(o=d(a.value.variantIds),a=o.next();!a.done;a=o.next())r.add(a.value);for(i=new Map,r=d(r),a=r.next();!a.done;a=r.next())a=a.value,i.set(a,{id:a,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0});for(e=d(e),r=e.next();!r.done;r=e.next())for(r=r.value,a=ps(t,r),o=d(r.variantIds),r=o.next();!r.done;r=o.next())(r=i.get(r.value)).language=a.language,r.primary=r.primary||a.primary,r.audio=a;for(n=d(n),e=n.next();!e.done;e=n.next())for(r=e.value,e=ps(t,r),a=d(r.variantIds),r=a.next();!r.done;r=a.next())(r=i.get(r.value)).primary=r.primary||e.primary,r.video=e;return i}(t,r,i),i=e.streams.filter(function(t){return"text"==t.contentType}).map(function(e){return ps(t,e)}),e.streams.forEach(function(r){r=r.segments.map(function(e,n){return ms(t,n,e)}),n.sb(r,e.startTime)}),{startTime:e.startTime,variants:Array.from(r.values()),textStreams:i}}function ps(t,e){var n=e.segments.map(function(e,n){return ms(t,n,e)}),r=new ai(n);return n={id:e.id,originalId:e.originalId,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(t){return r.find(t)},getSegmentReference:function(t){return r.get(t)},initSegmentReference:null,presentationTimeOffset:e.presentationTimeOffset,mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate||void 0,kind:e.kind,encrypted:e.encrypted,keyId:e.keyId,language:e.language,label:e.label||null,type:e.contentType,primary:e.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},null!=e.initSegmentKey&&(n.initSegmentReference=function(t,e){var n=new ls("segment",t.b,t.a,e);return new Kr(function(){return[n.toString()]},0,null)}(t,e.initSegmentKey)),n}function ms(t,e,n){var r=new ls("segment",t.b,t.a,n.dataKey);return new Gr(e,n.startTime,n.endTime,function(){return[r.toString()]},0,null)}function vs(){this.a=null}function ys(t){var e=ds(t);return e&&"manifest"==e.a?ys.h(t):e&&"segment"==e.a?ys.i(e.key(),e):vt(new ht(2,1,9004,t))}function gs(t,e,n){return h(function r(){var i,a,o,s,u,c;return L(r,function(r){switch(r.j){case 1:i=[];for(var l=[],f=d(n),p=f.next();!p.done;p=f.next()){p=p.value;for(var m=!1,v=d(l),y=v.next();!y.done;y=v.next())if(bs((y=y.value).info,p)){y.sessionIds.push(p.sessionId),m=!0;break}m||l.push({info:p,sessionIds:[p.sessionId]})}a=d(l),o=a.next();case 2:if(o.done){r.A(4);break}return s=o.value,u=function(t,e,n){return h(function r(){var i,a;return L(r,function(r){switch(r.j){case 1:return i=new me({rb:e,onError:function(){},kc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),E(r,2),i.configure(t),S(r,function(t,e,n,r,i,a){var o=new Map;return o.set(e,{audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:e,drmInfos:[{keySystem:e,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,initData:null,keyIds:null}]}),_e(t,o)}(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:C(r,3);break;case 2:return k(r),S(r,i.destroy(),5);case 5:return r.return([]);case 3:return E(r,6),S(r,ge(i),8);case 8:C(r,7);break;case 6:return k(r),S(r,i.destroy(),9);case 9:return r.return([]);case 7:return a=[],S(r,Promise.all(n.sessionIds.map(function(t){return h(function e(){return L(e,function(e){switch(e.j){case 1:return E(e,2),S(e,function(t,e){return h(function n(){var r,i,a;return L(n,function(n){switch(n.j){case 1:return S(n,Ee(t,e),2);case 2:return(r=n.s)?(i=[],(a=t.b.get(r))&&(a.xa=new pt,i.push(a.xa)),i.push(r.remove()),S(n,Promise.all(i),0)):n.return()}})})}(i,t),4);case 4:a.push(t),C(e,0);break;case 2:k(e),_(e)}})})})),10);case 10:return S(r,i.destroy(),11);case 11:return r.return(a)}})})}(t,e,s),S(r,u,5);case 5:c=r.s,i=i.concat(c),o=a.next(),r.A(2);break;case 4:return r.return(i)}})})}function bs(t,e){function n(t,e){return t.robustness==e.robustness&&t.contentType==e.contentType}return t.keySystem==e.keySystem&&t.licenseUri==e.licenseUri&&At(t.audioCapabilities,e.audioCapabilities,n)&&At(t.videoCapabilities,e.videoCapabilities,n)}function ws(t,e){var n={ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null},r=this;this.g=e,this.c=t,this.i=n,this.h=null,this.f=[],this.b=this.a=null,this.l=!0,this.m=Promise.resolve().then(function(){return function(t){return h(function e(){return L(e,function(e){switch(e.j){case 1:if(t.l){if(0==t.f.length||t.a&&!t.a.Ta)var n=!1;else{t.a&&(t.a.ta.Wa(),t.a=null);var r=(n=t.f.shift()).create(t.i);r?(n.ta.tb(),t.a={node:r.node,payload:r.payload,Ta:r.Ta,ta:n.ta}):n.ta.lc(),n=!0}return n?n=Promise.resolve():t.a?n=function(t){return h(function e(){var n,r;return L(e,function(e){switch(e.j){case 1:return t.c=t.g.Pe(t.c,t.i,t.a.node,t.a.payload),E(e,2),t.b=t.g.ze(t.c,t.i,t.a.payload),S(e,t.b.promise,4);case 4:t.b=null,t.c==t.a.node&&(t.a.ta.jc(),t.a=null),C(e,0);break;case 2:return 7001==(n=k(e)).code?t.a.ta.Wa():t.a.ta.onError(n),t.a=null,t.b=null,r=t,S(e,t.g.handleError(t.i,n),5);case 5:r.c=e.s,_(e)}})})}(t):(t.g.ff(t.c),t.h=new pt,n=t.h),S(e,n,1)}e.A(0)}})})}(r)})}function Ts(t,e){var n={tb:function(){},jc:function(){},Wa:function(){},onError:function(){},lc:function(){},sg:function(){}};return t.f.push({create:e,ta:n}),t.b&&t.b.abort(),Ss(t),n}function Ss(t){t.h&&(t.h.resolve(),t.h=null)}function _s(t){this.a=null;for(var e=0;e<t.textTracks.length;++e){var n=t.textTracks[e];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=t.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function Es(t){if(t.startTime>=t.endTime)return null;var e=new VTTCue(t.startTime,t.endTime,t.payload);e.lineAlign=t.lineAlign,e.positionAlign=t.positionAlign,e.size=t.size;try{e.align=t.textAlign}catch(t){}return"center"==t.textAlign&&"center"!=e.align&&(e.align="middle"),"vertical-lr"==t.writingMode?e.vertical="lr":"vertical-rl"==t.writingMode&&(e.vertical="rl"),1==t.lineInterpretation&&(e.snapToLines=!1),null!=t.line&&(e.line=t.line),null!=t.position&&(e.position=t.position),e}function xs(t,e){var n=t.mode;t.mode="showing"==n?"showing":"hidden";for(var r=t.cues,i=r.length-1;0<=i;i--){var a=r[i];a&&e(a)&&t.removeCue(a)}t.mode=n}function Cs(t,e,n,r,i){var a,o=i in r,s=!0;for(a in e){var u=i+"."+a,c=o?r[i]:n[a];o||a in n?void 0===e[a]?void 0===c||o?delete t[a]:t[a]=xt(c):c.constructor==Object&&e[a]&&e[a].constructor==Object?(t[a]||(t[a]=xt(c)),u=Cs(t[a],e[a],c,r,u),s=s&&u):typeof e[a]!=typeof c||null==e[a]||e[a].constructor!=c.constructor?s=!1:t[a]=e[a]:s=!1}return s}function ks(t,e){for(var n={},r=n,i=0,a=0;!(0>(i=t.indexOf(".",i)));)0!=i&&"\\"==t[i-1]||(r[a=t.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[t.substring(a).replace(/\\\./g,".")]=e,n}function As(){}function Ps(){var t=5e5,e=1/0;navigator.connection&&(t=1e6*navigator.connection.downlink,navigator.connection.saveData&&(e=360));var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,dash:{customScheme:function(t){if(t)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10,ignoreMinBufferTime:!1,autoCorrectDrift:!0}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(){},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1};Zt("Web0S")&&(i.stallEnabled=!1);var a={trackSelectionCallback:function(t){return t},progressCallback:function(){},usePersistentLicense:!0},o={drm:n,manifest:r,streaming:i,offline:a,abrFactory:Yn,abr:{enabled:!0,defaultBandwidthEstimate:t,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return a.trackSelectionCallback=function(t){return function(t,e){var n=t.filter(function(t){return"variant"==t.type}),r=[],i=Ln(e,n.map(function(t){return t.language}));i&&(r=n.filter(function(t){return Dn(t.language)==i})),0==r.length&&(r=n.filter(function(t){return t.primary})),0==r.length&&(n.map(function(t){return t.language}),r=n);var a=r.filter(function(t){return t.height&&480>=t.height});if(a.length&&(a.sort(function(t,e){return e.height-t.height}),r=a.filter(function(t){return t.height==a[0].height})),n=[],r.length){var o=Math.floor(r.length/2);r.sort(function(t,e){return t.bandwidth-e.bandwidth}),n.push(r[o])}for(r=d(t),o=r.next();!o.done;o=r.next())"text"==(o=o.value).type&&n.push(o);return n}(t,o.preferredAudioLanguage)},o}function Ms(t,e,n){var r={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return Cs(t,e,n||Ps(),r,"")}function Is(){this.a=null,this.b=[]}function Ds(t,e){if(null==t.a)t.a={timestamp:Date.now()/1e3,state:e,duration:0};else{var n=Date.now()/1e3;t.a.duration=n-t.a.timestamp,t.a.state!=e&&(t.b.push(t.a),t.a={timestamp:n,state:e,duration:0})}}function Os(t,e){var n=0;t.a&&t.a.state==e&&(n+=t.a.duration);for(var r=d(t.b),i=r.next();!i.done;i=r.next())n+=(i=i.value).state==e?i.duration:0;return n}function Ls(){this.b=this.c=null,this.a=[]}function Us(){this.f=this.l=this.b=this.h=this.i=this.g=this.m=NaN,this.a=new Is,this.c=new Ls}function Rs(e,n){var r=this;Et.call(this),this.h=bu,this.a=null,this.eb=!1,this.i=new Vt,this.vc=this.l=this.Bb=this.c=this.m=this.f=this.Sb=this.P=this.Tb=this.W=this.gb=this.o=this.D=this.g=this.G=null,this.Hd=1e9,this.Wb=new Set,this.ib=!0,this.Ea=null,this.Dd=!1,this.Bd=0,this.na=null,this.$=new ga,this.b=zs(this),this.Xb={width:1/0,height:1/0},this.v=null,this.Ub=new ka(this.b.preferredAudioLanguage,this.b.preferredVariantRole,this.b.preferredAudioChannelCount),this.ma=this.b.preferredTextLanguage,this.cb=this.b.preferredTextRole,n&&n(this),this.G=function(t){return new It(function(e,n){t.l&&t.l.segmentDownloaded(e,n)})}(this),this.i.w(t,"online",function(){r.fd()}),this.C={name:"detach"},this.M={name:"attach"},this.Fa={name:"unload"},this.Ec={name:"manifest-parser"},this.Cc={name:"manifest"},this.fb={name:"media-source"},this.wc={name:"drm-engine"},this.T={name:"load"},this.Hc={name:"src-equals-drm-engine"},this.hb={name:"src-equals"};var i=new Map;i.set(this.M,function(t,e){return bt(function(t,e,n){return null==e.u&&(e.u=n.u,t.i.w(e.u,"error",function(){var e=ou(t);e&&t.Ka(e)})),t.a=e.u,Promise.resolve()}(r,t,e))}),i.set(this.C,function(t){return t.u&&(r.i.da(t.u,"error"),t.u=null),r.a=null,bt(t=Promise.resolve())}),i.set(this.Fa,function(t){return bt($s(r,t))}),i.set(this.fb,function(e){return bt(e=function(e,n){return h(function r(){var i,a,o,s;return L(r,function(r){switch(r.j){case 1:return i=t.muxjs?new Ue:new Re,a=e.b.textDisplayFactory,o=new a,e.xc=a,s=new gn(n.u,i,o),S(r,s.o,2);case 2:e.D=s,_(r)}})})}(r,e))}),i.set(this.Ec,function(t,e){return bt(function(t,e,n){return h(function r(){var i,a,o;return L(r,function(r){switch(r.j){case 1:if(e.ya=n.ya,e.mimeType=n.mimeType,e.uri=n.uri,i=e.uri,a=t.G,t.Bb=i,e.ya){t.m=e.ya(),r.A(2);break}return o=t,S(r,Ti.create(i,a,t.b.manifest.retryParameters,e.mimeType),3);case 3:o.m=r.s;case 2:t.m.configure(t.b.manifest),_(r)}})})}(r,t,e))}),i.set(this.Cc,function(t){return function(t,e){var n=e.uri,r=t.G;t.Sb=new eo,function(t,e){t.b=e}(t.Sb,function(e){au(t,"timelineregionadded",e)});var i={networkingEngine:r,filterNewPeriod:function(e){return t.Fc(e)},filterAllPeriods:function(e){return Ks(t,e)},onTimelineRegionAdded:function(e){var n=t.Sb;t:{for(var r=d(n.a),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==e.schemeIdUri&&i.startTime==e.startTime&&i.endTime==e.endTime){r=i;break t}r=null}null==r&&(n.a.add(e),n.b(e))},onEvent:function(e){return t.dispatchEvent(e)},onError:function(e){return t.Ka(e)}};return new mt(Promise.resolve().then(function(){return h(function e(){var r;return L(e,function(e){switch(e.j){case 1:return r=t,S(e,t.m.start(n,i),2);case 2:if(r.c=e.s,t.dispatchEvent(new St("manifestparsed")),0==t.c.periods.length)throw new ht(2,4,4014);!function(t){function e(t){return t.video&&t.audio||t.video&&t.video.codecs.includes(",")}t.some(function(t){return t.variants.some(e)})&&t.forEach(function(t){t.variants=t.variants.filter(e)})}(t.c.periods),_(e)}})})}),function(){return t.m.stop()})}(r,t)}),i.set(this.wc,function(){return bt(function(t){return h(function e(){return L(e,function(e){switch(e.j){case 1:return t.g=new me({rb:t.G,onError:function(e){t.Ka(e)},kc:function(e){su(t,e)},onExpirationUpdated:function(e,n){uu(t,e,n)},onEvent:function(e){t.dispatchEvent(e)}}),t.g.configure(t.b.drm),S(e,ve(t.g,ja(t.c.periods),t.c.offlineSessionIds),2);case 2:Ks(t,t.c.periods),_(e)}})})}(r))}),i.set(this.T,function(t,e){return bt(function(t,e,n){return h(function r(){var i,a,o,s,u,c,l,f,h;return L(r,function(r){switch(r.j){case 1:return e.startTime=n.startTime,i=e.u,a=e.uri,t.Bb=a,t.v=new Us,o=function(){return Ys(t)},s=function(){var e=t.a.playbackRate;0!=e&&t.W.set(e)},t.i.w(i,"playing",o),t.i.w(i,"pause",o),t.i.w(i,"ended",o),t.i.w(i,"ratechange",s),u=t.b.abrFactory,t.l&&t.vc==u||(t.vc=u,t.l=new u,t.l.configure(t.b.abr)),function(t,e){for(var n=0;n<e.length;n++){for(var r=e[n],i=new Map,a=d(r.variants),o=a.next();!o.done;o=a.next())if((o=o.value).video&&o.video.closedCaptions)for(var s=d((o=o.video).closedCaptions.keys()),u=s.next();!u.done;u=s.next())if(u=u.value,!i.has(u)){var c={id:t.Hd++,originalId:u,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,keyId:null,language:o.closedCaptions.get(u),label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:o.roles,channelsCount:null,closedCaptions:null};i.set(u,c)}for(i=d(i.values()),a=i.next();!a.done;a=i.next())r.textStreams.push(a.value)}}(t,t.c.periods),t.Ub=new ka(t.b.preferredAudioLanguage,t.b.preferredVariantRole,t.b.preferredAudioChannelCount),t.ma=t.b.preferredTextLanguage,function(t,e,n){0<e&&(t.V()||t.de(e)),n<t.Y()&&(t.V()||t.wa(n))}(t.c.presentationTimeline,t.b.playRangeStart,t.b.playRangeEnd),S(r,t.g.Cb(i),2);case 2:return t.l.init(function(e,n,r){n=void 0!==n&&n,r=void 0===r?0:r;t:{for(var i=d(t.c.periods),a=i.next();!a.done;a=i.next())if((a=a.value).variants.includes(e)){i=a;break t}i=null}Hs(t,i,e,!0),t.f&&(ho(t.f,e,n,r),Zs(t))}),t.o=function(t,e){return new Qa(t.a,t.c,t.b.streaming,e,function(){t.gb&&Na(t.gb,!0),t.f&&function(t){function e(e){var i=t.a.I;return e="text"==e?null!=(e=i.a).a&&null!=e.b&&n>=e.a&&n<e.b:je(e=En(i,e),n,r)}var n=t.a.Sa(),r=t.g.smallGapLimit,i=xo(t,n);if(zt(t.b.values(),function(t){return t.pa==i}))for(var a=d(t.b.keys()),o=a.next();!o.done;o=a.next())e(o=o.value)||mo(t,t.b.get(o));else zt(t.b.keys(),e)||t.b.forEach(function(e){mo(t,e)})}(t.f)},function(e){return t.dispatchEvent(e)})}(t,e.startTime),t.gb=function(t){var e=new $a(t.c);!function(t,e){t.b=e}(e,function(){tu(t)});var n=new no(t.Sb);!function(t,e,n,r){t.a=e,t.b=n,t.c=r}(n,function(e){au(t,"timelineregionenter",e)},function(e){au(t,"timelineregionexit",e)},function(e,n){n||(au(t,"timelineregionenter",e),au(t,"timelineregionexit",e))});var r=new Ra(t.a);return r.a.add(e),r.a.add(n),r}(t),t.W=new Fa({ec:function(){return e.u.playbackRate},kd:function(t){e.u.playbackRate=t},Id:function(t){e.u.currentTime+=t}}),c=Math.max(t.c.minBufferTime,t.b.streaming.rebufferingGoal),Fs(t,c),t.f=function(t){return new oo(t.c,{Sa:function(){return t.o.h()},getBandwidthEstimate:function(){return t.l.getBandwidthEstimate()},I:t.D,rb:t.G,Ld:t.df.bind(t),Kd:t.te.bind(t),onError:t.Ka.bind(t),onEvent:function(e){return t.dispatchEvent(e)},hf:t.jf.bind(t),Yc:t.qf.bind(t)})}(t),t.f.configure(t.b.streaming),function(t){function e(t){var e="";t.video&&(e=Xt(t.video.codecs)[0]);var n="";return t.audio&&(n=Xt(t.audio.codecs)[0]),e+"-"+n}var n=t.c.periods.reduce(function(t,e){return t.concat(e.variants)},[]);n=Kn(n,t.b.preferredAudioChannelCount);var r=new _t;n.forEach(function(t){var n=e(t);r.push(n,t)});var i=null,a=1/0;r.forEach(function(t,e){var n=0,r=0;e.forEach(function(t){n+=t.bandwidth||0,++r});var o=n/r;o<a&&(i=t,a=o)}),t.c.periods.forEach(function(t){t.variants=t.variants.filter(function(t){return e(t)==i})})}(t),t.h=wu,t.dispatchEvent(new St("streaming")),S(r,t.f.start(),3);case 3:t.b.streaming.startAtSegmentBoundary&&(l=t.o.h(),f=function(t,e){function n(t,e){if(!t)return null;var n=t.findSegmentPosition(e-a.startTime);return null==n?null:(n=t.getSegmentReference(n))?n.startTime+a.startTime:null}var r=so(t.f),i=uo(t.f),a=hu(t);return r=n(r,e),null!=(i=n(i,e))&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:e}(t,l),t.o.m(f)),t.c.periods.forEach(t.Fc.bind(t)),tu(t),Zs(t),(h=hu(t)).variants.some(function(t){return t.primary}),Qs(t,h.variants),t.i.ha(i,"loadeddata",function(){t.v.b=Date.now()/1e3-n.nd}),_(r)}})})}(r,t,e))}),i.set(this.Hc,function(t){return bt(t=function(t,e){return h(function n(){var r,i;return L(n,function(n){switch(n.j){case 1:return r=qe,t.g=new me({rb:t.G,onError:function(e){t.Ka(e)},kc:function(e){su(t,e)},onExpirationUpdated:function(e,n){uu(t,e,n)},onEvent:function(e){t.dispatchEvent(e)}}),t.g.configure(t.b.drm),i={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"video/mp4",codecs:"",encrypted:!0,keyId:null,language:"und",label:null,type:r.Na,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},S(n,ve(t.g,[i],[]),2);case 2:return S(n,t.g.Cb(e.u),0)}})})}(r,t))}),i.set(this.hb,function(t,e){return function(t,e,n){function r(){return Ys(t)}if(e.uri=n.uri,e.startTime=n.startTime,t.Bb=e.uri,t.v=new Us,t.o=new Ya(e.u),null!=e.startTime&&t.o.m(e.startTime),t.W=new Fa({ec:function(){return e.u.playbackRate},kd:function(t){e.u.playbackRate=t},Id:function(t){e.u.currentTime+=t}}),Fs(t,t.b.streaming.rebufferingGoal),t.i.w(e.u,"playing",r),t.i.w(e.u,"pause",r),t.i.w(e.u,"ended",r),t.i.ha(e.u,"loadeddata",function(){t.v.b=Date.now()/1e3-n.nd}),t.a.audioTracks&&(t.i.w(t.a.audioTracks,"addtrack",function(){return tu(t)}),t.i.w(t.a.audioTracks,"removetrack",function(){return tu(t)})),t.a.textTracks){var i=t.a.textTracks;t.i.w(i,"addtrack",function(){return tu(t)}),t.i.w(i,"removetrack",function(){return tu(t)})}e.u.src=e.uri,t.h=Tu,t.dispatchEvent(new St("streaming"));var a=new pt;return t.a.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?a.resolve():t.a.error?a.reject(ou(t)):(t.i.ha(t.a,"loadeddata",function(){a.resolve()}),t.i.ha(t.a,"error",function(){a.reject(ou(t))})),new mt(a,function(){return a.reject(new ht(2,7,7001)),Promise.resolve()})}(r,t,e)}),this.jb=new ws(this.C,{Pe:function(t,e,n,i){var a=null;return t==r.C&&(a=n==r.C?r.C:r.M),t==r.M&&(a=n==r.C||e.u!=i.u?r.C:n==r.M?r.M:n==r.fb||n==r.T?r.fb:n==r.hb?r.Hc:null),t==r.fb&&(a=n==r.T&&e.u==i.u?r.Ec:r.Fa),t==r.Ec&&(a=vu(r.T,r.Cc,r.Fa,n,e,i)),t==r.Cc&&(a=vu(r.T,r.wc,r.Fa,n,e,i)),t==r.wc&&(a=vu(r.T,r.T,r.Fa,n,e,i)),t==r.Hc&&(a=n==r.hb&&e.u==i.u?r.hb:r.Fa),t!=r.T&&t!=r.hb||(a=r.Fa),t==r.Fa&&(a=i.u&&e.u==i.u?r.M:r.C),a},ze:function(t,e,n){return r.dispatchEvent(new St("onstatechange",{state:t.name})),i.get(t)(e,n)},handleError:function(t){return h(function e(){return L(e,function(e){switch(e.j){case 1:return S(e,$s(r,t),2);case 2:return e.return(t.u?r.M:r.C)}})})},ff:function(t){r.dispatchEvent(new St("onstateidle",{state:t.name}))}}),e&&this.Cb(e,!0)}(n=Xo.prototype).destroy=function(){return this.a.destroy()},n.hasFixedKeySpace=function(){return!0},n.addSegments=function(){return Yo("segment")},n.removeSegments=function(t,e){return Qo(this,"segment",t,e)},n.getSegments=function(t){return Jo(this,"segment",t).then(function(t){return t.map(rs)})},n.addManifests=function(){return Yo("manifest")},n.updateManifestExpiration=function(t,e){var n=Vo(this.a,"manifest"),r=n.store(),i=new pt;return r.get(t).onsuccess=function(n){(n=n.target.result)?(n.expiration=e,r.put(n),i.resolve()):i.reject(new ht(2,9,9012,"Could not find values for "+t))},n.promise().then(function(){return i})},n.removeManifests=function(t,e){return Qo(this,"manifest",t,e)},n.getManifests=function(t){return Jo(this,"manifest",t).then(function(t){return t.map(Zo)})},n.getAllManifests=function(){var t=this;return h(function e(){var n,r;return L(e,function(e){switch(e.j){case 1:return n=Fo(t.a,"manifest"),r=new Map,S(e,Bo(n,function(t,e){r.set(t,Zo(e))}),2);case 2:return S(e,n.promise(),3);case 3:return e.return(r)}})})},(n=as.prototype).destroy=function(){return this.a.destroy()},n.hasFixedKeySpace=function(){return this.f},n.addSegments=function(t){return os(this,this.c,t)},n.removeSegments=function(t,e){return ss(this,this.c,t,e)},n.getSegments=function(t){return us(this,this.c,t)},n.addManifests=function(t){return os(this,this.b,t)},n.updateManifestExpiration=function(t,e){var n=Vo(this.a,this.b),r=n.store();return r.get(t).onsuccess=function(n){(n=n.target.result)&&(n.expiration=e,r.put(n,t))},n.promise()},n.removeManifests=function(t,e){return ss(this,this.b,t,e)},n.getManifests=function(t){return us(this,this.b,t)},n.getAllManifests=function(){var t=this;return h(function e(){var n,r;return L(e,function(e){switch(e.j){case 1:return n=Fo(t.a,t.b),r=new Map,S(e,Bo(n,function(t,e){r.set(t,e)}),2);case 2:return S(e,n.promise(),3);case 3:return e.return(r)}})})},(n=cs.prototype).init=function(){var e=this,n=new pt,r=t.indexedDB.open("shaka_offline_db",4);return r.onsuccess=function(t){t=t.target.result,e.f=t;var r=t.objectStoreNames;r=r.contains("manifest")&&r.contains("segment")?new Xo(t):null,e.a=r,r=(r=t.objectStoreNames).contains("manifest-v2")&&r.contains("segment-v2")?new as(t,"segment-v2","manifest-v2",!0):null,e.b=r,r=(r=t.objectStoreNames).contains("manifest-v3")&&r.contains("segment-v3")?new as(t,"segment-v3","manifest-v3",!1):null,e.c=r,t=t.objectStoreNames.contains("session-ids")?new qo(t):null,e.g=t,n.resolve()},r.onupgradeneeded=function(t){t=t.target.result;for(var e=d(["segment-v3","manifest-v3","session-ids"]),n=e.next();!n.done;n=e.next())n=n.value,t.objectStoreNames.contains(n)||t.createObjectStore(n,{autoIncrement:!0})},r.onerror=function(t){n.reject(new ht(2,9,9001,r.error)),t.preventDefault()},n},n.destroy=function(){var t=this;return h(function e(){return L(e,function(e){switch(e.j){case 1:if(!t.a){e.A(2);break}return S(e,t.a.destroy(),2);case 2:if(!t.b){e.A(4);break}return S(e,t.b.destroy(),4);case 4:if(!t.c){e.A(6);break}return S(e,t.c.destroy(),6);case 6:if(!t.g){e.A(8);break}return S(e,t.g.destroy(),8);case 8:t.f&&t.f.close(),_(e)}})})},n.getCells=function(){var t=new Map;return this.a&&t.set("v1",this.a),this.b&&t.set("v2",this.b),this.c&&t.set("v3",this.c),t},n.getEmeSessionCell=function(){return this.g},n.erase=function(){var e=this;return h(function n(){return L(n,function(n){switch(n.j){case 1:if(!e.a){n.A(2);break}return S(n,e.a.destroy(),2);case 2:if(!e.b){n.A(4);break}return S(n,e.b.destroy(),4);case 4:if(!e.c){n.A(6);break}return S(n,e.c.destroy(),6);case 6:return e.f&&e.f.close(),S(n,function(){var e=new pt,n=t.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){e.resolve()},n.onerror=function(t){e.reject(new ht(2,9,9001,n.error)),t.preventDefault()},e}(),8);case 8:return e.f=null,e.a=null,e.b=null,e.c=null,S(n,e.init(),0)}})})},Go("idb",function(){return t.indexedDB?new cs:null}),ls.prototype.ua=function(){return this.g},ls.prototype.aa=function(){return this.f},ls.prototype.key=function(){return this.c},ls.prototype.toString=function(){return this.b},(n=vs.prototype).configure=function(){},n.start=function(t){var e=this;return h(function n(){var r,i,a,o,s;return L(n,function(n){switch(n.j){case 1:return r=ds(t),e.a=r,null==r||"manifest"!=r.a?n.return(Promise.reject(new ht(2,1,9004,r))):(i=new zo,x(n,2),S(n,i.init(),4));case 4:return S(n,Ko(i,r.ua(),r.aa()),5);case 5:return S(n,n.s.getManifests([r.key()]),6);case 6:return a=n.s,o=a[0],s=new fs(r.ua(),r.aa()),n.return(function(t,e){var n=new Si(null,0);n.wa(e.duration);var r=e.periods.map(function(e){return hs(t,e,n)}),i=e.drmInfo?[e.drmInfo]:[];return e.drmInfo&&r.forEach(function(t){t.variants.forEach(function(t){t.drmInfos=i})}),{presentationTimeline:n,minBufferTime:2,offlineSessionIds:e.sessionIds,periods:r}}(s,o));case 2:return A(n),S(n,i.destroy(),7);case 7:P(n,0)}})})},n.stop=function(){return Promise.resolve()},n.update=function(){},n.onExpirationUpdated=function(t,e){var n=this;return h(function r(){var i,a,o,s,u,c,l;return L(r,function(r){switch(r.j){case 1:return i=n.a,a=new zo,E(r,2,3),S(r,a.init(),5);case 5:return S(r,Ko(a,i.ua(),i.aa()),6);case 6:return S(r,(o=r.s).getManifests([i.key()]),7);case 7:if(s=r.s,u=s[0],c=u.sessionIds.includes(t),l=null==u.expiration||u.expiration>e,!c||!l){r.A(3);break}return S(r,o.updateManifestExpiration(i.key(),e),3);case 3:return A(r),S(r,a.destroy(),10);case 10:P(r,0);break;case 2:k(r),r.A(3)}})})},Ti.Nb("application/x-offline-manifest",vs),$("shaka.offline.OfflineScheme",ys),ys.h=function(t){return gt(t={uri:t,$c:t,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}})},ys.i=function(t,e){var n=new zo;return gt(void 0).U(function(){return n.init()}).U(function(){return Ko(n,e.ua(),e.aa())}).U(function(t){return t.getSegments([e.key()])}).U(function(t){return{uri:e,$c:e,data:t[0].data,headers:{}}}).finally(function(){return n.destroy()})},Lt("offline",ys),ws.prototype.destroy=function(){var t=this;return h(function e(){return L(e,function(e){switch(e.j){case 1:return t.l=!1,t.b&&t.b.abort(),Ss(t),S(e,t.m,2);case 2:t.a&&t.a.ta.Wa();for(var n=d(t.f),r=n.next();!r.done;r=n.next())r.value.ta.Wa();t.a=null,t.f=[],t.g=null,_(e)}})})},$("shaka.text.SimpleTextDisplayer",_s),_s.prototype.remove=function(t,e){return!!this.a&&(xs(this.a,function(n){return n.startTime<e&&n.endTime>t}),!0)},_s.prototype.remove=_s.prototype.remove,_s.prototype.append=function(t){for(var e=Es,n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}n.slice().sort(function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime!=e.endTime?t.endTime-e.startTime:n.indexOf(e)-n.indexOf(t)}).forEach(function(t){this.a.addCue(t)}.bind(this))},_s.prototype.append=_s.prototype.append,_s.prototype.destroy=function(){return this.a&&xs(this.a,function(){return!0}),this.a=null,Promise.resolve()},_s.prototype.destroy=_s.prototype.destroy,_s.prototype.isTextVisible=function(){return"showing"==this.a.mode},_s.prototype.isTextVisible=_s.prototype.isTextVisible,_s.prototype.setTextVisibility=function(t){this.a.mode=t?"showing":"hidden"},_s.prototype.setTextVisibility=_s.prototype.setTextVisibility,$("shaka.util.ConfigUtils.mergeConfigObjects",Cs),$("shaka.util.ConfigUtils.convertToConfigObject",ks),$("shaka.util.PlayerConfiguration",As),As.mergeConfigObjects=Ms,F(Rs,Et),$("shaka.Player",Rs),Rs.prototype.destroy=function(){var t=this;return h(function e(){var n;return L(e,function(e){switch(e.j){case 1:return t.h==gu?e.return():(t.h=gu,n=Ts(t.jb,function(){return{node:t.C,payload:{ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null},Ta:!1}}),S(e,new Promise(function(t){n.tb=function(){},n.jc=function(){t()},n.Wa=function(){t()},n.onError=function(){t()},n.lc=function(){t()}}),2));case 2:return S(e,t.jb.destroy(),3);case 3:if(t.i&&(t.i.release(),t.i=null),t.vc=null,t.l=null,t.b=null,!t.G){e.A(0);break}return S(e,t.G.destroy(),5);case 5:t.G=null,_(e)}})})},Rs.prototype.destroy=Rs.prototype.destroy,Rs.version="v2.5.4";var Ns=["2","5"];nr=new function(t){this.a=t,this.c=tr,this.b=er}(new Jn(Number(Ns[0]),Number(Ns[1])));var js=["output-restricted","internal-error"],Bs={};function $s(t,e){return h(function n(){return L(n,function(n){switch(n.j){case 1:if(t.h!=gu&&(t.h=bu),t.dispatchEvent(new St("unloading")),e.ya=null,e.mimeType=null,e.startTime=null,e.uri=null,e.u&&(t.i.da(e.u,"loadeddata"),t.i.da(e.u,"playing"),t.i.da(e.u,"pause"),t.i.da(e.u,"ended"),t.i.da(e.u,"ratechange")),t.gb&&(t.gb.release(),t.gb=null),t.Tb&&(t.Tb.stop(),t.Tb=null),!t.m){n.A(2);break}return S(n,t.m.stop(),3);case 3:t.m=null;case 2:if(!t.l){n.A(4);break}return S(n,t.l.stop(),4);case 4:if(!t.f){n.A(6);break}return S(n,t.f.destroy(),7);case 7:t.f=null;case 6:if(t.o&&(t.o.release(),t.o=null),!t.D){n.A(8);break}return S(n,t.D.destroy(),9);case 9:t.D=null;case 8:if(e.u&&e.u.src&&(e.u.removeAttribute("src"),e.u.load()),!t.g){n.A(10);break}return S(n,t.g.destroy(),11);case 11:t.g=null;case 10:t.$.a.clear(),t.Bb=null,t.P=null,t.Wb.clear(),t.c=null,t.v=null,t.xc=null,t.ib=!0,Xs(t),_(n)}})})}function Fs(t,e){t.P=new Aa(e,Math.min(.5,e/2)),t.P.a=Pa,Xs(t),t.Tb=new lt(function(){switch(t.h){case Tu:var e=!!t.a.ended||Ne(t.a.buffered)>=t.a.duration-.1;break;case wu:t:{var n;if((n=t.a.ended)||(n=!(n=t.D).h||"ended"==n.h.readyState),n)e=!0;else{if(t.c.presentationTimeline.V()&&(n=t.c.presentationTimeline.nb(),Ne(t.a.buffered)>=n)){e=!0;break t}e=!1}}break;default:e=!1}var r=Be(t.a.buffered,t.a.currentTime),i=e,a=(n=t.P).b.get(n.a);e=n.a,r=i||r>=a?Ma:Pa,n.a=r,e!=r&&Xs(t)}).La(.25)}function Vs(t){if(t.m&&t.m.configure(t.b.manifest),t.g&&t.g.configure(t.b.drm),t.f){t.f.configure(t.b.streaming);try{t.c.periods.forEach(t.Fc.bind(t))}catch(e){t.Ka(e)}var e=so(t.f),n=uo(t.f),r=hu(t);e=Xn(e,n,r.variants),t.l&&e&&e.allowedByApplication&&e.allowedByKeySystem?Qs(t,r.variants):Js(t,r)}if(t.D&&(r=t.b.textDisplayFactory,t.xc!=r)){e=new r;var i=(n=t.D).g;n.g=e,i&&(e.setTextVisibility(i.isTextVisible()),i.destroy()),n.a&&(n.a.c=e),t.xc=r,t.f&&((e=(r=t.f).b.get("text"))&&po(r,e.stream,!0,0,!0))}t.l&&(t.l.configure(t.b.abr),t.b.abr.enabled&&!t.ib?t.l.enable():t.l.disable(),iu(t))}function Hs(t,e,n,r){wa(t.$,e).variant=n,(t=t.v.c).c!=n&&(t.c=n,t.a.push({timestamp:Date.now()/1e3,id:n.id,type:"variant",fromAdaptation:r,bandwidth:n.bandwidth}))}function qs(t,e,n,r){ba(t.$,e,n),(t=t.v.c).b!=n&&(t.b=n,t.a.push({timestamp:Date.now()/1e3,id:n.id,type:"text",fromAdaptation:r,bandwidth:null}))}function zs(t){var e=Ps();return e.streaming.failureCallback=function(e){t.V()&&[1001,1002,1003].includes(e.code)&&(e.severity=1,t.fd())},e.textDisplayFactory=function(){return new _s(t.a)},e}function Ks(t,e){var n=t.f?so(t.f):null,r=t.f?uo(t.f):null;if(e.forEach(jn.bind(null,t.g,n,r)),0==(n=function(t,e){var n=0;return t.forEach(function(t){n+=e(t)?1:0}),n}(e,function(t){return t.variants.some(zn)})))throw new ht(2,4,4032);if(n<e.length)throw new ht(2,4,4011);e.forEach(function(t){Nn(t.variants,this.b.restrictions,this.Xb)&&this.f&&hu(this)==t&&tu(this),cu(this,t.variants)}.bind(t))}function Gs(t,e,n,r){n=void 0!==n&&n,r=void 0===r?0:r,t.ib?(t.Ea=e,t.Dd=n,t.Bd=r):(ho(t.f,e,n,r),eu(t))}function Ws(t,e){t.ib?t.na=e:(po(t.f,e,!0,0,!1),nu(t))}function Xs(t){var e=t.Nc();if(t.v&&t.P&&t.o){var n=t.W;n.f=e,Va(n),Ys(t)}t.dispatchEvent(new St("buffering",{buffering:e}))}function Ys(t){if(t.v&&t.P){var e=t.v.a;t.P.a==Pa?Ds(e,"buffering"):t.a.paused?Ds(e,"paused"):t.a.ended?Ds(e,"ended"):Ds(e,"playing")}}function Qs(t,e){try{cu(t,e)}catch(e){return t.Ka(e),null}var n=e.filter(function(t){return zn(t)});return n=t.Ub.create(n),t.l.setVariants(Array.from(n.values())),t.l.chooseVariant()}function Js(t,e){var n=Qs(t,e.variants);n&&(Hs(t,e,n,!0),Gs(t,n,!0)),(n=Gn(e.textStreams,t.ma,t.cb)[0]||null)&&(t.b.streaming.alwaysStreamText||t.gc())&&(qs(t,e,n,!0),Ws(t,n)),Zs(t)}function Zs(t){lu(t,new St("adaptation"))}function tu(t){lu(t,new St("trackschanged"))}function eu(t){lu(t,new St("variantchanged"))}function nu(t){lu(t,new St("textchanged"))}function ru(t){lu(t,new St("texttrackvisibility"))}function iu(t){lu(t,new St("abrstatuschanged",{rg:t.b.abr.enabled}))}function au(t,e,n){t.dispatchEvent(new St(e,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function ou(t){if(!t.a.error)return null;var e=t.a.error.code;if(1==e)return null;var n=t.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new ht(2,3,3016,e,n,t.a.error.message)}function su(t,e){if(t.f){var n=hu(t),r=!1,i=Object.keys(e),a=1==i.length&&"00"==i[0];i.length&&n.variants.forEach(function(t){(function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),e})(t).forEach(function(n){var i=t.allowedByKeySystem;n.keyId&&(n=e[a?"00":n.keyId],t.allowedByKeySystem=!!n&&!js.includes(n)),i!=t.allowedByKeySystem&&(r=!0)})}),(i=Xn(i=so(t.f),uo(t.f),n.variants))&&!i.allowedByKeySystem&&Js(t,n),r&&(tu(t),Qs(t,n.variants))}}function uu(t,e,n){t.m&&t.m.onExpirationUpdated&&t.m.onExpirationUpdated(e,n),t.dispatchEvent(new St("expirationupdated"))}function cu(t,e){var n=t.g?Gt(t.g.T):{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,a=!1,o=[],s=[],u=d(e),c=u.next();!c.done;c=u.next()){var l=[];(c=c.value).audio&&l.push(c.audio),c.video&&l.push(c.video);for(var f=(l=d(l)).next();!f.done;f=l.next())if((f=f.value).keyId){var h=n[r?"00":f.keyId];h?js.includes(h)&&(s.includes(h)||s.push(h)):o.includes(f.keyId)||o.push(f.keyId)}c.allowedByApplication?c.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw new ht(2,4,4012,{hasAppRestrictions:a,missingKeys:o,restrictedKeyStatuses:s})}function lu(t,e){h(function n(){return L(n,function(n){switch(n.j){case 1:return S(n,Promise.resolve(),2);case 2:t.h!=gu&&t.dispatchEvent(e),_(n)}})})}function du(t){for(var e=new Set,n=(t=d(t)).next();!n.done;n=t.next())(n=n.value).language?e.add(Dn(n.language)):e.add("und");return e}function fu(t){for(var e=new Map,n=(t=d(t)).next();!n.done;n=t.next()){var r=n.value;n="und";var i=[];for(r.language&&(n=Dn(r.language)),(i="variant"==r.type?r.audioRoles:r.roles)&&i.length||(i=[""]),e.has(n)||e.set(n,new Set),i=(r=d(i)).next();!i.done;i=r.next())i=i.value,e.get(n).add(i)}var a=[];return e.forEach(function(t,e){for(var n=d(t),r=n.next();!r.done;r=n.next())a.push({language:e,role:r.value})}),a}function hu(t){for(var e=t.o.h(),n=null,r=(t=d(t.c.periods)).next();!r.done;r=t.next())(r=r.value).startTime<=e&&(n=r);return n}function pu(t){var e=hu(t);return wa(t.$,e).variant}function mu(){return new ht(2,7,7e3)}function vu(t,e,n,r,i,a){return r==t&&i.u==a.u&&i.uri==a.uri&&i.mimeType==a.mimeType&&i.ya==a.ya?e:n}function yu(t){return new Promise(function(e,n){t.Wa=function(){return n(mu())},t.jc=function(){return e()},t.onError=function(t){return n(t)},t.lc=function(){return n(mu())}})}Rs.registerSupportPlugin=function(t,e){Bs[t]=e},Rs.isBrowserSupported=function(){return!!(t.Promise&&t.Uint8Array&&Array.prototype.forEach&&t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration)&&(!!Qt()||Jt("application/x-mpegurl"))},Rs.probeSupport=function(){return ke().then(function(t){for(var e=Ti.Af(),n={},r=d('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),i=r.next();!i.done;i=r.next()){n[i=i.value]=Qt()?!!mn(i)||(MediaSource.isTypeSupported(i)||Ge(i)):Jt(i);var a=i.split(";")[0];n[a]=n[a]||n[i]}for(var o in t={manifest:e,media:n,drm:t},Bs)t[o]=Bs[o]();return t})},Rs.prototype.Cb=function(t,e){if(e=void 0===e||e,this.h==gu)return Promise.reject(mu());var n={ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null};n.u=t,Qt()||(e=!1);var r=e?this.fb:this.M,i=Ts(this.jb,function(){return{node:r,payload:n,Ta:!1}});return i.tb=function(){},yu(i)},Rs.prototype.attach=Rs.prototype.Cb,Rs.prototype.detach=function(){var t=this;if(this.h==gu)return Promise.reject(mu());var e=Ts(this.jb,function(){return{node:t.C,payload:{ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null},Ta:!1}});return e.tb=function(){},yu(e)},Rs.prototype.detach=Rs.prototype.detach,Rs.prototype.qd=function(t){var e=this;if(t=void 0===t||t,this.h==gu)return Promise.reject(mu());Qt()||(t=!1);var n={ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null},r=Ts(this.jb,function(r){var i=r.u&&t?e.fb:r.u?e.M:e.C;return n.u=r.u,{node:i,payload:n,Ta:!1}});return r.tb=function(){},yu(r)},Rs.prototype.unload=Rs.prototype.qd,Rs.prototype.load=function(t,e,n){if(this.h==gu)return Promise.reject(mu());this.dispatchEvent(new St("loading"));var r={ya:null,u:null,mimeType:null,startTime:null,nd:null,uri:null};r.uri=t,r.nd=Date.now()/1e3,n&&"string"!=typeof n&&(Zn("Loading with a manifest parser factory","Please register a manifest parser and for the mime-type."),r.ya=function(){return new n}),n&&"string"==typeof n&&(r.mimeType=n),void 0!==e&&(r.startTime=e);var i=function(t){if(t.ya)return!1;if(!Qt())return!0;var e=t.mimeType;return t=t.uri||"",e||(e={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",ts:"video/mp2t",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac"}[Ti.getExtension(t)]),!!e&&!!Jt(e)&&(!Ti.isSupported(t,e)||!!navigator.vendor&&navigator.vendor.includes("Apple"))}(r)?this.hb:this.T,a=Ts(this.jb,function(t){return null==t.u?null:(r.u=t.u,{node:i,payload:r,Ta:!0})});return a.tb=function(){},new Promise(function(t,e){a.lc=function(){return e(new ht(2,7,7002))},a.jc=function(){return t()},a.Wa=function(){return e(mu())},a.onError=function(t){return e(t)}})},Rs.prototype.load=Rs.prototype.load,Rs.prototype.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=ks(t,e));var n=Ms(this.b,t,zs(this));return Vs(this),n},Rs.prototype.configure=Rs.prototype.configure,Rs.prototype.getConfiguration=function(){var t=zs(this);return Ms(t,this.b,zs(this)),t},Rs.prototype.getConfiguration=Rs.prototype.getConfiguration,Rs.prototype.If=function(){for(var t in this.b)delete this.b[t];Ms(this.b,zs(this),zs(this)),Vs(this)},Rs.prototype.resetConfiguration=Rs.prototype.If,Rs.prototype.Je=function(){return this.h},Rs.prototype.getLoadMode=Rs.prototype.Je,Rs.prototype.Ne=function(){return this.a},Rs.prototype.getMediaElement=Rs.prototype.Ne,Rs.prototype.Fb=function(){return this.G},Rs.prototype.getNetworkingEngine=Rs.prototype.Fb,Rs.prototype.bc=function(){return this.Bb},Rs.prototype.getAssetUri=Rs.prototype.bc,Rs.prototype.Me=function(){return Zn("getManifestUri",'Please use "getAssetUri" instead.'),this.bc()},Rs.prototype.getManifestUri=Rs.prototype.Me,Rs.prototype.V=function(){return this.c?this.c.presentationTimeline.V():!(!this.a||!this.a.src)&&1/0==this.a.duration},Rs.prototype.isLive=Rs.prototype.V,Rs.prototype.Va=function(){return!!this.c&&this.c.presentationTimeline.Va()},Rs.prototype.isInProgress=Rs.prototype.Va,Rs.prototype.af=function(){if(this.c){if(!this.c.periods.length)return!1;var t=this.c.periods[0].variants;return!!t.length&&!t[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},Rs.prototype.isAudioOnly=Rs.prototype.af,Rs.prototype.Kf=function(){if(this.c){var t=this.c.presentationTimeline;return{start:t.mb(),end:t.za()}}return this.a&&this.a.src&&(t=this.a.seekable).length?{start:t.start(0),end:t.end(t.length-1)}:{start:0,end:0}},Rs.prototype.seekRange=Rs.prototype.Kf,Rs.prototype.keySystem=function(){return this.g?this.g.keySystem():""},Rs.prototype.keySystem=Rs.prototype.keySystem,Rs.prototype.drmInfo=function(){return this.g?this.g.a:null},Rs.prototype.drmInfo=Rs.prototype.drmInfo,Rs.prototype.dc=function(){return this.g?this.g.dc():1/0},Rs.prototype.getExpiration=Rs.prototype.dc,Rs.prototype.Nc=function(){return!!this.P&&this.P.a==Pa},Rs.prototype.isBuffering=Rs.prototype.Nc,Rs.prototype.Qe=function(){if(this.W){var t=this.W;t=t.f?0:t.c}else t=0;return t},Rs.prototype.getPlaybackRate=Rs.prototype.Qe,Rs.prototype.bg=function(t){0==t?G("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.W.set(t),this.h==wu&&fo(this.f,1<Math.abs(t)))},Rs.prototype.trickPlay=Rs.prototype.bg,Rs.prototype.ue=function(){this.h==Tu&&this.W.set(1),this.h==wu&&(this.W.set(1),fo(this.f,!1))},Rs.prototype.cancelTrickPlay=Rs.prototype.ue,Rs.prototype.Mc=function(){if(this.c&&this.o){for(var t=pu(this),e=[],n=d(function(t){return null==(t=hu(t))?[]:t.variants.filter(function(t){return zn(t)})}(this)),r=n.next();!r.done;r=n.next()){var i=$n(r=r.value);i.active=r==t,e.push(i)}return e}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map(function(t){var e=qn(t);return e.active=t.enabled,e.type="variant",e.originalAudioId=t.id,"main"==t.kind?(e.primary=!0,e.roles=["main"],e.audioRoles=["main"]):e.audioRoles=[],e}):[]},Rs.prototype.getVariantTracks=Rs.prototype.Mc,Rs.prototype.ob=function(){if(this.c&&this.o){for(var t=function(t){var e=hu(t);if(null==e)return null;if(!wa(t.$,e).text){var n=Gn(e.textStreams,t.ma,t.cb);n.length&&ba(t.$,e,n[0])}return wa(t.$,e).text}(this),e=[],n=d(function(t){var e=hu(t);return null==e?[]:e.textStreams.filter(function(e){return!t.Wb.has(e)})}(this)),r=n.next();!r.done;r=n.next()){var i=Fn(r=r.value);i.active=r==t,e.push(i)}return e}return this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).map(function(t){var e=qn(t);return e.active="disabled"!=t.mode,e.type="text",e.originalTextId=t.id,"captions"==t.kind&&(e.mimeType="application/cea-608"),e}):[]},Rs.prototype.getTextTracks=Rs.prototype.ob,Rs.prototype.gd=function(t){if(this.c&&this.f){var e=hu(this),n=e.textStreams.find(function(e){return e.id==t.id});n&&(qs(this,e,n,!1),Ws(this,n),this.ma=n.language)}else if(this.a&&this.a.src&&this.a.textTracks){for(n=(e=d(e=Array.from(this.a.textTracks))).next();!n.done;n=e.next())Vn(n=n.value)==t.id?n.mode=this.eb?"showing":"hidden":n.mode="disabled";nu(this)}},Rs.prototype.selectTextTrack=Rs.prototype.gd,Rs.prototype.Mf=function(){Zn("selectEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. Please use SelectTextTrack.");var t=this.ob().filter(function(t){return"application/cea-608"==t.mimeType});0<t.length&&this.gd(t[0])},Rs.prototype.selectEmbeddedTextTrack=Rs.prototype.Mf,Rs.prototype.gg=function(){Zn("usingEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. There should be no reason to know if the player is playing embedded text.");var t=this.ob().filter(function(t){return t.active})[0];return!!t&&"application/cea-608"==t.mimeType},Rs.prototype.usingEmbeddedTextTrack=Rs.prototype.gg,Rs.prototype.Of=function(t,e,n){if(n=void 0===n?0:n,this.c&&this.f){var r=hu(this);this.b.abr.enabled&&G("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=r.variants.find(function(e){return e.id==t.id});i&&zn(i)&&(Hs(this,r,i,!1),Gs(this,i,e,n),this.Ub=new Ca(i),Qs(this,r.variants))}else if(this.a&&this.a.audioTracks){for(n=(e=d(e=Array.from(this.a.audioTracks))).next();!n.done;n=e.next())Vn(n=n.value)==t.id&&(n.enabled=!0);eu(this)}},Rs.prototype.selectVariantTrack=Rs.prototype.Of,Rs.prototype.Ee=function(){return fu(this.Mc())},Rs.prototype.getAudioLanguagesAndRoles=Rs.prototype.Ee,Rs.prototype.Xe=function(){return fu(this.ob())},Rs.prototype.getTextLanguagesAndRoles=Rs.prototype.Xe,Rs.prototype.De=function(){return Array.from(du(this.Mc()))},Rs.prototype.getAudioLanguages=Rs.prototype.De,Rs.prototype.We=function(){return Array.from(du(this.ob()))},Rs.prototype.getTextLanguages=Rs.prototype.We,Rs.prototype.Lf=function(t,e){if(this.c&&this.o){var n=hu(this);this.Ub=new ka(t,e||"",0),Js(this,n)}else if(this.a&&this.a.audioTracks){for(var r=(n=d(n=Array.from(this.a.audioTracks))).next();!r.done;r=n.next())(r=r.value).language==t&&(r.enabled=!0);eu(this)}},Rs.prototype.selectAudioLanguage=Rs.prototype.Lf,Rs.prototype.Nf=function(t,e){if(this.c&&this.o){var n=hu(this);this.ma=t,this.cb=e||"";var r=Gn(n.textStreams,this.ma,this.cb)[0]||null;r&&(qs(this,n,r,!1),(this.b.streaming.alwaysStreamText||this.gc())&&Ws(this,r))}else(n=this.ob().filter(function(e){return e.language==t})[0])&&this.gd(n)},Rs.prototype.selectTextLanguage=Rs.prototype.Nf,Rs.prototype.gc=function(){var t=this.eb;return this.c?this.D.g.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).some(function(t){return"showing"==t.mode}):t},Rs.prototype.isTextTrackVisible=Rs.prototype.gc,Rs.prototype.Rf=function(t){var e=this;return h(function n(){var r,i,a,o;return L(n,function(n){switch(n.j){case 1:if(e.eb==(r=t))return n.return();if(e.eb=r,e.h!=wu){if(e.a&&e.a.src&&e.a.textTracks)for(var s=d(Array.from(e.a.textTracks)),u=s.next();!u.done;u=s.next())"disabled"!=(i=u.value).mode&&(i.mode=t?"showing":"hidden");n.A(2);break}if(e.D.g.setTextVisibility(t),e.b.streaming.alwaysStreamText){n.A(2);break}if(!t){(s=e.f).D=!0,(u=s.b.get("text"))&&(Mo(u),s.b.delete("text")),n.A(2);break}if(a=hu(e),!(0<(o=Gn(a.textStreams,e.ma,e.cb)).length)){n.A(2);break}return S(n,lo(e.f,o[0]),2);case 2:ru(e),_(n)}})})},Rs.prototype.setTextTrackVisibility=Rs.prototype.Rf,Rs.prototype.Se=function(){if(!this.V())return null;if(this.c)return new Date(1e3*(this.c.presentationTimeline.f+this.a.currentTime));if(this.a&&this.a.getStartDate){var t=this.a.getStartDate();return isNaN(t.getTime())?null:new Date(t.getTime()+1e3*this.a.currentTime)}return null},Rs.prototype.getPlayheadTimeAsDate=Rs.prototype.Se,Rs.prototype.Ue=function(){if(!this.V())return null;if(this.c)return new Date(1e3*this.c.presentationTimeline.f);if(this.a&&this.a.getStartDate){var t=this.a.getStartDate();return isNaN(t.getTime())?null:t}return null},Rs.prototype.getPresentationStartTimeAsDate=Rs.prototype.Ue,Rs.prototype.Ic=function(){var t={total:[],audio:[],video:[],text:[]};return this.h==Tu&&(t.total=$e(this.a.buffered)),this.h==wu&&this.D.Ic(t),t},Rs.prototype.getBufferedInfo=Rs.prototype.Ic,Rs.prototype.getStats=function(){if(this.h!=wu&&this.h!=Tu)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]};Ys(this);var t=this.a;if(t.getVideoPlaybackQuality){t=t.getVideoPlaybackQuality();var e=this.v,n=Number(t.totalVideoFrames);e.i=Number(t.droppedVideoFrames),e.h=n}this.h==wu&&((t=pu(this))&&(this.v.l=t.bandwidth),t&&t.video&&(e=this.v,n=t.video.height||NaN,e.m=t.video.width||NaN,e.g=n),t=this.l.getBandwidthEstimate(),this.v.f=t);var r=this.v;t=r.m,e=r.g,n=r.l;for(var i=r.h,a=r.i,o=r.f,s=r.b,u=Os(r.a,"playing"),c=Os(r.a,"paused"),l=Os(r.a,"buffering"),f=function(t){function e(t){return{timestamp:t.timestamp,state:t.state,duration:t.duration}}for(var n=[],r=d(t.b),i=r.next();!i.done;i=r.next())n.push(e(i.value));return t.a&&n.push(e(t.a)),n}(r.a),h=[],p=(r=d(r.c.a)).next();!p.done;p=r.next())p=p.value,h.push({timestamp:p.timestamp,id:p.id,type:p.type,fromAdaptation:p.fromAdaptation,bandwidth:p.bandwidth});return{width:t,height:e,streamBandwidth:n,decodedFrames:i,droppedFrames:a,estimatedBandwidth:o,loadLatency:s,playTime:u,pauseTime:c,bufferingTime:l,stateHistory:f,switchHistory:h}},Rs.prototype.getStats=Rs.prototype.getStats,Rs.prototype.addTextTrack=function(t,e,n,r,i,a){var o=this;return h(function s(){var u,c,l,d,f,h,p,m,v;return L(s,function(s){switch(s.j){case 1:if(o.h==Tu)throw Error("State error!");if(o.h!=wu)throw Error("State error!");if(u=hu(o),c=qe,l=o.c.periods.indexOf(u),f=(d=l+1)>=o.c.periods.length?o.c.presentationTimeline.Y():o.c.periods[d].startTime,1/0==(h=f-u.startTime))throw new ht(1,4,4033);return p=new Gr(1,0,h,function(){return[t]},0,null),m={id:o.Hd++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(t){return 1==t?p:null},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:e,label:a||null,type:c.qa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},o.Wb.add(m),u.textStreams.push(m),S(s,lo(o.f,m),2);case 2:return(v=co(o.f,"text"))&&ba(o.$,u,v),o.Wb.delete(m),Js(o,u),tu(o),s.return(Fn(m))}})})},Rs.prototype.addTextTrack=Rs.prototype.addTextTrack,Rs.prototype.jd=function(t,e){this.Xb.width=t,this.Xb.height=e},Rs.prototype.setMaxHardwareResolution=Rs.prototype.jd,Rs.prototype.fd=function(){if(this.h==wu){var t=this.f;if(t.f)t=!1;else if(t.m)t=!1;else{for(var e=d(t.b.values()),n=e.next();!n.done;n=e.next())(n=n.value).Ib&&(n.Ib=!1,Po(t,n,.1));t=!0}}else t=!1;return t},Rs.prototype.retryStreaming=Rs.prototype.fd,Rs.prototype.Ke=function(){return this.c},Rs.prototype.getManifest=Rs.prototype.Ke,Rs.prototype.Le=function(){return this.m?this.m.constructor:null},Rs.prototype.getManifestParserFactory=Rs.prototype.Le,(n=Rs.prototype).Fc=function(t){var e=this.f?so(this.f):null,n=this.f?uo(this.f):null;if(jn(this.g,e,n,t),!(e=t.variants).some(zn))throw new ht(2,4,4011);if(cu(this,t.variants),Nn(e,this.b.restrictions,this.Xb)&&this.f&&hu(this)==t&&tu(this),t=this.g?this.g.a:null)for(n=(e=d(e)).next();!n.done;n=e.next())for(var r=(n=d(n.value.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==t.keySystem)for(var i=(r=d(r.initData||[])).next();!i.done;i=r.next())i=i.value,we(this.g,i.initDataType,i.initData)},n.df=function(t){try{this.ib=!0,this.l.disable(),iu(this);var e=Qs(this,t.variants),n=Gn(t.textStreams,this.ma,this.cb)[0]||null;this.Ea&&(t.variants.includes(this.Ea)&&(e=this.Ea),this.Ea=null),this.na&&(t.textStreams.includes(this.na)&&(n=this.na),this.na=null),e&&Hs(this,t,e,!0),n&&qs(this,t,n,!0);var r=this.f,i=r.b.get("video");if(i)var a=r.c.periods[i.pa];else{var o=r.b.get("audio");a=o?r.c.periods[o.pa]:null}var s=e?e.audio:null;if(!a&&n){var u;if(u=s){t=n;var c=Dn(this.b.preferredTextLanguage),l=Dn(s.language),d=Dn(t.language);u=Mn(d,c)&&!Mn(l,d)}u&&(this.eb=!0),this.eb&&this.D.g.setTextVisibility(!0),ru(this)}return this.b.streaming.alwaysStreamText||this.gc()?{variant:e,text:n}:{variant:e,text:null}}catch(t){return this.Ka(t),{variant:null,text:null}}},n.te=function(){this.ib=!1,this.b.abr.enabled&&(this.l.enable(),iu(this)),this.Ea&&(ho(this.f,this.Ea,this.Dd,this.Bd),eu(this),this.Ea=null),this.na&&(po(this.f,this.na,!0,0,!1),nu(this),this.na=null)},n.jf=function(){this.m&&this.m.update&&this.m.update()},n.qf=function(){this.o&&this.o.o()},n.Ka=function(t){if(this.h!=gu){var e=new St("error",{detail:t});this.dispatchEvent(e),e.defaultPrevented&&(t.handled=!0)}};var gu=0,bu=1,wu=2,Tu=3;function Su(t,e){var n=hs(new fs(t.ua(),t.aa()),e.periods[0],new Si(null,0)),r=e.appMetadata||{};return n=_u(n),{offlineUri:t.toString(),originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration,tracks:n,appMetadata:r}}function _u(t){for(var e=[],n=function(t){return t.filter(function(t){return zn(t)})}(t.variants),r=(n=d(n)).next();!r.done;r=n.next())e.push($n(r.value));for(n=(t=d(t.textStreams)).next();!n.done;n=t.next())e.push(Fn(n.value));return e}function Eu(){this.a={}}function xu(t,e){var n=t.a[e];return null==n&&(n=0),n}function Cu(t){this.a=!1,this.b=new pt,this.c=t}function ku(t){var e=new Pu;t.periods.forEach(function(t,n){var r=Iu(t.variants);if(0==n)for(var i=(r=d(r.a)).next();!i.done;i=r.next())e.add(i.value);else!function(t,e){t.a=t.a.filter(function(t){return Mu(e,t)})}(e,r)});for(var n=(t=d(t.periods)).next();!n.done;n=t.next())(n=n.value).variants=n.variants.filter(function(t){return Mu(e,new Au(t))})}function Au(t){var e=t.audio;t=t.video,this.b=e?e.mimeType:null,this.a=e?e.codecs.split(".")[0]:null,this.f=t?t.mimeType:null,this.c=t?t.codecs.split(".")[0]:null}function Pu(){this.a=[]}function Mu(t,e){return t.a.some(function(t){return e.b==t.b&&e.a==t.a&&e.f==t.f&&e.c==t.c})}function Iu(t){for(var e=new Pu,n=(t=d(t)).next();!n.done;n=t.next())e.add(new Au(n.value));return e}function Du(t){var e=this;if(t&&t.constructor!=Rs)throw new ht(2,9,9008);this.b=this.a=null,t?(this.a=t.b,this.b=t.Fb()):(this.a=Ps(),this.b=new It),this.f=!1,this.c=[],this.g=[];var n=!t;this.h=new Cu(function(){return h(function t(){var r;return L(t,function(t){switch(t.j){case 1:return r=function(){},S(t,Promise.all(e.g.map(function(t){return t.then(r,r)})),2);case 2:if(!n){t.A(3);break}return S(t,e.b.destroy(),3);case 3:e.a=null,e.b=null,_(t)}})})})}function Ou(){if(Qt())t:{for(var t=d(Wo.values()),e=t.next();!e.done;e=t.next())if(e=(e=e.value)()){e.destroy(),t=!0;break t}t=!1}else t=!1;return t}function Lu(t,e){for(var n=[],r=d(t.periods),i=r.next();!i.done;i=r.next())for(var a=(i=d(i.value.streams)).next();!a.done;a=i.next())a=a.value,e&&"video"==a.contentType?n.push({contentType:Wt(a.mimeType,a.codecs),robustness:t.drmInfo.videoRobustness}):e||"audio"!=a.contentType||n.push({contentType:Wt(a.mimeType,a.codecs),robustness:t.drmInfo.audioRobustness});return n}function Uu(t,e,n){return h(function r(){return L(r,function(r){switch(r.j){case 1:return S(r,function(t,e,n,r){return h(function i(){var a,o,s;return L(i,function(i){switch(i.j){case 1:return r.drmInfo?(a=function(t){var e=Array.from(t.a.keys());if(!e.length)throw new ht(2,9,9e3,"No supported storage mechanisms found");return t.a.get(e[0]).getEmeSessionCell()}(n),o=r.sessionIds.map(function(t){return{sessionId:t,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:Lu(r,!1),videoCapabilities:Lu(r,!0)}}),S(i,gs(e,t,o),2)):i.return();case 2:return s=i.s,S(i,a.remove(s),3);case 3:return S(i,a.add(o.filter(function(t){return-1==s.indexOf(t.sessionId)})),0)}})})}(t.b,t.a.drm,n,e),0)}})})}function Ru(t,e,n,r){function i(){s+=1,t.a.offline.progressCallback(u,s/o)}var a=function(t){var e=[];return t.periods.forEach(function(t){t.streams.forEach(function(t){null!=t.initSegmentKey&&e.push(t.initSegmentKey),t.segments.forEach(function(t){e.push(t.dataKey)})})}),e}(r),o=a.length+1,s=0,u=Su(n,r);return Promise.all([e.removeSegments(a,i),e.removeManifests([n.key()],i)])}function Nu(t,e,n,r,i,a){var o={id:a.id,originalId:a.originalId,primary:a.primary,presentationTimeOffset:a.presentationTimeOffset||0,contentType:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,initSegmentKey:null,encrypted:a.encrypted,keyId:a.keyId,segments:[],variantIds:[]};i=i.presentationTimeline.Hb();var s=a.id;return function(t,e,n){for(var r=null==(e=t.findSegmentPosition(e))?null:t.getSegmentReference(e);r;)n(r),r=t.getSegmentReference(++e)}(a,i,function(i){var u=_i(i.c(),i.b,i.a,t.a.streaming.retryParameters);No(e,s,u,function(t,e,n){return n=n.endTime-n.startTime,xu(t,e)*n}(r,a.id,i),function(e){return n.addSegments([{data:e}]).then(function(e){t.c.push(e[0]),o.segments.push({startTime:i.startTime,endTime:i.endTime,dataKey:e[0]})})})}),(i=a.initSegmentReference)&&(i=_i(i.c(),i.b,i.a,t.a.streaming.retryParameters),No(e,s,i,.5*xu(r,a.id),function(e){return n.addSegments([{data:e}]).then(function(e){t.c.push(e[0]),o.initSegmentKey=e[0]})})),o}function ju(t){if(t.h.a)throw new ht(2,9,7001)}function Bu(){if(!Ou())throw new ht(2,9,9e3)}function $u(t,e){return h(function n(){return L(n,function(n){switch(n.j){case 1:return t.g.push(e),x(n,2),S(n,e,4);case 4:return n.return(n.s);case 2:A(n),kt(t.g,e),P(n,0)}})})}function Fu(t){for(var e=new Set,n=(t=d(t.periods)).next();!n.done;n=t.next()){for(var r=d((n=n.value).textStreams),i=r.next();!i.done;i=r.next())e.add(i.value);for(r=(n=d(n.variants)).next();!r.done;r=n.next())(r=r.value).audio&&e.add(r.audio),r.video&&e.add(r.video)}return e}function Vu(t){t.variants.map(function(t){return t.video});var e=new Set(t.variants.map(function(t){return t.audio}));t=t.textStreams;for(var n=d(e),r=n.next();!r.done;r=n.next())for(var i=(r=d(e)).next();!i.done;i=r.next());for(n=(e=d(t)).next();!n.done;n=e.next())for(r=(n=d(t)).next();!r.done;r=n.next());}Rs.LoadMode={DESTROYED:gu,NOT_LOADED:bu,MEDIA_SOURCE:wu,SRC_EQUALS:Tu},Cu.prototype.destroy=function(){var t=this;return this.a?this.b:(this.a=!0,this.c().then(function(){t.b.resolve()},function(){t.b.resolve()}))},Pu.prototype.add=function(t){Mu(this,t)||this.a.push(t)},$("shaka.offline.Storage",Du),Du.support=Ou,Du.prototype.destroy=function(){return this.h.destroy()},Du.prototype.destroy=Du.prototype.destroy,Du.prototype.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=ks(t,e));var n=t,r=!1;return null!=n.trackSelectionCallback&&(r=!0,n.offline=n.offline||{},n.offline.trackSelectionCallback=n.trackSelectionCallback,delete n.trackSelectionCallback),null!=n.progressCallback&&(r=!0,n.offline=n.offline||{},n.offline.progressCallback=n.progressCallback,delete n.progressCallback),null!=n.usePersistentLicense&&(r=!0,n.offline=n.offline||{},n.offline.usePersistentLicense=n.usePersistentLicense,delete n.usePersistentLicense),r&&Zn("Storage.configure with OfflineConfig","Please configure storage with a player configuration."),Ms(this.a,t)},Du.prototype.configure=Du.prototype.configure,Du.prototype.getConfiguration=function(){var t=Ps();return Ms(t,this.a,Ps()),t},Du.prototype.getConfiguration=Du.prototype.getConfiguration,Du.prototype.Fb=function(){return this.b},Du.prototype.getNetworkingEngine=Du.prototype.Fb,Du.prototype.store=function(t,e,n){var r=this;return $u(this,function(t,e,n,r){return h(function i(){var a,o,s,u,c,l,f,p,m;return L(i,function(i){switch(i.j){case 1:return Bu(),t.f?i.return(Promise.reject(new ht(2,9,9006))):(t.f=!0,S(i,function(t,e,n){return h(function r(){var i,a,o,s,u,c;return L(r,function(r){switch(r.j){case 1:return i=null,a=t.b,o={networkingEngine:a,filterAllPeriods:function(){},filterNewPeriod:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(t){i=t}},S(r,n(),2);case 2:return(s=r.s).configure(t.a.manifest),ju(t),x(r,3),S(r,s.start(e,o),5);case 5:return u=r.s,ju(t),c=Fu(u),S(r,Promise.all(Array.from(c).map(function(t){return t.createSegmentIndex()})),6);case 6:if(ju(t),i)throw i;return r.return(u);case 3:return A(r),S(r,s.stop(),7);case 7:P(r,0)}})})}(t,e,r),2));case 2:if(a=i.s,ju(t),!(!a.presentationTimeline.V()&&!a.presentationTimeline.Va()))throw new ht(2,9,9005,e);return o=null,s=new zo,c=u=null,E(i,3,4),S(i,function(t,e,n){return h(function r(){var i,a,o;return L(r,function(r){switch(r.j){case 1:return i=new me({rb:t.b,onError:n,kc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),a=ja(e.periods),o=t.a,i.configure(o.drm),S(r,function(t,e,n){return t.o=[],t.D=n,ye(t,e)}(i,a,o.offline.usePersistentLicense),2);case 2:return S(r,ge(i),3);case 3:return S(r,be(i),4);case 4:return r.return(i)}})})}(t,a,function(t){c=c||t}),6);case 6:if(o=i.s,ju(t),c)throw c;return function(t,e,n){(function(t,e){for(var n={width:1/0,height:1/0},r=d(t.periods),i=r.next();!i.done;i=r.next())(i=i.value).variants=i.variants.filter(function(t){return Rn(t,e,n)})})(e,t.a.restrictions),function(t){for(var e=(t=d(t.periods)).next();!e.done;e=t.next())(e=e.value).variants=e.variants.filter(function(t){var e=!0;return t.audio&&(e=e&&wn(t.audio)),t.video&&(e=e&&wn(t.video)),e})}(e),function(t,e){for(var n=d(t.periods),r=n.next();!r.done;r=n.next())(r=r.value).variants=r.variants.filter(function(t){return Ae(e,t)})}(e,n),ku(e),function(t,e){var n=new Pu;t.periods.forEach(function(t,r){0<r&&(t.variants=t.variants.filter(function(t){return Mu(n,new Au(t))})),e(t),n=Iu(t.variants)})}(e,function(e){for(var n=[],r=d(e.variants),i=r.next();!i.done;i=r.next())n.push($n(i.value));for(r=d(e.textStreams),i=r.next();!i.done;i=r.next())n.push(Fn(i.value));n=t.a.offline.trackSelectionCallback(n);var a=new Set,o=new Set;for(n=d(n),r=n.next();!r.done;r=n.next())"variant"==(r=r.value).type&&a.add(r.id),"text"==r.type&&o.add(r.id);e.variants=e.variants.filter(function(t){return a.has(t.id)}),e.textStreams=e.textStreams.filter(function(t){return o.has(t.id)})}),function(t){if(0==t.periods.length)throw new ht(2,4,4014);for(var e=(t=d(t.periods)).next();!e.done;e=t.next())Vu(e.value)}(e)}(t,a,o),S(i,s.init(),7);case 7:return ju(t),S(i,function(t){var e=null;if(t.a.forEach(function(t,n){t.getCells().forEach(function(t,r){t.hasFixedKeySpace()||e||(e={path:{ua:n,aa:r},aa:t})})}),e)return e;throw new ht(2,9,9013,"Could not find a cell that supports add-operations")}(s),8);case 8:return u=i.s,ju(t),S(i,function(t,e,n,r,i,a){return h(function o(){var s,u,c,l;return L(o,function(o){switch(o.j){case 1:return s=function(t,e,n){var r=null==e.expiration?1/0:e.expiration;return{offlineUri:null,originalManifestUri:t,duration:e.presentationTimeline.Y(),size:0,expiration:r,tracks:e=_u(e.periods[0]),appMetadata:n}}(i,r,a),u=new Ro(t.b,function(e,n){s.size=n,t.a.offline.progressCallback(s,e)}),x(o,2),l=c=function(t,e,n,r,i,a,o){var s=new Eu,u=i.periods.map(function(r){return function(t,e,n,r,i,a){i.periods.forEach(function(t){t.variants.forEach(function(t){var e=t.audio,n=t.video;if(e&&!n&&(r.a[e.id]=e.bandwidth||t.bandwidth),!e&&n&&(r.a[n.id]=n.bandwidth||t.bandwidth),e&&n){var i=e.bandwidth||393216,a=n.bandwidth||t.bandwidth-i;0>=a&&(a=t.bandwidth),r.a[e.id]=i,r.a[n.id]=a}}),t.textStreams.forEach(function(t){r.a[t.id]=52})});for(var o=Fu(i),s=new Map,u=(o=d(o)).next();!u.done;u=o.next()){u=u.value;var c=Nu(t,e,n,r,i,u);s.set(u.id,c)}return a.variants.forEach(function(t){t.audio&&s.get(t.audio.id).variantIds.push(t.id),t.video&&s.get(t.video.id).variantIds.push(t.id)}),{startTime:a.startTime,streams:Array.from(s.values())}}(t,e,n,s,i,r)}),c=r.a,l=Se(r);if(c&&t.a.offline.usePersistentLicense){if(!l.length)throw new ht(2,9,9007,a);c.initData=[]}return{originalManifestUri:a,duration:i.presentationTimeline.Y(),size:0,expiration:r.dc(),periods:u,sessionIds:t.a.offline.usePersistentLicense?l:[],drmInfo:c,appMetadata:o}}(t,u,e,n,r,i,a),S(o,function(t){return h(function e(){return L(e,function(e){switch(e.j){case 1:return S(e,Promise.all(t.b.values()),2);case 2:return e.return(t.a.a)}})})}(u),4);case 4:return l.size=o.s,o.return(c);case 2:return A(o),S(o,u.destroy(),5);case 5:P(o,0)}})})}(t,u.aa,o,a,e,n),9);case 9:if(l=i.s,ju(t),c)throw c;return S(i,u.aa.addManifests([l]),10);case 10:return f=i.s,ju(t),p=new ls("manifest",u.path.ua,u.path.aa,f[0]),i.return(Su(p,l));case 4:return A(i),t.f=!1,t.c=[],S(i,s.destroy(),11);case 11:if(!o){i.A(12);break}return S(i,o.destroy(),12);case 12:P(i,0);break;case 3:if(m=k(i),!u){i.A(14);break}return S(i,u.aa.removeSegments(t.c,function(){}),14);case 14:throw c||m}})})}(this,t,e||{},function(){return h(function e(){var i,a;return L(e,function(e){switch(e.j){case 1:return n&&"string"!=typeof n?(Zn("Storing with a manifest parser factory","Please register a manifest parser and for the mime-type."),i=n,e.return(new i)):S(e,Ti.create(t,r.b,r.a.manifest.retryParameters,n),2);case 2:return a=e.s,e.return(a)}})})}))},Du.prototype.store=Du.prototype.store,Du.prototype.Ve=function(){return this.f},Du.prototype.getStoreInProgress=Du.prototype.Ve,Du.prototype.remove=function(t){return $u(this,function(t,e){return h(function n(){var r,i,a,o,s,u;return L(n,function(n){switch(n.j){case 1:return Bu(),null==(r=ds(e))||"manifest"!=r.a?n.return(Promise.reject(new ht(2,9,9004,e))):(i=r,a=new zo,x(n,2),S(n,a.init(),4));case 4:return S(n,Ko(a,i.ua(),i.aa()),5);case 5:return o=n.s,S(n,o.getManifests([i.key()]),6);case 6:return s=n.s,u=s[0],S(n,Promise.all([Uu(t,u,a),Ru(t,o,i,u)]),2);case 2:return A(n),S(n,a.destroy(),8);case 8:P(n,0)}})})}(this,t))},Du.prototype.remove=Du.prototype.remove,Du.prototype.Ff=function(){return $u(this,function(t){return h(function e(){var n,r,i,a,o,s,u,c,l;return L(e,function(e){switch(e.j){case 1:return Bu(),n=t.b,r=t.a.drm,i=new zo,a=!1,x(e,2),S(e,i.init(),4);case 4:for(o=[],function(t,e){t.a.forEach(function(t){e(t.getEmeSessionCell())})}(i,function(t){return o.push(t)}),s=Promise.resolve(),u={},c=d(o),l=c.next();!l.done;u={qc:u.qc},l=c.next())u.qc=l.value,s=s.then(function(t){return function(){return h(function e(){var i,o;return L(e,function(e){switch(e.j){case 1:return S(e,t.qc.getAll(),2);case 2:return i=e.s,S(e,gs(r,n,i),3);case 3:return o=e.s,S(e,t.qc.remove(o),4);case 4:o.length!=i.length&&(a=!0),_(e)}})})}}(u));return S(e,s,2);case 2:return A(e),S(e,i.destroy(),6);case 6:P(e,3);break;case 3:return e.return(!a)}})})}(this))},Du.prototype.removeEmeSessions=Du.prototype.Ff,Du.prototype.list=function(){return $u(this,h(function t(){var e,n,r;return L(t,function(t){switch(t.j){case 1:return Bu(),e=[],n=new zo,x(t,2),S(t,n.init(),4);case 4:return r=Promise.resolve(),function(t,e){t.a.forEach(function(t,n){t.getCells().forEach(function(t,r){e({ua:n,aa:r},t)})})}(n,function(t,n){r=r.then(function(){return h(function r(){return L(r,function(r){switch(r.j){case 1:return S(r,n.getAllManifests(),2);case 2:r.s.forEach(function(n,r){var i=Su(new ls("manifest",t.ua,t.aa,r),n);e.push(i)}),_(r)}})})})}),S(t,r,2);case 2:return A(t),S(t,n.destroy(),6);case 6:P(t,3);break;case 3:return t.return(e)}})}))},Du.prototype.list=Du.prototype.list,Du.deleteAll=function(){return h(function t(){var e;return L(t,function(t){switch(t.j){case 1:return e=new zo,x(t,2),S(t,e.erase(),2);case 2:return A(t),S(t,e.destroy(),5);case 5:P(t,0)}})})},Bs.offline=Ou,$("shaka.polyfill.installAll",function(){for(var t=0;t<zu.length;++t)zu[t].re()});var Hu,qu,zu=[];function Ku(t,e){for(var n={priority:e=e||0,re:t},r=0;r<zu.length;r++)if(zu[r].priority<e)return void zu.splice(r,0,n);zu.push(n)}function Gu(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(e,t);else(n=document.createEvent("Event")).initEvent(e,t.bubbles,t.cancelable);t.target.dispatchEvent(n)}function Wu(t,e,n){if("input"==t)switch(this.type){case"range":t="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,t,e,n)}function Xu(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return(n=t.apply(this,n)).abort=function(){},n}}function Yu(t){var e=t.target,n=e.mediaSource_;if(n.Ed){for(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.wd=!0,t=0;t<n.sourceBuffers.length;++t)if(0==n.sourceBuffers[t].wd)return;n.Ed=!1}}function Qu(t){t=t.target;for(var e=0;e<t.sourceBuffers.length;++e)t.sourceBuffers[e].removeEventListener("updateend",Yu,!1);t.removeEventListener("sourceclose",Qu,!1)}function Ju(t,e){try{var n=new Zu(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function Zu(t,e){if(this.keySystem=t,t.startsWith("com.apple.fps"))for(var n=d(e),r=n.next();!r.done;r=n.next()){var i=r.value;if("required"==i.persistentState)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var a=!1,o=!1;if(i.audioCapabilities)for(var s=d(i.audioCapabilities),u=s.next();!u.done;u=s.next())if((u=u.value).contentType){a=!0;var c=u.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,c)&&(r.audioCapabilities.push(u),o=!0)}if(i.videoCapabilities)for(u=(i=d(i.videoCapabilities)).next();!u.done;u=i.next())(s=u.value).contentType&&(a=!0,u=s.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,u)&&(r.videoCapabilities.push(s),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),r=o?r:null}if(r)return void(this.a=r)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function tc(t){var e=this.mediaKeys;return e&&e!=t&&nc(e,null),delete this.mediaKeys,(this.mediaKeys=t)?nc(t,this):Promise.resolve()}function ec(t){this.b=new WebKitMediaKeys(t),this.a=new Vt,this.c=null}function nc(t,e){if(t.a.Ya(),!e)return Promise.resolve();t.a.w(e,"webkitneedkey",ic);try{return 1<=e.readyState?e.webkitSetMediaKeys(t.b):t.a.ha(e,"loadedmetadata",function(){e.webkitSetMediaKeys(t.b)}),Promise.resolve()}catch(t){return Promise.reject(t)}}function rc(t){Et.call(this),this.c=null,this.g=t,this.b=this.a=null,this.f=new Vt,this.sessionId="",this.expiration=NaN,this.closed=new pt,this.keyStatuses=new oc}function ic(t){var e=this.mediaKeys.c,n=new Event("encrypted");n.initDataType="cenc",n.initData=function(t,e){function n(t){new DataView(a.buffer).setUint32(o,t.byteLength,!0),o+=4,a.set(t,o),o+=t.byteLength}var r=new Uint8Array(t);if(new DataView(r.buffer).getUint32(0,!0)+4!=r.byteLength)throw Error("Malformed init data!");var i=re(r.slice(4),!0);i=new Y(i).ra,i=new Uint8Array(oe(i,!0));var a=new Uint8Array(r.byteLength+4+i.byteLength+4+e.byteLength),o=0;return a.set(r,o),o+=r.byteLength,n(i),n(new Uint8Array(e)),a}(t.initData,e),this.dispatchEvent(n)}function ac(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new St("keystatuseschange"))}function oc(){this.size=0,this.a=void 0}function sc(t){this.f=[],this.b=[],this.a=[],(new Jr).ea("pssh",this.c.bind(this)).parse(t.buffer)}function uc(t,e){try{var n=new cc(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function cc(t,e){this.keySystem=t;for(var n=!1,r=0;r<e.length;++r){var i=e[r],a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=0;s<i.audioCapabilities.length;++s){var u=i.audioCapabilities[s];if(u.contentType){o=!0;var c=u.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,c)&&(a.audioCapabilities.push(u),n=!0)}}if(i.videoCapabilities)for(s=0;s<i.videoCapabilities.length;++s)(u=i.videoCapabilities[s]).contentType&&(o=!0,c=u.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,c)&&(a.videoCapabilities.push(u),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.a=a)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function lc(t){var e=this.mediaKeys;return e&&e!=t&&fc(e,null),delete this.mediaKeys,(this.mediaKeys=t)?fc(t,this):Promise.resolve()}function dc(t){this.a=new MSMediaKeys(t),this.b=new Vt}function fc(t,e){if(t.b.Ya(),!e)return Promise.resolve();t.b.w(e,"msneedkey",pc);var n=t;try{return 1<=e.readyState?e.msSetMediaKeys(t.a):e.addEventListener("loadedmetadata",function t(){e.msSetMediaKeys(n.a),e.removeEventListener("loadedmetadata",t)}),Promise.resolve()}catch(t){return Promise.reject(t)}}function hc(t){Et.call(this),this.c=null,this.g=t,this.b=this.a=null,this.f=new Vt,this.sessionId="",this.expiration=NaN,this.closed=new pt,this.keyStatuses=new vc}function pc(t){if(t.initData){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="cenc",e.initData=function(t){if(!t)return t;var e=new sc(t);if(1>=e.a.length)return t;for(var n=[],r=0;r<e.a.length;r++)n.push(t.subarray(e.a[r].start,e.a[r].end+1));for(t=[],e={},r=d(n),n=r.next();!n.done;e={fc:e.fc},n=r.next())e.fc=n.value,t.some(function(t){return function(e){return he(e,t.fc)}}(e))||t.push(e.fc);for(e=0,r=d(t),n=r.next();!n.done;n=r.next())e+=n.value.length;for(e=new Uint8Array(e),r=0,t=d(t),n=t.next();!n.done;n=t.next())n=n.value,e.set(n,r),r+=n.length;return e}(t.initData),this.dispatchEvent(e)}}function mc(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new St("keystatuseschange"))}function vc(){this.size=0,this.a=void 0}function yc(){return Promise.reject(Error("The key system specified is not supported."))}function gc(t){return null==t?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function bc(){throw new TypeError("Illegal constructor.")}function wc(){throw new TypeError("Illegal constructor.")}$("shaka.polyfill.register",Ku),Ku(function(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Gu),document.addEventListener("webkitfullscreenerror",Gu),document.addEventListener("mozfullscreenchange",Gu),document.addEventListener("mozfullscreenerror",Gu),document.addEventListener("MSFullscreenChange",Gu),document.addEventListener("MSFullscreenError",Gu)}}),Ku(function(){Zt("CrKey")&&delete t.indexedDB}),Ku(function(){Zt("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Wu)}),Ku(function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})}),Ku(function(){}),Ku(function(){if(t.MediaSource)if(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType)!function(){var t=MediaSource.isTypeSupported,e=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){for(var r=n.split(/ *; */),i=r[0],a={},o=1;o<r.length;++o){var s=r[o].split("="),u=s[0];s=s[1].replace(/"(.*)"/,"$1"),a[u]=s}if(!(r=a.codecs))return t(n);var c=!1,l=!1;for(var d in n=r.split(",").filter(function(t){return e.test(t)&&(l=!0),/^(hev|hvc)1\.2/.test(t)&&(c=!0),!0}),l&&(c=!1),a.codecs=n.join(","),c&&(a.eotf="smpte2084"),a)i+="; "+d+'="'+a[d]+'"';return cast.__platform__.canDisplayType(i)}}();else if(navigator.vendor&&navigator.vendor.includes("Apple")){var e=navigator.appVersion;!function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(/ *; */)[0].split("/")[1].toLowerCase()&&t(e)}}(),e.includes("Version/8")?t.MediaSource=null:e.includes("Version/9")?Xu():e.includes("Version/10")?(Xu(),function(){var t=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];for(var i=r=0;i<this.sourceBuffers.length;++i){var a=this.sourceBuffers[i];a=a.buffered.end(a.buffered.length-1),r=Math.max(r,a)}if(!isNaN(this.duration)&&r<this.duration)for(this.Ed=!0,r=0;r<this.sourceBuffers.length;++r)this.sourceBuffers[r].wd=!1;return t.apply(this,n)};var e=!1,n=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];return(r=n.apply(this,r)).mediaSource_=this,r.addEventListener("updateend",Yu,!1),e||(this.addEventListener("sourceclose",Qu,!1),e=!0),r}}()):(e.includes("Version/11")||e.includes("Version/12"))&&(Xu(),function(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,n){return t.call(this,e,n-.001)}}())}else Zt("Tizen")&&function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"opus"!=Xt(e)[0]&&t(e)}}()}),Zu.prototype.createMediaKeys=function(){var t=new ec(this.keySystem);return Promise.resolve(t)},Zu.prototype.getConfiguration=function(){return this.a},ec.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new rc(this.b,t)},ec.prototype.setServerCertificate=function(t){return this.c=t?new Uint8Array(t):null,Promise.resolve(!0)},F(rc,Et),(n=rc.prototype).generateRequest=function(t,e){this.a=new pt;try{this.c=this.g.createSession("video/mp4",new Uint8Array(e)),this.f.w(this.c,"webkitkeymessage",this.Wf.bind(this)),this.f.w(this.c,"webkitkeyadded",this.Uf.bind(this)),this.f.w(this.c,"webkitkeyerror",this.Vf.bind(this)),ac(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(t){this.b=new pt;try{this.c.update(new Uint8Array(t))}catch(t){this.b.reject(t)}return this.b},n.close=function(){try{this.c.close(),this.closed.resolve(),this.f.Ya()}catch(t){this.closed.reject(t)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},n.Wf=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new St("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:t.message.buffer}))},n.Uf=function(){this.b&&(ac(this,"usable"),this.b.resolve(),this.b=null)},n.Vf=function(){var t=Error("EME PatchedMediaKeysApple key error");if(t.errorCode=this.c.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.b)this.b.reject(t),this.b=null;else switch(this.c.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:ac(this,"output-not-allowed");break;default:ac(this,"internal-error")}},(n=oc.prototype).forEach=function(t){this.a&&t(this.a,Hu)},n.get=function(t){if(this.has(t))return this.a},n.has=function(t){var e=Hu;return!(!this.a||!he(new Uint8Array(t),new Uint8Array(e)))},n.entries=function(){},n.keys=function(){},n.values=function(){},Ku(function(){t.HTMLVideoElement&&t.WebKitMediaKeys&&(Hu=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=tc,t.MediaKeys=ec,t.MediaKeySystemAccess=Zu,navigator.requestMediaKeySystemAccess=Ju)}),sc.prototype.c=function(t){if(!(1<t.version)){var e=fe(t.reader.Xa(16)),n=[];if(0<t.version)for(var r=t.reader.F(),i=0;i<r;++i){var a=fe(t.reader.Xa(16));n.push(a)}r=t.reader.F(),t.reader.L(r),this.b.push.apply(this.b,n),this.f.push(e),this.a.push({start:t.start,end:t.start+t.size-1})}},cc.prototype.createMediaKeys=function(){var t=new dc(this.keySystem);return Promise.resolve(t)},cc.prototype.getConfiguration=function(){return this.a},dc.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new hc(this.a,t)},dc.prototype.setServerCertificate=function(){return Promise.resolve(!1)},F(hc,Et),(n=hc.prototype).generateRequest=function(t,e){this.a=new pt;try{this.c=this.g.createSession("video/mp4",new Uint8Array(e),null),this.f.w(this.c,"mskeymessage",this.nf.bind(this)),this.f.w(this.c,"mskeyadded",this.lf.bind(this)),this.f.w(this.c,"mskeyerror",this.mf.bind(this)),mc(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(t){this.b=new pt;try{this.c.update(new Uint8Array(t))}catch(t){this.b.reject(t)}return this.b},n.close=function(){try{this.c.close(),this.closed.resolve(),this.f.Ya()}catch(t){this.closed.reject(t)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},n.nf=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new St("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:t.message.buffer}))},n.lf=function(){this.a?(mc(this,"usable"),this.a.resolve(),this.a=null):this.b&&(mc(this,"usable"),this.b.resolve(),this.b=null)},n.mf=function(){var t=Error("EME PatchedMediaKeysMs key error");if(t.errorCode=this.c.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.b)this.b.reject(t),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:mc(this,"output-not-allowed");break;default:mc(this,"internal-error")}},(n=vc.prototype).forEach=function(t){this.a&&t(this.a,qu)},n.get=function(t){if(this.has(t))return this.a},n.has=function(t){var e=qu;return!(!this.a||!he(new Uint8Array(t),new Uint8Array(e)))},n.entries=function(){},n.keys=function(){},n.values=function(){},Ku(function(){!t.HTMLVideoElement||!t.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(qu=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=lc,t.MediaKeys=dc,t.MediaKeySystemAccess=cc,navigator.requestMediaKeySystemAccess=uc)}),bc.prototype.createSession=function(){},bc.prototype.setServerCertificate=function(){},wc.prototype.getConfiguration=function(){},wc.prototype.createMediaKeys=function(){},Ku(function(){!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=yc,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=gc,t.MediaKeys=bc,t.MediaKeySystemAccess=wc)},-10);var Tc,Sc="";function _c(t){return Sc?Sc+t.charAt(0).toUpperCase()+t.slice(1):t}function Ec(t,e){try{var n=new Cc(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function xc(t){var e=this.mediaKeys;return e&&e!=t&&Ac(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&Ac(t,this),Promise.resolve()}function Cc(t,e){this.a=this.keySystem=t;var n=!1;"org.w3.clearkey"==t&&(this.a="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=0;a<e.length;++a){var o=e[a],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},u=!1;if(o.audioCapabilities)for(var c=0;c<o.audioCapabilities.length;++c){var l=o.audioCapabilities[c];if(l.contentType){u=!0;var d=l.contentType.split(";")[0];i.canPlayType(d,this.a)&&(s.audioCapabilities.push(l),r=!0)}}if(o.videoCapabilities)for(c=0;c<o.videoCapabilities.length;++c)(l=o.videoCapabilities[c]).contentType&&(u=!0,i.canPlayType(l.contentType,this.a)&&(s.videoCapabilities.push(l),r=!0));if(u||(r=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function kc(t){this.g=t,this.b=null,this.a=new Vt,this.c=[],this.f={}}function Ac(t,e){t.b=e,t.a.Ya();var n=Sc;e&&(t.a.w(e,n+"needkey",t.tf.bind(t)),t.a.w(e,n+"keymessage",t.Zf.bind(t)),t.a.w(e,n+"keyadded",t.Xf.bind(t)),t.a.w(e,n+"keyerror",t.Yf.bind(t)))}function Pc(t,e){var n=t.f[e];return n||((n=t.c.shift())?(n.sessionId=e,t.f[e]=n):null)}function Mc(t,e,n){Et.call(this),this.f=t,this.h=!1,this.a=this.b=null,this.c=e,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new pt,this.keyStatuses=new Oc}function Ic(t,e,n){if(t.h)return Promise.reject(Error("The session is already initialized."));t.h=!0;try{if("persistent-license"==t.g)if(n)var r=new Uint8Array(ae("LOAD_SESSION|"+n));else{var i=ae("PERSISTENT|"),a=new Uint8Array(i.byteLength+e.byteLength);a.set(new Uint8Array(i),0),a.set(new Uint8Array(e),i.byteLength),r=a}else r=new Uint8Array(e)}catch(t){return Promise.reject(t)}t.b=new pt;var o=_c("generateKeyRequest");try{t.f[o](t.c,r)}catch(e){if("InvalidStateError"!=e.name)return t.b=null,Promise.reject(e);new lt(function(){try{t.f[o](t.c,r)}catch(e){t.b.reject(e),t.b=null}}).O(.01)}return t.b}function Dc(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new St("keystatuseschange"))}function Oc(){this.size=0,this.a=void 0}function Lc(t){if("picture-in-picture"==(t=t.target).webkitPresentationMode){document.pictureInPictureElement=t;var e=new Event("enterpictureinpicture");t.dispatchEvent(e)}else document.pictureInPictureElement==t&&(document.pictureInPictureElement=null),e=new Event("leavepictureinpicture"),t.dispatchEvent(e)}function Uc(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function Rc(){var t=document.pictureInPictureElement;return t?(t.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function Nc(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function jc(e,n,r){return new t.TextTrackCue(e,n,r)}function Bc(e,n,r){return new t.TextTrackCue(e+"-"+n+"-"+r,e,n,r)}function $c(){}Cc.prototype.createMediaKeys=function(){var t=new kc(this.a);return Promise.resolve(t)},Cc.prototype.getConfiguration=function(){return this.b},(n=kc.prototype).createSession=function(t){if("temporary"!=(t=t||"temporary")&&"persistent-license"!=t)throw new TypeError("Session type "+t+" is unsupported on this platform.");var e=this.b||document.createElement("video");return e.src||(e.src="about:blank"),t=new Mc(e,this.g,t),this.c.push(t),t},n.setServerCertificate=function(){return Promise.resolve(!1)},n.tf=function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="webm",e.initData=t.initData,this.b.dispatchEvent(e)},n.Zf=function(t){var e=Pc(this,t.sessionId);e&&(t=new St("message",{messageType:null==e.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),e.b&&(e.b.resolve(),e.b=null),e.dispatchEvent(t))},n.Xf=function(t){(t=Pc(this,t.sessionId))&&(Dc(t,"usable"),t.a&&t.a.resolve(),t.a=null)},n.Yf=function(t){var e=Pc(this,t.sessionId);e&&e.handleError(t)},F(Mc,Et),(n=Mc.prototype).handleError=function(t){var e=Error("EME v0.1b key error");e.errorCode=t.errorCode,e.errorCode.systemCode=t.systemCode,!t.sessionId&&this.b?(e.method="generateRequest",45==t.systemCode&&(e.message="Unsupported session type."),this.b.reject(e),this.b=null):t.sessionId&&this.a?(e.method="update",this.a.reject(e),this.a=null):(e=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Dc(this,"output-restricted"):Dc(this,1==e?"expired":"internal-error"))},n.md=function(t,e){if(this.a)this.a.then(this.md.bind(this,t,e)).catch(this.md.bind(this,t,e));else{if(this.a=t,"webkit-org.w3.clearkey"==this.c){var n=ne(e),r=JSON.parse(n);"oct"!=r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=le(r.keys[0].k),r=le(r.keys[0].kid)}else n=new Uint8Array(e),r=null;var i=_c("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(t){this.a.reject(t),this.a=null}}},n.generateRequest=function(t,e){return Ic(this,e,null)},n.load=function(t){return"persistent-license"==this.g?Ic(this,null,t):Promise.reject(Error("Not a persistent session."))},n.update=function(t){var e=new pt;return this.md(e,t),e},n.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=_c("cancelKeyRequest");try{this.f[t](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},n.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(n=Oc.prototype).forEach=function(t){this.a&&t(this.a,Tc)},n.get=function(t){if(this.has(t))return this.a},n.has=function(t){var e=Tc;return!(!this.a||!he(new Uint8Array(t),new Uint8Array(e)))},n.entries=function(){},n.keys=function(){},n.values=function(){},Ku(function(){if(!(!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Sc="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;Tc=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=Ec,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=xc,t.MediaKeys=kc,t.MediaKeySystemAccess=Cc}}),Ku(function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=Uc,document.exitPictureInPicture=Rc,document.addEventListener("webkitpresentationmodechanged",Lc,!0))}}),Ku(function(){if(t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}),Ku(function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=Nc)}}),Ku(function(){if(!t.VTTCue&&t.TextTrackCue){var e=TextTrackCue.length;if(3==e)t.VTTCue=jc;else if(6==e)t.VTTCue=Bc;else{try{var n=!!jc(1,2,"")}catch(t){n=!1}n&&(t.VTTCue=jc)}}}),$c.prototype.parseInit=function(){},$c.prototype.parseMedia=function(t,e){var n=ne(t),r=[],i=new DOMParser,a=null;try{a=i.parseFromString(n,"text/xml")}catch(t){throw new ht(2,2,2005)}if(a){if(!(a=a.getElementsByTagName("tt")[0]))throw new ht(2,2,2005);var o=Rr.getAttributeNS(a,"http://www.w3.org/ns/ttml#parameter","frameRate"),s=Rr.getAttributeNS(a,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),u=Rr.getAttributeNS(a,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),c=Rr.getAttributeNS(a,"http://www.w3.org/ns/ttml#parameter","tickRate");if(n=a.getAttribute("xml:space")||"default",i=a.getAttribute("tts:extent"),"default"!=n&&"preserve"!=n)throw new ht(2,2,2005);n="default"==n,o=new sl(o,s,u,c),s=Jc(a.getElementsByTagName("metadata")[0]),u=Jc(a.getElementsByTagName("styling")[0]),c=Jc(a.getElementsByTagName("layout")[0]);for(var l=[],d=0;d<c.length;d++){var f,h,p=c[d],m=u,v=i,y=new ln,g=p.getAttribute("xml:id");if(g)y.id=g,g=null,v&&(g=Fc.exec(v)||Hc.exec(v)),v=g?Number(g[1]):null,g=g?Number(g[2]):null,(f=nl(p,m,"extent"))&&(null!=(f=(h=Fc.exec(f))||Hc.exec(f))&&(y.width=null!=v?100*Number(f[1])/v:Number(f[1]),y.height=null!=g?100*Number(f[2])/g:Number(f[2]),y.widthUnits=h||null!=v?dn:0,y.heightUnits=h||null!=g?dn:0)),(p=nl(p,m,"origin"))&&(null!=(f=(h=Fc.exec(p))||Hc.exec(p))&&(y.viewportAnchorX=null!=g?100*Number(f[1])/g:Number(f[1]),y.viewportAnchorY=null!=v?100*Number(f[2])/v:Number(f[2]),y.viewportAnchorUnits=h||null!=v?dn:0));else y=null;y&&l.push(y)}for(i=Jc(a.getElementsByTagName("body")[0]),a=0;a<i.length;a++)(d=Zc(i[a],e.periodStart,o,s,u,c,l,n))&&r.push(d)}return r};var Fc=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,Vc=/^(\d+px|\d+em)$/,Hc=/^(\d+)px (\d+)px$/,qc=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,zc=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Kc=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Gc=/^(\d*(?:\.\d*)?)f$/,Wc=/^(\d*(?:\.\d*)?)t$/,Xc=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Yc={left:an,center:"center",right:"end",start:an,end:"end"},Qc={left:"line-left",center:"center",right:"line-right"};function Jc(t){var e=[];if(!t)return e;for(var n=t.childNodes,r=0;r<n.length;r++){var i="span"==n[r].nodeName&&"p"==t.nodeName;n[r].nodeType!=Node.ELEMENT_NODE||"br"==n[r].nodeName||i||(i=Jc(n[r]),e=e.concat(i))}return e.length||e.push(t),e}function Zc(t,e,n,r,i,a,o,s){if(!t.hasAttribute("begin")&&!t.hasAttribute("end")&&/^\s*$/.test(t.textContent))return null;!function t(e,n){for(var r=e.childNodes,i=0;i<r.length;i++)if("br"==r[i].nodeName&&0<i)r[i-1].textContent+="\n";else if(0<r[i].childNodes.length)t(r[i],n);else if(n){var a=r[i].textContent.trim();a=a.replace(/\s+/g," "),r[i].textContent=a}}(t,s),s=al(t.getAttribute("begin"),n);var u=al(t.getAttribute("end"),n);n=al(t.getAttribute("dur"),n);var c=t.textContent;if(null==u&&null!=n&&(u=s+n),null==s||null==u)throw new ht(2,2,2001);if(e=new Xe(s+e,u+e,c),(a=il(t,"region",a,""))&&a.getAttribute("xml:id")){var l=a.getAttribute("xml:id");o=o.filter(function(t){return t.id==l}),e.region=o[0]}return function(t,e,n,r,i){"rtl"==el(e,n,i,"direction")&&(t.direction="rtl");var a=el(e,n,i,"writingMode");"tb"==a||"tblr"==a?t.writingMode="vertical-lr":"tbrl"==a?t.writingMode="vertical-rl":"rltb"==a||"rl"==a?t.direction="rtl":a&&(t.direction=en),(a=el(e,n,i,"textAlign"))&&(t.positionAlign=Qc[a],t.lineAlign=Yc[a],t.textAlign=Je[a.toUpperCase()]);(a=el(e,n,i,"displayAlign"))&&(t.displayAlign=tn[a.toUpperCase()]);(a=el(e,n,i,"color"))&&(t.color=a);(a=el(e,n,i,"backgroundColor"))&&(t.backgroundColor=a);(a=el(e,n,i,"fontFamily"))&&(t.fontFamily=a);(a=el(e,n,i,"fontWeight"))&&"bold"==a&&(t.fontWeight=700),(a=el(e,n,i,"wrapOption"))&&"noWrap"==a&&(t.wrapLine=!1),(a=el(e,n,i,"lineHeight"))&&a.match(Vc)&&(t.lineHeight=a),(a=el(e,n,i,"fontSize"))&&a.match(Vc)&&(t.fontSize=a),(a=el(e,n,i,"fontStyle"))&&(t.fontStyle=cn[a.toUpperCase()]);if(r){a=r.getAttribute("imagetype");var o=r.getAttribute("encoding");r=r.textContent.trim(),"PNG"==a&&"Base64"==o&&r&&(t.backgroundImage="data:image/png;base64,"+r)}(n=nl(n,i,"textDecoration"))&&tl(t,n),(e=rl(e,i,"textDecoration"))&&tl(t,e)}(e,t,a,r=il(t,"smpte:backgroundImage",r,"#"),i),e}function tl(t,e){for(var n=e.split(" "),r=0;r<n.length;r++)switch(n[r]){case"underline":t.textDecoration.includes("underline")||t.textDecoration.push("underline");break;case"noUnderline":t.textDecoration.includes("underline")&&kt(t.textDecoration,"underline");break;case"lineThrough":t.textDecoration.includes("lineThrough")||t.textDecoration.push("lineThrough");break;case"noLineThrough":t.textDecoration.includes("lineThrough")&&kt(t.textDecoration,"lineThrough");break;case"overline":t.textDecoration.includes("overline")||t.textDecoration.push("overline");break;case"noOverline":t.textDecoration.includes("overline")&&kt(t.textDecoration,"overline")}}function el(t,e,n,r){return(t=rl(t,n,r))?t:nl(e,n,r)}function nl(t,e,n){for(var r=Jc(t),i=0;i<r.length;i++){var a=Rr.getAttributeNS(r[i],"http://www.w3.org/ns/ttml#styling",n);if(a)return a}return(t=il(t,"style",e,""))?Rr.getAttributeNS(t,"http://www.w3.org/ns/ttml#styling",n):null}function rl(t,e,n){return(t=il(t,"style",e,""))?Rr.getAttributeNS(t,"http://www.w3.org/ns/ttml#styling",n):null}function il(t,e,n,r){if(!t||1>n.length)return null;var i=null,a=t;for(t=null;a&&!(t=a.getAttribute(e))&&(a=a.parentNode)instanceof Element;);if(e=t)for(t=0;t<n.length;t++)if(r+n[t].getAttribute("xml:id")==e){i=n[t];break}return i}function al(t,e){var n=null;if(qc.test(t)){n=qc.exec(t);var r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=Number(n[4]);n=(a+=(o+=(Number(n[5])||0)/e.b)/e.frameRate)+60*i+3600*r}else zc.test(t)?n=ol(zc,t):Kc.test(t)?n=ol(Kc,t):Gc.test(t)?(n=Gc.exec(t),n=Number(n[1])/e.frameRate):Wc.test(t)?(n=Wc.exec(t),n=Number(n[1])/e.a):Xc.test(t)&&(n=ol(Xc,t));return n}function ol(t,e){var n=t.exec(e);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function sl(t,e,n,r){this.frameRate=Number(t)||30,this.b=Number(e)||1,this.a=Number(r),0==this.a&&(this.a=t?this.frameRate*this.b:1),n&&(t=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(t[1])/Number(t[2]))}function ul(){this.a=new $c}function cl(){}function ll(t,e,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(e))?(e=r[1],t.textAlign="middle"==e?Qe:Je[e.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(e))?t.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(e))?t.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))?(t.position=Number(r[1]),r[2]&&(e=r[2],t.positionAlign="line-left"==e||"start"==e?"line-left":"line-right"==e||"end"==e?"line-right":"center")):(r=/^region:(.*)$/.exec(e))?(e=function(t,e){var n=t.filter(function(t){return t.id==e});return n.length?n[0]:null}(n,r[1]))&&(t.region=e):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))?(t.lineInterpretation=1,t.line=Number(n[1]),n[2]&&(t.lineAlign=on[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))&&(t.lineInterpretation=rn,t.line=Number(n[1]),n[2]&&(t.lineAlign=on[n[2].toUpperCase()]))}function dl(t){if(null==(t=Fi(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function fl(){this.a=null}function hl(t,e,n){var r,i,a;return(new Jr).H("payl",ei(function(t){r=ne(t)})).H("iden",ei(function(t){i=ne(t)})).H("sttg",ei(function(t){a=ne(t)})).parse(t),r?function(t,e,n,r,i){if(t=new Xe(r,i,t),e&&(t.id=e),n)for(e=new Bi(n),n=Vi(e);n;)ll(t,n,[]),$i(e),n=Vi(e);return t}(r,i,a,e,n):null}pn["application/ttml+xml"]=$c,ul.prototype.parseInit=function(t){var e=!1;if((new Jr).H("moov",Zr).H("trak",Zr).H("mdia",Zr).H("minf",Zr).H("stbl",Zr).ea("stsd",ti).H("stpp",function(t){e=!0,t.parser.stop()}).parse(t),!e)throw new ht(2,2,2007)},ul.prototype.parseMedia=function(t,e){var n=!1,r=[];if((new Jr).H("mdat",ei(function(t){n=!0,r=r.concat(this.a.parseMedia(t,e))}.bind(this))).parse(t),!n)throw new ht(2,2,2007);return r},pn['application/mp4; codecs="stpp"']=ul,pn['application/mp4; codecs="stpp.TTML.im1t"']=ul,cl.prototype.parseInit=function(){},cl.prototype.parseMedia=function(t,e){var n=ne(t);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new ht(2,2,2e3);var r=e.segmentStart;if(null==r&&(r=0,n[0].includes("X-TIMESTAMP-MAP"))){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=n[0].match(/MPEGTS:(\d+)/m);if(i&&a){if(null==(r=dl(new Bi(i[1]))))throw new ht(2,2,2e3);r=e.periodStart+(Number(a[1])/9e4-r)}}a=[];var o=n[0].split("\n");for(i=1;i<o.length;i++)if(/^Region:/.test(o[i])){var s=new Bi(o[i]),u=new ln;Vi(s),$i(s);for(var c=Vi(s);c;){var l=u,d=c;(c=/^id=(.*)$/.exec(d))?l.id=c[1]:(c=/^width=(\d{1,2}|100)%$/.exec(d))?l.width=Number(c[1]):(c=/^lines=(\d+)$/.exec(d))?(l.height=Number(c[1]),l.heightUnits=2):(c=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(l.regionAnchorX=Number(c[1]),l.regionAnchorY=Number(c[2])):(c=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(l.viewportAnchorX=Number(c[1]),l.viewportAnchorY=Number(c[2])):/^scroll=up$/.exec(d)&&(l.scroll="up"),$i(s),c=Vi(s)}a.push(u)}for(i=[],s=1;s<n.length;s++){if(c=o=n[s].split("\n"),d=r,o=a,1==c.length&&!c[0]||/^NOTE($|[ \t])/.test(c[0])||"STYLE"==c[0])o=null;else{u=null,c[0].includes("--\x3e")||(u=c[0],c.splice(0,1));var f=dl(l=new Bi(c[0])),h=Fi(l,/[ \t]+--\x3e[ \t]+/g),p=dl(l);if(null==f||null==h||null==p)throw new ht(2,2,2001);for(c=new Xe(f+d,p+d,c.slice(1).join("\n").trim()),$i(l),d=Vi(l);d;)ll(c,d,o),$i(l),d=Vi(l);null!=u&&(c.id=u),o=c}o&&i.push(o)}return i},pn["text/vtt"]=cl,pn['text/vtt; codecs="vtt"']=cl,fl.prototype.parseInit=function(t){var e=!1;if((new Jr).H("moov",Zr).H("trak",Zr).H("mdia",Zr).ea("mdhd",function(t){0==t.version?(t.reader.L(4),t.reader.L(4),this.a=t.reader.F(),t.reader.L(4)):(t.reader.L(8),t.reader.L(8),this.a=t.reader.F(),t.reader.L(8)),t.reader.L(4)}.bind(this)).H("minf",Zr).H("stbl",Zr).ea("stsd",ti).H("wvtt",function(){e=!0}).parse(t),!this.a)throw new ht(2,2,2008);if(!e)throw new ht(2,2,2008)},fl.prototype.parseMedia=function(t,e){var n=this;if(!this.a)throw new ht(2,2,2008);var r,i=0,a=[],o=[],s=!1,u=!1,c=!1,l=null;if((new Jr).H("moof",Zr).H("traf",Zr).ea("tfdt",function(t){s=!0,i=0==t.version?t.reader.F():t.reader.yb()}).ea("tfhd",function(t){var e=t.flags;(t=t.reader).L(4),1&e&&t.L(8),2&e&&t.L(4),l=8&e?t.F():null}).ea("trun",function(t){u=!0;var e=t.version,n=t.flags,r=(t=t.reader).F();1&n&&t.L(4),4&n&&t.L(4);for(var i=[],o=0;o<r;o++){var s={duration:null,sampleSize:null,od:null};256&n&&(s.duration=t.F()),512&n&&(s.sampleSize=t.F()),1024&n&&t.L(4),2048&n&&(s.od=0==e?t.F():t.Xd()),i.push(s)}a=i}).H("mdat",ei(function(t){c=!0,r=t})).parse(t),!c&&!s&&!u)throw new ht(2,2,2008);var d=i,f=new Wr(new DataView(r.buffer,r.byteOffset,r.byteLength),0);return a.forEach(function(t){var r=t.duration||l,a=t.od?i+t.od:d;d=a+(r||0);var s=0;do{var u=f.F();s+=u;var c=null;"vttc"==ri(f.F())?8<u&&(c=f.Xa(u-8)):f.L(u-8),r&&c&&o.push(hl(c,e.periodStart+a/n.a,e.periodStart+d/n.a))}while(t.sampleSize&&s<t.sampleSize)}),o.filter(Fe.Ga)},pn['application/mp4; codecs="wvtt"']=fl,$("shaka.util.Dom.createHTMLElement",function(t){return document.createElement(t)}),$("shaka.util.Dom.createVideoElement",function(){var t=document.createElement("video");return t.muted=!0,t.width=600,t.height=400,t}),$("shaka.util.Dom.asHTMLElement",function(t){return t}),$("shaka.util.Dom.asHTMLMediaElement",function(t){return t}),$("shaka.util.Dom.removeAllChildren",function(t){for(;t.firstChild;)t.removeChild(t.firstChild)})}.call(n,t,t),n.shaka)e[r]=n.shaka[r]}()},function(t,e,n){"use strict";var r,i=n(3),a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(r=function(){var t;r.prototype.init.call(this),this.push=function(e){var n,r,i,o,s,u,c=0,l=0;if("audio"===e.type)for(t?(o=t,(t=new Uint8Array(o.byteLength+e.data.byteLength)).set(o),t.set(e.data,o.byteLength)):t=e.data;c+5<t.length;)if(255===t[c]&&240==(246&t[c+1])){if(r=2*(1&~t[c+1]),n=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,u=9e4*(s=1024*(1+(3&t[c+6])))/a[(60&t[c+2])>>>2],i=c+n,t.byteLength<i)return;if(this.trigger("data",{pts:e.pts+l*u,dts:e.dts+l*u,sampleCount:s,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:a[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+r,i)}),t.byteLength===i)return void(t=void 0);l++,t=t.subarray(i)}else c++},this.flush=function(){this.trigger("done")}}).prototype=new i,t.exports=r},function(t,e,n){"use strict";var r,i,a,o=n(3),s=n(33);(i=function(){var t,e,n=0;i.prototype.init.call(this),this.push=function(r){var i;for(e?((i=new Uint8Array(e.byteLength+r.data.byteLength)).set(e),i.set(r.data,e.byteLength),e=i):e=r.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}}).prototype=new o,a={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(r=function(){var t,e,n,o,u,c,l,d=new i;r.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,o=t.dts,d.push(t))},d.on("data",function(r){var i={trackId:e,pts:n,dts:o,data:r};switch(31&r[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=u(r.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=u(r.subarray(1)),i.config=c(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",i)}),d.on("done",function(){t.trigger("done")}),this.flush=function(){d.flush()},l=function(t,e){var n,r=8,i=8;for(n=0;n<t;n++)0!==i&&(i=(r+e.readExpGolomb()+256)%256),r=0===i?r:i},u=function(t){for(var e,n,r=t.byteLength,i=[],a=1;a<r-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=t[o];return n},c=function(t){var e,n,r,i,o,u,c,d,f,h,p,m,v,y=0,g=0,b=0,w=0,T=1;if(n=(e=new s(t)).readUnsignedByte(),i=e.readUnsignedByte(),r=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),a[n]&&(3===(o=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(p=3!==o?8:12,v=0;v<p;v++)e.readBoolean()&&l(v<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(u=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===u)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),c=e.readUnsignedExpGolomb(),v=0;v<c;v++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),d=e.readUnsignedExpGolomb(),f=e.readUnsignedExpGolomb(),0===(h=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(y=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb(),w=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}m&&(T=m[0]/m[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(d+1)-2*y-2*g)*T),height:(2-h)*(f+1)*16-2*b-2*w}}}).prototype=new o,t.exports={H264Stream:r,NalByteStream:i}},function(t,e,n){"use strict";var r,i,a,o,s,u=n(35).toUnsigned;r=function(t,e){var n,a,o,s,c,l=[];if(!e.length)return null;for(n=0;n<t.byteLength;)a=u(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),o=i(t.subarray(n+4,n+8)),s=a>1?n+a:t.byteLength,o===e[0]&&(1===e.length?l.push(t.subarray(n+8,s)):(c=r(t.subarray(n+8,s),e.slice(1))).length&&(l=l.concat(c))),n=s;return l},i=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},a=function(t){return r(t,["moov","trak"]).reduce(function(t,e){var n,i,a,o,s;return(n=r(e,["tkhd"])[0])?(i=n[0],o=u(n[a=0===i?12:20]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3]),(s=r(e,["mdia","mdhd"])[0])?(a=0===(i=s[0])?12:20,t[o]=u(s[a]<<24|s[a+1]<<16|s[a+2]<<8|s[a+3]),t):null):null},{})},o=function(t,e){var n,i,a;return n=r(e,["moof","traf"]),i=[].concat.apply([],n.map(function(e){return r(e,["tfhd"]).map(function(n){var i,a;return i=u(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),a=t[i]||9e4,(r(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=u(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=u(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0]||1/0)/a})})),a=Math.min.apply(null,i),isFinite(a)?a:0},s=function(t){var e=r(t,["moov","trak"]),n=[];return e.forEach(function(t){var e=r(t,["mdia","hdlr"]),a=r(t,["tkhd"]);e.forEach(function(t,e){var r,o,s=i(t.subarray(8,12)),u=a[e];"vide"===s&&(o=0===(r=new DataView(u.buffer,u.byteOffset,u.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),n.push(o))})}),n},t.exports={findBox:r,parseType:i,timescale:a,startTime:o,videoTrackIds:s}},function(t,e,n){"use strict";var r,i,a,o,s=n(3),u=n(19),c=n(36),l=n(37),d=n(40),f=n(14),h=n(10),p=n(11).H264Stream,m=n(42),v=n(15).isLikelyAacData,y=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],g=["width","height","profileIdc","levelIdc","profileCompatibility"],b=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},w=function(t,e,n,r,i,a){return{start:{dts:t,pts:t+(n-e)},end:{dts:t+(r-e),pts:t+(i-n)},prependedContentDuration:a,baseMediaDecodeTime:t}};(i=function(t,e){var n=[],r=0,a=0,o=0,s=1/0;e=e||{},i.prototype.init.call(this),this.push=function(e){d.collectDtsInfo(t,e),t&&y.forEach(function(n){t[n]=e[n]}),n.push(e)},this.setEarliestDts=function(e){a=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){o=t},this.flush=function(){var i,c,f,h;0!==n.length?(i=l.trimAdtsFramesByEarliestDts(n,t,a),t.baseMediaDecodeTime=d.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),l.prefixWithSilence(t,i,o,s),t.samples=l.generateSampleTable(i),f=u.mdat(l.concatenateFrameData(i)),n=[],c=u.moof(r,[t]),h=new Uint8Array(c.byteLength+f.byteLength),r++,h.set(c),h.set(f,c.byteLength),d.clearDtsInfo(t),this.trigger("data",{track:t,boxes:h}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new s,(r=function(t,e){var n,i,a=0,o=[],s=[];e=e||{},r.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){d.collectDtsInfo(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],g.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),o.push(e)},this.flush=function(){for(var n,r,i,l,f,h,p,m,v=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=c.groupNalsIntoFrames(o),(i=c.groupFramesIntoGops(n))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],t))?(v=r.duration,i.unshift(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.pts=r.pts,i.dts=r.dts,i.duration+=r.duration):i=c.extendFirstKeyFrame(i)),s.length){var y;if(!(y=e.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");d.clearDtsInfo(t),i=y}d.collectDtsInfo(t,i),t.samples=c.generateSampleTable(i),f=u.mdat(c.concatenateNalData(i)),t.baseMediaDecodeTime=d.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",i.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),p=i[0],m=i[i.length-1],this.trigger("segmentTimingInfo",w(t.baseMediaDecodeTime,p.dts,p.pts,m.dts+m.duration,m.pts+m.duration,v)),this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),l=u.moof(a,[t]),h=new Uint8Array(l.byteLength+f.byteLength),a++,h.set(l),h.set(f,l.byteLength),this.trigger("data",{track:t,boxes:h}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){d.clearDtsInfo(t),n=void 0,i=void 0},this.getGopForFusion_=function(e){var n,r,i,a,o,s=1/0;for(o=0;o<this.gopCache_.length;o++)i=(a=this.gopCache_[o]).gop,t.pps&&b(t.pps[0],a.pps[0])&&t.sps&&b(t.sps[0],a.sps[0])&&(i.dts<t.timelineStartInfo.dts||(n=e.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=a,s=n));return r?r.gop:null},this.alignGopsAtStart_=function(t){var e,n,r,i,a,o,u,c;for(a=t.byteLength,o=t.nalCount,u=t.duration,e=n=0;e<s.length&&n<t.length&&(r=s[e],i=t[n],r.pts!==i.pts);)i.pts>r.pts?e++:(n++,a-=i.byteLength,o-=i.nalCount,u-=i.duration);return 0===n?t:n===t.length?null:((c=t.slice(n)).byteLength=a,c.duration=u,c.nalCount=o,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(t){var e,n,r,i,a,o,u;for(e=s.length-1,n=t.length-1,a=null,o=!1;e>=0&&n>=0;){if(r=s[e],i=t[n],r.pts===i.pts){o=!0;break}r.pts>i.pts?e--:(e===s.length-1&&(a=n),n--)}if(!o&&null===a)return null;if(0===(u=o?n:a))return t;var c=t.slice(u),l=c.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return c.byteLength=l.byteLength,c.duration=l.duration,c.nalCount=l.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(t){s=t}}).prototype=new s,(o=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps&&(this.keepOriginalTimestamps=t.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new s,o.prototype.flush=function(t){var e,n,r,i,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,g.forEach(function(t){o.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,y.forEach(function(t){o.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,r=u.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(r.byteLength),o.initSegment.set(r),o.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)o.data.set(this.pendingBoxes[i],a),a+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(e=this.pendingCaptions[i]).startTime=e.startPts,this.keepOriginalTimestamps||(e.startTime-=s),e.startTime/=9e4,e.endTime=e.endPts,this.keepOriginalTimestamps||(e.endTime-=s),e.endTime/=9e4,o.captionStreams[e.stream]=!0,o.captions.push(e);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=n.pts,this.keepOriginalTimestamps||(n.cueTime-=s),n.cueTime/=9e4,o.metadata.push(n);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(a=function(t){var e,n,s=this,u=!0;a.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new f.MetadataStream,e.aacStream=new m,e.audioTimestampRolloverStream=new f.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new f.TimestampRolloverStream("timed-metadata"),e.adtsStream=new h,e.coalesceStream=new o(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(r){"timed-metadata"!==r.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new i(n,t),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new f.MetadataStream,a.packetStream=new f.TransportPacketStream,a.parseStream=new f.TransportParseStream,a.elementaryStream=new f.ElementaryStream,a.videoTimestampRolloverStream=new f.TimestampRolloverStream("video"),a.audioTimestampRolloverStream=new f.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new f.TimestampRolloverStream("timed-metadata"),a.adtsStream=new h,a.h264Stream=new p,a.captionStream=new f.CaptionStream,a.coalesceStream=new o(t,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream),a.elementaryStream.pipe(a.videoTimestampRolloverStream).pipe(a.h264Stream),a.elementaryStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.elementaryStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",function(o){var u;if("metadata"===o.type){for(u=o.tracks.length;u--;)e||"video"!==o.tracks[u].type?n||"audio"!==o.tracks[u].type||((n=o.tracks[u]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(e=o.tracks[u]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;e&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new r(e,t),a.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,a.audioSegmentStream.setEarliestDts(t.dts))}),a.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),a.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),n&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new i(n,t),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(r){var i=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,d.clearDtsInfo(n),t.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=r),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),e&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[],i.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,d.clearDtsInfo(e),i.captionStream.reset(),t.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=r)),i.timedMetadataTimestampRolloverStream&&i.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(u){var e=v(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),u=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){u=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new s,t.exports={Transmuxer:a,VideoSegmentStream:r,AudioSegmentStream:i,AUDIO_PROPERTIES:y,VIDEO_PROPERTIES:g,generateVideoSegmentTimingInfo:w}},function(t,e,n){"use strict";var r,i,a,o=n(3),s=n(20),u=n(4),c=n(22).TimestampRolloverStream,l=n(4);(r=function(){var t=new Uint8Array(188),e=0;r.prototype.init.call(this),this.push=function(n){var r,i=0,a=188;for(e?((r=new Uint8Array(n.byteLength+e)).set(t.subarray(0,e)),r.set(n,e),e=0):r=n;a<r.byteLength;)71!==r[i]||71!==r[a]?(i++,a++):(this.trigger("data",r.subarray(i,a)),i+=188,a+=188);i<r.byteLength&&(t.set(r.subarray(i),0),e=r.byteLength-i)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")}}).prototype=new o,(i=function(){var t,e,n,r;i.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,r){var i=0;r.payloadUnitStartIndicator&&(i+=t[i]+1),"pat"===r.type?e(t.subarray(i),r):n(t.subarray(i),r)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],r.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=r.pmtPid},n=function(t,e){var n,i;if(1&t[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,i=12+((15&t[10])<<8|t[11]);i<n;){var a=t[i],o=(31&t[i+1])<<8|t[i+2];a===u.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=o:a===u.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=o:a===u.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][o]=a),i+=5+((15&t[i+3])<<8|t[i+4])}e.programMapTable=r.programMapTable}},this.push=function(e){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(r+=e[r]+1),0===n.pid)n.type="pat",t(e.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,r,n]):this.processPes_(e,r,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=u.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=u.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new o,i.STREAM_TYPES={h264:27,adts:15},(a=function(){var t=this,e={data:[],size:0},n={data:[],size:0},r={data:[],size:0},i=function(e,n,r){var i,a,o=new Uint8Array(e.size),s={type:n},u=0,c=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)a=e.data[u],o.set(a.data,c),c+=a.data.byteLength;var l,d,f;l=o,(d=s).packetLength=6+(l[4]<<8|l[5]),d.dataAlignmentIndicator=0!=(4&l[6]),192&(f=l[7])&&(d.pts=(14&l[9])<<27|(255&l[10])<<20|(254&l[11])<<12|(255&l[12])<<5|(254&l[13])>>>3,d.pts*=4,d.pts+=(6&l[13])>>>1,d.dts=d.pts,64&f&&(d.dts=(14&l[14])<<27|(255&l[15])<<20|(254&l[16])<<12|(255&l[17])<<5|(254&l[18])>>>3,d.dts*=4,d.dts+=(6&l[18])>>>1)),d.data=l.subarray(9+l[8]),i="video"===n||s.packetLength<=e.size,(r||i)&&(e.size=0,e.data.length=0),i&&t.trigger("data",s)}};a.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var t,o;switch(a.streamType){case u.H264_STREAM_TYPE:case l.H264_STREAM_TYPE:t=e,o="video";break;case u.ADTS_STREAM_TYPE:t=n,o="audio";break;case u.METADATA_STREAM_TYPE:t=r,o="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&i(t,o,!0),t.data.push(a),t.size+=a.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=a.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[a.type]()},this.flush=function(){i(e,"video"),i(n,"audio"),i(r,"timed-metadata"),this.trigger("done")}}).prototype=new o;var d={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:r,TransportParseStream:i,ElementaryStream:a,TimestampRolloverStream:c,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:n(41)};for(var f in u)u.hasOwnProperty(f)&&(d[f]=u[f]);t.exports=d},function(t,e,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]};t.exports={isLikelyAacData:function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},parseId3TagSize:function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,r=t[e+4]<<3;return 6144&t[e+3]|r|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return r[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n,r;e=10,64&t[5]&&(e+=4,e+=i(t.subarray(10,14)));do{if((n=i(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){r=t.subarray(e+10,e+n+10);for(var a=0;a<r.byteLength;a++)if(0===r[a]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,n){var r,i="";for(r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i}(r,0,a))){var o=r.subarray(a+1),s=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return s*=4,s+=3&o[7]}break}}e+=10,e+=n}while(e<t.byteLength);return null}}},function(t,e,n){"use strict";var r;(r=function(t,e){var n,i=0,a=16384,o=function(t,e){var n,r=t.position+e;r<t.bytes.byteLength||((n=new Uint8Array(2*r)).set(t.bytes.subarray(0,t.position),0),t.bytes=n,t.view=new DataView(t.bytes.buffer))},s=r.widthBytes||new Uint8Array("width".length),u=r.heightBytes||new Uint8Array("height".length),c=r.videocodecidBytes||new Uint8Array("videocodecid".length);if(!r.widthBytes){for(n=0;n<"width".length;n++)s[n]="width".charCodeAt(n);for(n=0;n<"height".length;n++)u[n]="height".charCodeAt(n);for(n=0;n<"videocodecid".length;n++)c[n]="videocodecid".charCodeAt(n);r.widthBytes=s,r.heightBytes=u,r.videocodecidBytes=c}switch(this.keyFrame=!1,t){case r.VIDEO_TAG:this.length=16,a*=6;break;case r.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case r.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(a),this.view=new DataView(this.bytes.buffer),this.bytes[0]=t,this.position=this.length,this.keyFrame=e,this.pts=0,this.dts=0,this.writeBytes=function(t,e,n){var r,i=e||0;r=i+(n=n||t.byteLength),o(this,n),this.bytes.set(t.subarray(i,r),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(t){o(this,1),this.bytes[this.position]=t,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(t){o(this,2),this.view.setUint16(this.position,t),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(t){return this.bytes[this.length-t]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(i>0)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(t){var e,n;this.length===i+4?this.length-=4:i>0&&(e=i+4,n=this.length-e,this.position=i,this.view.setUint32(this.position,n),this.position=this.length,t&&t.push(this.bytes.subarray(e,e+n))),i=0},this.writeMetaDataDouble=function(t,e){var n;if(o(this,2+t.length+9),this.view.setUint16(this.position,t.length),this.position+=2,"width"===t)this.bytes.set(s,this.position),this.position+=5;else if("height"===t)this.bytes.set(u,this.position),this.position+=6;else if("videocodecid"===t)this.bytes.set(c,this.position),this.position+=12;else for(n=0;n<t.length;n++)this.bytes[this.position]=t.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,e),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(t,e){var n;for(o(this,2),this.view.setUint16(this.position,t.length),this.position+=2,n=0;n<t.length;n++)o(this,1),this.bytes[this.position]=t.charCodeAt(n),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,e?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var t,n;switch(this.bytes[0]){case r.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||e?16:32),this.bytes[12]=e?0:1,t=this.pts-this.dts,this.bytes[13]=(16711680&t)>>>16,this.bytes[14]=(65280&t)>>>8,this.bytes[15]=(255&t)>>>0;break;case r.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=e?0:1;break;case r.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return n=this.length-11,this.bytes[1]=(16711680&n)>>>16,this.bytes[2]=(65280&n)>>>8,this.bytes[3]=(255&n)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=r.frameTime(this.bytes),this}}).AUDIO_TAG=8,r.VIDEO_TAG=9,r.METADATA_TAG=18,r.isAudioFrame=function(t){return r.AUDIO_TAG===t[0]},r.isVideoFrame=function(t){return r.VIDEO_TAG===t[0]},r.isMetaData=function(t){return r.METADATA_TAG===t[0]},r.isKeyFrame=function(t){return r.isVideoFrame(t)?23===t[11]:!!r.isAudioFrame(t)||!!r.isMetaData(t)},r.frameTime=function(t){var e=t[4]<<16;return e|=t[5]<<8,e|=t[6]<<0,e|=t[7]<<24},t.exports=r},function(t,e,n){"use strict";var r=n(1),i=n(56),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n(25):"undefined"!=typeof process&&(s=n(25)),s),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function(t){u.headers[t]=r.merge(a)}),t.exports=u},function(t,e,n){
/*!
* screenfull
* v4.2.0 - 2019-04-01
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=t.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,a={};r<i;r++)if((t=n[r])&&t[1]in e){for(r=0;r<t.length;r++)a[n[0][r]]=t[r];return a}return!1}(),a={change:i.fullscreenchange,error:i.fullscreenerror},o={request:function(t){return new Promise(function(n){var a=i.requestFullscreen,o=function(){this.off("change",o),n()}.bind(this);t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[a]():t[a](r?Element.ALLOW_KEYBOARD_INPUT:{}),this.on("change",o)}.bind(this))},exit:function(){return new Promise(function(t){if(this.isFullscreen){var n=function(){this.off("change",n),t()}.bind(this);e[i.exitFullscreen](),this.on("change",n)}else t()}.bind(this))},toggle:function(t){return this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var r=a[t];r&&e.addEventListener(r,n,!1)},off:function(t,n){var r=a[t];r&&e.removeEventListener(r,n,!1)},raw:i};i?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),n?(t.exports=o,t.exports.default=o):window.screenfull=o):n?t.exports=!1:window.screenfull=!1}()},function(t,e,n){"use strict";var r,i,a,o,s,u,c,l,d,f,h,p,m,v,y,g,b,w,T,S,_,E,x,C,k,A,P,M,I,D,O,L,U,R,N,j,B,$,F,V,H,q=Math.pow(2,32)-1;!function(){var t;if(x={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in x)x.hasOwnProperty(t)&&(x[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);C=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),k=new Uint8Array([0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),M=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),I={video:P,audio:M},L=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),U=new Uint8Array([0,0,0,0,0,0,0,0]),R=U,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),j=U,D=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),r=function(t){var e,n,r=[],i=0;for(e=1;e<arguments.length;e++)r.push(arguments[e]);for(e=r.length;e--;)i+=r[e].byteLength;for(n=new Uint8Array(i+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,i=8;e<r.length;e++)n.set(r[e],i),i+=r[e].byteLength;return n},i=function(){return r(x.dinf,r(x.dref,L))},a=function(t){return r(x.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},o=function(){return r(x.ftyp,C,k,C,A)},g=function(t){return r(x.hdlr,I[t])},s=function(t){return r(x.mdat,t)},y=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),r(x.mdhd,e)},v=function(t){return r(x.mdia,y(t),g(t.type),c(t))},u=function(t){return r(x.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},c=function(t){return r(x.minf,"video"===t.type?r(x.vmhd,D):r(x.smhd,O),i(),w(t))},l=function(t,e){for(var n=[],i=e.length;i--;)n[i]=S(e[i]);return r.apply(null,[x.moof,u(t)].concat(n))},d=function(t){for(var e=t.length,n=[];e--;)n[e]=p(t[e]);return r.apply(null,[x.moov,h(4294967295)].concat(n).concat(f(t)))},f=function(t){for(var e=t.length,n=[];e--;)n[e]=_(t[e]);return r.apply(null,[x.mvex].concat(n))},h=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r(x.mvhd,e)},b=function(t){var e,n,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)e=i[n].flags,a[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return r(x.sdtp,a)},w=function(t){return r(x.stbl,T(t),r(x.stts,j),r(x.stsc,R),r(x.stsz,N),r(x.stco,U))},T=function(t){return r(x.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?B(t):$(t))},B=function(t){var e,n=t.sps||[],i=t.pps||[],a=[],o=[];for(e=0;e<n.length;e++)a.push((65280&n[e].byteLength)>>>8),a.push(255&n[e].byteLength),a=a.concat(Array.prototype.slice.call(n[e]));for(e=0;e<i.length;e++)o.push((65280&i[e].byteLength)>>>8),o.push(255&i[e].byteLength),o=o.concat(Array.prototype.slice.call(i[e]));return r(x.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),r(x.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(a).concat([i.length]).concat(o))),r(x.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},$=function(t){return r(x.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),a(t))},m=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return r(x.tkhd,e)},S=function(t){var e,n,i,a,o,s;return e=r(x.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(t.baseMediaDecodeTime/(q+1)),s=Math.floor(t.baseMediaDecodeTime%(q+1)),n=r(x.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===t.type?(i=E(t,92),r(x.traf,e,n,i)):(a=b(t),i=E(t,a.length+92),r(x.traf,e,n,i,a))},p=function(t){return t.duration=t.duration||4294967295,r(x.trak,m(t),v(t))},_=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),r(x.trex,e)},H=function(t,e){var n=0,r=0,i=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(r=2),void 0!==t[0].flags&&(i=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|r|i|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},V=function(t,e){var n,i,a,o;for(e+=20+16*(i=t.samples||[]).length,n=H(i,e),o=0;o<i.length;o++)a=i[o],n=n.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return r(x.trun,new Uint8Array(n))},F=function(t,e){var n,i,a,o;for(e+=20+8*(i=t.samples||[]).length,n=H(i,e),o=0;o<i.length;o++)a=i[o],n=n.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return r(x.trun,new Uint8Array(n))},E=function(t,e){return"audio"===t.type?F(t,e):V(t,e)},t.exports={ftyp:o,mdat:s,moof:l,moov:d,initSegment:function(t){var e,n=o(),r=d(t);return(e=new Uint8Array(n.byteLength+r.byteLength)).set(n),e.set(r,n.byteLength),e}}},function(t,e,n){"use strict";var r=n(3),i=n(21),a=function(){a.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new l(0,0),new l(0,1),new l(1,0),new l(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};a.prototype=new r,a.prototype.push=function(t){var e,n,r;if("sei_rbsp"===t.nalUnitType&&(e=i.parseSei(t.escapedRBSP)).payloadType===i.USER_DATA_REGISTERED_ITU_T_T35&&(n=i.parseUserData(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=i.parseCaptionPackets(t.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},a.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},a.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},a.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},a.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},a.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},a.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(t){return null===t?"":(t=o[t]||t,String.fromCharCode(t))},u=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){for(var t=[],e=15;e--;)t.push("");return t},l=function(t,e){l.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,r,i,a;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),r=e>>>8,i=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=c();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(r,i))a=s((r=(3&r)<<8)|i),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=s((r=(3&r)<<8)|i),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&i)&&this.addFormatting(t.pts,["i"]),1==(1&i)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var o=u.indexOf(7968&e);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(t.pts,o)),o!==this.row_&&(this.clearFormatting(t.pts),this.row_=o),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),a=s(r),a+=s(i),this[this.mode_](t.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};l.prototype=new r,l.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},l.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},l.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},l.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},l.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},l.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},l.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},l.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},l.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},l.prototype.isNormalChar=function(t){return t>=32&&t<=127},l.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},l.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},l.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},l.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},l.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},l.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},l.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},t.exports={CaptionStream:a,Cea608Stream:l}},function(t,e,n){"use strict";t.exports={parseSei:function(t){for(var e=0,n={payloadType:-1,payloadSize:0},r=0,i=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)r+=255,e++;for(r+=t[e++];255===t[e];)i+=255,e++;if(i+=t[e++],!n.payload&&4===r){n.payloadType=r,n.payloadSize=i,n.payload=t.subarray(e,e+i);break}e+=i,r=0,i=0}return n},parseUserData:function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},parseCaptionPackets:function(t,e){var n,r,i,a,o=[];if(!(64&e[0]))return o;for(r=31&e[0],n=0;n<r;n++)a={type:3&e[2+(i=3*n)],pts:t},4&e[i+2]&&(a.ccData=e[i+3]<<8|e[i+4],o.push(a));return o},discardEmulationPreventionBytes:function(t){for(var e,n,r=t.byteLength,i=[],a=1;a<r-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=t[o];return n},USER_DATA_REGISTERED_ITU_T_T35:4}},function(t,e,n){"use strict";var r=n(3),i=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},a=function(t){var e,n;a.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=i(t.dts,n),t.pts=i(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){n=void 0,e=void 0}};a.prototype=new r,t.exports={TimestampRolloverStream:a,handleRollover:i}},function(t,e,n){"use strict";var r,i,a=n(12).parseType,o=function(t){return new Date(1e3*t-20828448e5)},s=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},u=function(t){var e,n,r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=[];for(e=0;e+4<t.length;e+=n)if(n=r.getUint32(e),e+=4,n<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+t[e]&31)}return i},c={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:r(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,r,i,a=new DataView(t.buffer,t.byteOffset,t.byteLength),o={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},s=31&t[5];for(r=6,i=0;i<s;i++)n=a.getUint16(r),r+=2,o.sps.push(new Uint8Array(t.subarray(r,r+n))),r+=n;for(e=t[r],r++,i=0;i<e;i++)n=a.getUint16(r),r+=2,o.pps.push(new Uint8Array(t.subarray(r,r+n))),r+=n;return o},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:a(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},r=8;r<t.byteLength;)n.compatibleBrands.push(a(t.subarray(r,r+4))),r+=4;return n},dinf:function(t){return{boxes:r(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:r(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:a(t.subarray(8,12)),name:""},n=8;for(n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:u(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=4,i={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===i.version?(r+=4,i.creationTime=o(n.getUint32(r)),r+=8,i.modificationTime=o(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=8,i.duration=n.getUint32(r)):(i.creationTime=o(n.getUint32(r)),r+=4,i.modificationTime=o(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=4,i.duration=n.getUint32(r)),r+=4,e=n.getUint16(r),i.language+=String.fromCharCode(96+(e>>10)),i.language+=String.fromCharCode(96+((992&e)>>5)),i.language+=String.fromCharCode(96+(31&e)),i},mdia:function(t){return{boxes:r(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:r(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(n.streamDescriptor=r(t.subarray(28))[0]),n},moof:function(t){return{boxes:r(t)}},moov:function(t){return{boxes:r(t)}},mvex:function(t){return{boxes:r(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,r={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=o(e.getUint32(n)),n+=8,r.modificationTime=o(e.getUint32(n)),n+=4,r.timescale=e.getUint32(n),n+=8,r.duration=e.getUint32(n)):(r.creationTime=o(e.getUint32(n)),n+=4,r.modificationTime=o(e.getUint32(n)),n+=4,r.timescale=e.getUint32(n),n+=4,r.duration=e.getUint32(n)),n+=4,r.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,r.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,r.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,r.nextTrackId=e.getUint32(n),r},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},i=n.getUint16(22);for(e=24;i;e+=12,i--)r.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return r},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:r(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},i=n.getUint32(4);for(e=8;i;e+=4,i--)r.chunkOffsets.push(n.getUint32(e));return r},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=n.getUint32(4),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;r;e+=12,r--)i.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return i},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:r(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)r.entries.push(n.getUint32(e));return r},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},i=n.getUint32(4);for(e=8;i;e+=8,i--)r.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return r},styp:function(t){return c.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],a=2&r.flags[2],o=8&r.flags[2],s=16&r.flags[2],u=32&r.flags[2],c=65536&r.flags[0],l=131072&r.flags[0];return e=8,i&&(e+=4,r.baseDataOffset=n.getUint32(12),e+=4),a&&(r.sampleDescriptionIndex=n.getUint32(e),e+=4),o&&(r.defaultSampleDuration=n.getUint32(e),e+=4),s&&(r.defaultSampleSize=n.getUint32(e),e+=4),u&&(r.defaultSampleFlags=n.getUint32(e)),c&&(r.durationIsEmpty=!0),!i&&l&&(r.baseDataOffsetIsMoof=!0),r},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,r={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=o(e.getUint32(n)),n+=8,r.modificationTime=o(e.getUint32(n)),n+=4,r.trackId=e.getUint32(n),n+=4,n+=8,r.duration=e.getUint32(n)):(r.creationTime=o(e.getUint32(n)),n+=4,r.modificationTime=o(e.getUint32(n)),n+=4,r.trackId=e.getUint32(n),n+=4,n+=4,r.duration=e.getUint32(n)),n+=4,n+=8,r.layer=e.getUint16(n),n+=2,r.alternateGroup=e.getUint16(n),n+=2,r.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,r.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,r.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,r.height=e.getUint16(n)+e.getUint16(n+2)/16,r},traf:function(t){return{boxes:r(t)}},trak:function(t){return{boxes:r(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=1&n.flags[2],a=4&n.flags[2],o=1&n.flags[1],u=2&n.flags[1],c=4&n.flags[1],l=8&n.flags[1],d=r.getUint32(4),f=8;for(i&&(n.dataOffset=r.getInt32(f),f+=4),a&&d&&(e={flags:s(t.subarray(f,f+4))},f+=4,o&&(e.duration=r.getUint32(f),f+=4),u&&(e.size=r.getUint32(f),f+=4),l&&(e.compositionTimeOffset=r.getUint32(f),f+=4),n.samples.push(e),d--);d--;)e={},o&&(e.duration=r.getUint32(f),f+=4),u&&(e.size=r.getUint32(f),f+=4),c&&(e.flags=s(t.subarray(f,f+4)),f+=4),l&&(e.compositionTimeOffset=r.getUint32(f),f+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}};r=function(t){for(var e,n,r,i,o,s=0,u=[],l=new ArrayBuffer(t.length),d=new Uint8Array(l),f=0;f<t.length;++f)d[f]=t[f];for(e=new DataView(l);s<t.byteLength;)n=e.getUint32(s),r=a(t.subarray(s+4,s+8)),i=n>1?s+n:t.byteLength,(o=(c[r]||function(t){return{data:t}})(t.subarray(s+8,i))).size=n,o.type=r,u.push(o),s=i;return u},i=function(t,e){var n;return e=e||0,n=new Array(2*e+1).join(" "),t.map(function(t,r){return n+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var r=n+"  "+e+": ",i=t[e];if(i instanceof Uint8Array||i instanceof Uint32Array){var a=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return a?1===a.length?r+"<"+a.join("").slice(1)+">":r+"<\n"+a.map(function(t){return n+"  "+t}).join("\n")+"\n"+n+"  >":r+"<>"}return r+JSON.stringify(i,null,2).split("\n").map(function(t,e){return 0===e?t:n+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+i(t.boxes,e+1):"")}).join("\n")},t.exports={inspect:r,textify:i,parseTfdt:c.tfdt,parseHdlr:c.hdlr,parseTfhd:c.tfhd,parseTrun:c.trun,parseSidx:c.sidx}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(1),i=n(57),a=n(59),o=n(60),s=n(61),u=n(26);t.exports=function(t){return new Promise(function(e,c){var l=t.data,d=t.headers;r.isFormData(l)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",p=t.auth.password||"";d.Authorization="Basic "+btoa(h+":"+p)}if(f.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?o(f.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:t,request:f};i(e,c,r),f=null}},f.onerror=function(){c(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var m=n(62),v=(t.withCredentials||s(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;v&&(d[t.xsrfHeaderName]=v)}if("setRequestHeader"in f&&r.forEach(d,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete d[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),c(t),f=null)}),void 0===l&&(l=null),f.send(l)})}},function(t,e,n){"use strict";var r=n(58);t.exports=function(t,e,n,i,a){var o=new Error(t);return r(o,e,n,i,a)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e){var n="Expected a function",r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,v=function(){return f.Date.now()};function y(t,e,r){var i,a,o,s,u,c,l=0,d=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError(n);function y(e){var n=i,r=a;return i=a=void 0,l=e,s=t.apply(r,n)}function w(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=o}function T(){var t=v();if(w(t))return S(t);u=setTimeout(T,function(t){var n=e-(t-c);return f?m(n,o-(t-l)):n}(t))}function S(t){return u=void 0,h&&i?y(t):(i=a=void 0,s)}function _(){var t=v(),n=w(t);if(i=arguments,a=this,c=t,n){if(void 0===u)return function(t){return l=t,u=setTimeout(T,e),d?y(t):s}(c);if(f)return u=setTimeout(T,e),y(c)}return void 0===u&&(u=setTimeout(T,e)),s}return e=b(e)||0,g(r)&&(d=!!r.leading,o=(f="maxWait"in r)?p(b(r.maxWait)||0,e):o,h="trailing"in r?!!r.trailing:h),_.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=c=a=u=void 0},_.flush=function(){return void 0===u?s:S(v())},_}function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&h.call(t)==i}(t))return r;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=s.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):o.test(t)?r:+t}t.exports=function(t,e,r){var i=!0,a=!0;if("function"!=typeof t)throw new TypeError(n);return g(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),y(t,e,{leading:i,maxWait:e,trailing:a})}},function(t,e,n){"use strict";var r={codecs:n(32),mp4:n(34),flv:n(44),mp2t:n(49)};r.mp4.tools=n(23),r.flv.tools=n(50),r.mp2t.tools=n(51),t.exports=r},function(t,e,n){t.exports=n(75)},function(t,e,n){t.exports={adts:n(10),h264:n(11)}},function(t,e,n){"use strict";var r;r=function(t){var e=t.byteLength,n=0,r=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+r},this.loadWord=function(){var i=t.byteLength-e,a=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");a.set(t.subarray(i,i+o)),n=new DataView(a.buffer).getUint32(0),r=8*o,e-=o},this.skipBits=function(t){var i;r>t?(n<<=t,r-=t):(t-=r,t-=8*(i=Math.floor(t/8)),e-=i,this.loadWord(),n<<=t,r-=t)},this.readBits=function(t){var i=Math.min(r,t),a=n>>>32-i;return(r-=i)>0?n<<=i:e>0&&this.loadWord(),(i=t-i)>0?a<<i|this.readBits(i):a},this.skipLeadingZeros=function(){var t;for(t=0;t<r;++t)if(0!=(n&2147483648>>>t))return n<<=t,r-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=r},function(t,e,n){t.exports={generator:n(19),probe:n(12),Transmuxer:n(13).Transmuxer,AudioSegmentStream:n(13).AudioSegmentStream,VideoSegmentStream:n(13).VideoSegmentStream,CaptionParser:n(43)}},function(t,e){t.exports={toUnsigned:function(t){return t>>>0}}},function(t,e){var n=function(t,e){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n};t.exports={groupNalsIntoFrames:function(t){var e,n,r=[],i=[];for(r.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.push(r),i},groupFramesIntoGops:function(t){var e,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},extendFirstKeyFrame:function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},generateSampleTable:function(t,e){var r,i,a,o,s,u=e||0,c=[];for(r=0;r<t.length;r++)for(o=t[r],i=0;i<o.length;i++)s=o[i],u+=(a=n(s,u)).size,c.push(a);return c},concatenateNalData:function(t){var e,n,r,i,a,o,s=0,u=t.byteLength,c=t.nalCount,l=new Uint8Array(u+4*c),d=new DataView(l.buffer);for(e=0;e<t.length;e++)for(i=t[e],n=0;n<i.length;n++)for(a=i[n],r=0;r<a.length;r++)o=a[r],d.setUint32(s,o.data.byteLength),s+=4,l.set(o.data,s),s+=o.data.byteLength;return l}}},function(t,e,n){var r=n(38),i=n(39);t.exports={prefixWithSilence:function(t,e,n,a){var o,s,u,c,l=0,d=0,f=0;if(e.length&&(o=i.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),s=Math.ceil(9e4/(t.samplerate/1024)),n&&a&&(l=o-Math.max(n,a),f=(d=Math.floor(l/s))*s),!(d<1||f>45e3))){for((u=r[t.samplerate])||(u=e[0].data),c=0;c<d;c++)e.splice(c,0,{data:u});t.baseMediaDecodeTime-=Math.floor(i.videoTsToAudioTs(f,t.samplerate))}},trimAdtsFramesByEarliestDts:function(t,e,n){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},generateSampleTable:function(t){var e,n,r=[];for(e=0;e<t.length;e++)n=t[e],r.push({size:n.data.byteLength,duration:1024});return r},concatenateFrameData:function(t){var e,n,r=0,i=new Uint8Array(function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n}(t));for(e=0;e<t.length;e++)n=t[e],i.set(n.data,r),r+=n.data.byteLength;return i}}},function(t,e){var n,r=[33,16,5,32,164,27],i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(t){for(var e=[];t--;)e.push(0);return e},o={96000:[r,[227,64],a(154),[56]],88200:[r,[231],a(170),[56]],64000:[r,[248,192],a(240),[56]],48000:[r,[255,192],a(268),[55,148,128],a(54),[112]],44100:[r,[255,192],a(268),[55,163,128],a(84),[112]],32000:[r,[255,192],a(268),[55,234],a(226),[112]],24000:[r,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16000:[r,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12000:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8000:[i,a(268),[3,121,16],a(47),[7]]};t.exports=(n=o,Object.keys(n).reduce(function(t,e){return t[e]=new Uint8Array(n[e].reduce(function(t,e){return t.concat(e)},[])),t},{}))},function(t,e){var n,r,i,a,o,s;n=function(t){return 9e4*t},r=function(t,e){return t*e},i=function(t){return t/9e4},a=function(t,e){return t/e},o=function(t,e){return n(a(t,e))},s=function(t,e){return r(i(t),e)},t.exports={secondsToVideoTs:n,secondsToAudioTs:r,videoTsToSeconds:i,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s}},function(t,e){t.exports={clearDtsInfo:function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(t,e){var n,r=t.minSegmentDts;return e||(r-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=r,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/9e4,n=Math.floor(n)),n},collectDtsInfo:function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))}}},function(t,e,n){"use strict";var r,i=n(3),a=n(4),o=function(t,e,n){var r,i="";for(r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i},s=function(t,e,n){return decodeURIComponent(o(t,e,n))},u=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},c={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.value=s(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.url=s(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(o(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(r=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,o=[],s=0;if(r.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,r,a,l,d;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(t),s+=t.data.byteLength,1===o.length&&(i=u(t.data.subarray(6,10)),i+=10),!(s<i)){for(e={data:new Uint8Array(i),frames:[],pts:o[0].pts,dts:o[0].dts},d=0;d<i;)e.data.set(o[0].data.subarray(0,i-d),d),d+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();r=10,64&e.data[5]&&(r+=4,r+=u(e.data.subarray(10,14)),i-=u(e.data.subarray(16,20)));do{if((a=u(e.data.subarray(r+4,r+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(e.data[r],e.data[r+1],e.data[r+2],e.data[r+3]),data:e.data.subarray(r+10,r+a+10)}).key=l.id,c[l.id]&&(c[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var f=l.data,h=(1&f[3])<<30|f[4]<<22|f[5]<<14|f[6]<<6|f[7]>>>2;h*=4,h+=3&f[7],l.timeStamp=h,void 0===e.pts&&void 0===e.dts&&(e.pts=l.timeStamp,e.dts=l.timeStamp),this.trigger("timestamp",l)}e.frames.push(l),r+=10,r+=a}while(r<i);this.trigger("data",e)}}}).prototype=new i,t.exports=r},function(t,e,n){"use strict";var r,i=n(3),a=n(15);(r=function(){var t=new Uint8Array,e=0;r.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(n){var r,i,o,s,u=0,c=0;for(t.length?(s=t.length,(t=new Uint8Array(n.byteLength+s)).set(t.subarray(0,s)),t.set(n,s)):t=n;t.length-c>=3;)if(t[c]!=="I".charCodeAt(0)||t[c+1]!=="D".charCodeAt(0)||t[c+2]!=="3".charCodeAt(0))if(255!=(255&t[c])||240!=(240&t[c+1]))c++;else{if(t.length-c<7)break;if(c+(u=a.parseAdtsSize(t,c))>t.length)break;o={type:"audio",data:t.subarray(c,c+u),pts:e,dts:e},this.trigger("data",o),c+=u}else{if(t.length-c<10)break;if(c+(u=a.parseId3TagSize(t,c))>t.length)break;i={type:"timed-metadata",data:t.subarray(c,c+u)},this.trigger("data",i),c+=u}r=t.length-c,t=r>0?t.subarray(c):new Uint8Array}}).prototype=new i,t.exports=r},function(t,e,n){"use strict";var r=n(21).discardEmulationPreventionBytes,i=n(20).CaptionStream,a=n(12),o=n(23),s=function(t,e){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(n<i.size)return i;n-=i.size}return null},u=function(t,e){var n=a.findBox(t,["moof","traf"]),i=a.findBox(t,["mdat"]),u={},c=[];return i.forEach(function(t,e){var r=n[e];c.push({mdat:t,traf:r})}),c.forEach(function(t){var n,i=t.mdat,c=t.traf,l=a.findBox(c,["tfhd"]),d=o.parseTfhd(l[0]),f=d.trackId,h=a.findBox(c,["tfdt"]),p=h.length>0?o.parseTfdt(h[0]).baseMediaDecodeTime:0,m=a.findBox(c,["trun"]);e===f&&m.length>0&&(n=function(t,e,n){var i,a,o,u,c=new DataView(t.buffer,t.byteOffset,t.byteLength),l=[];for(a=0;a+4<t.length;a+=o)if(o=c.getUint32(a),a+=4,!(o<=0))switch(31&t[a]){case 6:var d=t.subarray(a+1,a+1+o),f=s(a,e);i={nalUnitType:"sei_rbsp",size:o,data:d,escapedRBSP:r(d),trackId:n},f?(i.pts=f.pts,i.dts=f.dts,u=f):(i.pts=u.pts,i.dts=u.dts),l.push(i)}return l}(i,function(t,e,n){var r=e,i=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,s=n.trackId,u=[];return t.forEach(function(t){var e=o.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=i),void 0===t.size&&(t.size=a),t.trackId=s,t.dts=r,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=r+t.compositionTimeOffset,r+=t.duration}),u=u.concat(e)}),u}(m,p,d),f),u[f]||(u[f]=[]),u[f]=u[f].concat(n))}),u};t.exports=function(){var t,e,n,r,a,o=!1;this.isInitialized=function(){return o},this.init=function(){t=new i,o=!0,t.on("data",function(t){t.startTime=t.startPts/r,t.endTime=t.endPts/r,a.captions.push(t),a.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||n===t[0]&&r===e[n])},this.parse=function(t,i,o){var s;if(!this.isInitialized())return null;if(!i||!o)return null;if(this.isNewInit(i,o))n=i[0],r=o[n];else if(!n||!r)return e.push(t),null;for(;e.length>0;){var c=e.shift();this.parse(c,i,o)}return null!==(s=function(t,e,n){return e?{seiNals:u(t,e)[e],timescale:n}:null}(t,n,r))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),a):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){a.captions=[],a.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,r=null,a?this.clearParsedCaptions():a={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},function(t,e,n){t.exports={tag:n(16),Transmuxer:n(45),getFlvHeader:n(48)}},function(t,e,n){"use strict";var r,i,a,o,s,u,c=n(3),l=n(16),d=n(14),f=n(10),h=n(11).H264Stream,p=n(46),m=n(47);o=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts?t.timelineStartInfo.pts=e.pts:t.timelineStartInfo.pts=Math.min(t.timelineStartInfo.pts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts?t.timelineStartInfo.dts=e.dts:t.timelineStartInfo.dts=Math.min(t.timelineStartInfo.dts,e.dts))},s=function(t,e){var n=new l(l.METADATA_TAG);return n.dts=e,n.pts=e,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",t.width),n.writeMetaDataDouble("height",t.height),n},u=function(t,e){var n,r=new l(l.VIDEO_TAG,!0);for(r.dts=e,r.pts=e,r.writeByte(1),r.writeByte(t.profileIdc),r.writeByte(t.profileCompatibility),r.writeByte(t.levelIdc),r.writeByte(255),r.writeByte(225),r.writeShort(t.sps[0].length),r.writeBytes(t.sps[0]),r.writeByte(t.pps.length),n=0;n<t.pps.length;++n)r.writeShort(t.pps[n].length),r.writeBytes(t.pps[n]);return r},(a=function(t){var e,n=[],r=[];a.prototype.init.call(this),this.push=function(e){o(t,e),t&&(t.audioobjecttype=e.audioobjecttype,t.channelcount=e.channelcount,t.samplerate=e.samplerate,t.samplingfrequencyindex=e.samplingfrequencyindex,t.samplesize=e.samplesize,t.extraData=t.audioobjecttype<<11|t.samplingfrequencyindex<<7|t.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){var i,a,o,s=new m;if(0!==n.length){for(o=-1/0;n.length;)i=n.shift(),r.length&&i.pts>=r[0]&&(o=r.shift(),this.writeMetaDataTags(s,o)),(t.extraData!==e||i.pts-o>=1e3)&&(this.writeMetaDataTags(s,i.pts),e=t.extraData,o=i.pts),(a=new l(l.AUDIO_TAG)).pts=i.pts,a.dts=i.dts,a.writeBytes(i.data),s.push(a.finalize());r.length=0,e=null,this.trigger("data",{track:t,tags:s.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(e,n){var r;(r=new l(l.METADATA_TAG)).pts=n,r.dts=n,r.writeMetaDataDouble("audiocodecid",10),r.writeMetaDataBoolean("stereo",2===t.channelcount),r.writeMetaDataDouble("audiosamplerate",t.samplerate),r.writeMetaDataDouble("audiosamplesize",16),e.push(r.finalize()),(r=new l(l.AUDIO_TAG,!0)).pts=n,r.dts=n,r.view.setUint16(r.position,t.extraData),r.position+=2,r.length=Math.max(r.length,r.position),e.push(r.finalize())},this.onVideoKeyFrame=function(t){r.push(t)}}).prototype=new c,(i=function(t){var e,n,r=[];i.prototype.init.call(this),this.finishFrame=function(r,i){if(i){if(e&&t&&t.newMetadata&&(i.keyFrame||0===r.length)){var a=s(e,i.dts).finalize(),o=u(t,i.dts).finalize();a.metaDataTag=o.metaDataTag=!0,r.push(a),r.push(o),t.newMetadata=!1,this.trigger("keyframe",i.dts)}i.endNalUnit(),r.push(i.finalize()),n=null}},this.push=function(e){o(t,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),r.push(e)},this.flush=function(){for(var i,a=new m;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0!==r.length){for(;r.length;)"seq_parameter_set_rbsp"===(i=r.shift()).nalUnitType?(t.newMetadata=!0,e=i.config,t.width=e.width,t.height=e.height,t.sps=[i.data],t.profileIdc=e.profileIdc,t.levelIdc=e.levelIdc,t.profileCompatibility=e.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===i.nalUnitType?(t.newMetadata=!0,t.pps=[i.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===i.nalUnitType?(n&&this.finishFrame(a,n),(n=new l(l.VIDEO_TAG)).pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(i.data);n&&this.finishFrame(a,n),this.trigger("data",{track:t,tags:a.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new c,(r=function(t){var e,n,o,s,u,c,l,m,v,y,g,b,w=this;r.prototype.init.call(this),t=t||{},this.metadataStream=new d.MetadataStream,t.metadataStream=this.metadataStream,e=new d.TransportPacketStream,n=new d.TransportParseStream,o=new d.ElementaryStream,s=new d.TimestampRolloverStream("video"),u=new d.TimestampRolloverStream("audio"),c=new d.TimestampRolloverStream("timed-metadata"),l=new f,m=new h,b=new p(t),e.pipe(n).pipe(o),o.pipe(s).pipe(m),o.pipe(u).pipe(l),o.pipe(c).pipe(this.metadataStream).pipe(b),g=new d.CaptionStream,m.pipe(g).pipe(b),o.on("data",function(t){var e,n,r;if("metadata"===t.type){for(e=t.tracks.length;e--;)"video"===t.tracks[e].type?n=t.tracks[e]:"audio"===t.tracks[e].type&&(r=t.tracks[e]);n&&!v&&(b.numberOfTracks++,v=new i(n),m.pipe(v).pipe(b)),r&&!y&&(b.numberOfTracks++,y=new a(r),l.pipe(y).pipe(b),v&&v.on("keyframe",y.onVideoKeyFrame))}}),this.push=function(t){e.push(t)},this.flush=function(){e.flush()},this.resetCaptions=function(){g.reset()},b.on("data",function(t){w.trigger("data",t)}),b.on("done",function(){w.trigger("done")})}).prototype=new c,t.exports=r},function(t,e,n){"use strict";var r=n(3),i=function(t){this.numberOfTracks=0,this.metadataStream=t.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,i.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):("video"===t.track.type&&(this.videoTrack=t.track,this.videoTags=t.tags,this.pendingTracks++),void("audio"===t.track.type&&(this.audioTrack=t.track,this.audioTags=t.tags,this.pendingTracks++)))}};i.prototype=new r,i.prototype.flush=function(t){var e,n,r,i,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,r=0;r<this.pendingCaptions.length;r++)(n=this.pendingCaptions[r]).startTime=n.startPts-i,n.startTime/=9e4,n.endTime=n.endPts-i,n.endTime/=9e4,a.captionStreams[n.stream]=!0,a.captions.push(n);for(r=0;r<this.pendingMetadata.length;r++)(e=this.pendingMetadata[r]).cueTime=e.pts-i,e.cueTime/=9e4,a.metadata.push(e);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},t.exports=i},function(t,e,n){"use strict";t.exports=function(){var t=this;this.list=[],this.push=function(t){this.list.push({bytes:t.bytes,dts:t.dts,pts:t.pts,keyFrame:t.keyFrame,metaDataTag:t.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return t.list.length}})}},function(t,e,n){"use strict";var r=n(16);t.exports=function(t,e,n){var i,a,o,s=new Uint8Array(9),u=new DataView(s.buffer);return t=t||0,e=void 0===e||e,n=void 0===n||n,u.setUint8(0,70),u.setUint8(1,76),u.setUint8(2,86),u.setUint8(3,1),u.setUint8(4,(e?4:0)|(n?1:0)),u.setUint32(5,s.byteLength),t<=0?((a=new Uint8Array(s.byteLength+4)).set(s),a.set([0,0,0,0],s.byteLength),a):((i=new r(r.METADATA_TAG)).pts=i.dts=0,i.writeMetaDataDouble("duration",t),o=i.finalize().length,(a=new Uint8Array(s.byteLength+o)).set(s),a.set(u.byteLength,o),a)}},function(t,e,n){t.exports=n(14)},function(t,e,n){"use strict";var r={8:"audio",9:"video",18:"metadata"},i=function(t){for(var e,n=[];t.byteLength>0;)e=0,n.push("0x"+("00"+t[e++].toString(16)).slice(-2).toUpperCase()),t=t.subarray(1);return n.join(" ")},a=function(t,e){var n=t[0]&parseInt("00001111",2);return(e=e||{}).frameType=["Unknown","Keyframe (for AVC, a seekable frame)","Inter frame (for AVC, a nonseekable frame)","Disposable inter frame (H.263 only)","Generated keyframe (reserved for server use only)","Video info/command frame"][(t[0]&parseInt("11110000",2))>>>4],e.codecID=n,7===n?function(t,e){var n=t[1]&parseInt("01111111",2)<<16|t[2]<<8|t[3];return(e=e||{}).avcPacketType=["AVC Sequence Header","AVC NALU","AVC End-of-Sequence"][t[0]],e.CompositionTime=t[1]&parseInt("10000000",2)?-n:n,1===t[0]?e.nalUnitTypeRaw=i(t.subarray(4,100)):e.data=i(t.subarray(4)),e}(t.subarray(1),e):e},o=function(t,e){var n=(t[0]&parseInt("11110000",2))>>>4;return(e=e||{}).soundFormat=["Linear PCM, platform endian","ADPCM","MP3","Linear PCM, little endian","Nellymoser 16-kHz mono","Nellymoser 8-kHz mono","Nellymoser","G.711 A-law logarithmic PCM","G.711 mu-law logarithmic PCM","reserved","AAC","Speex","MP3 8-Khz","Device-specific sound"][n],e.soundRate=["5.5-kHz","11-kHz","22-kHz","44-kHz"][(t[0]&parseInt("00001100",2))>>>2],e.soundSize=(t[0]&parseInt("00000010",2))>>>1?"16-bit":"8-bit",e.soundType=t[0]&parseInt("00000001",2)?"Stereo":"Mono",10===n?function(t,e){return(e=e||{}).aacPacketType=["AAC Sequence Header","AAC Raw"][t[0]],e.data=i(t.subarray(1)),e}(t.subarray(1),e):e},s=function(t){var e=function(t){return{tagType:r[t[0]],dataSize:t[1]<<16|t[2]<<8|t[3],timestamp:t[7]<<24|t[4]<<16|t[5]<<8|t[6],streamID:t[8]<<16|t[9]<<8|t[10]}}(t);switch(t[0]){case 8:o(t.subarray(11),e);break;case 9:a(t.subarray(11),e)}return e};t.exports={inspectTag:s,inspect:function(t){var e,n,r=9,i=[];for(r+=4;r<t.byteLength;)e=t[r+1]<<16,e|=t[r+2]<<8,e|=t[r+3],e+=11,n=t.subarray(r,r+e),i.push(s(n)),r+=e+4;return i},textify:function(t){return JSON.stringify(t,null,2)}}},function(t,e,n){"use strict";var r=n(4),i=n(22).handleRollover,a={};a.ts=n(52),a.aac=n(15);var o=function(t,e,n){for(var r,i,o,s,u=0,c=188,l=!1;c<=t.byteLength;)if(71!==t[u]||71!==t[c]&&c!==t.byteLength)u++,c++;else{switch(r=t.subarray(u,c),a.ts.parseType(r,e.pid)){case"pes":i=a.ts.parsePesType(r,e.table),o=a.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&o&&(s=a.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;u+=188,c+=188}for(u=(c=t.byteLength)-188,l=!1;u>=0;)if(71!==t[u]||71!==t[c]&&c!==t.byteLength)u--,c--;else{switch(r=t.subarray(u,c),a.ts.parseType(r,e.pid)){case"pes":i=a.ts.parsePesType(r,e.table),o=a.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&o&&(s=a.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;u-=188,c-=188}},s=function(t,e,n){for(var r,i,o,s,u,c,l,d=0,f=188,h=!1,p={data:[],size:0};f<t.byteLength;)if(71!==t[d]||71!==t[f])d++,f++;else{switch(r=t.subarray(d,f),a.ts.parseType(r,e.pid)){case"pes":if(i=a.ts.parsePesType(r,e.table),o=a.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(o&&!h&&(s=a.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),h=!0),!n.firstKeyFrame)){if(o&&0!==p.size){for(u=new Uint8Array(p.size),c=0;p.data.length;)l=p.data.shift(),u.set(l,c),c+=l.byteLength;if(a.ts.videoPacketContainsKeyFrame(u)){var m=a.ts.parsePesTime(u);m?(n.firstKeyFrame=m,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p.size=0}p.data.push(r),p.size+=r.byteLength}}if(h&&n.firstKeyFrame)break;d+=188,f+=188}for(d=(f=t.byteLength)-188,h=!1;d>=0;)if(71!==t[d]||71!==t[f])d--,f--;else{switch(r=t.subarray(d,f),a.ts.parseType(r,e.pid)){case"pes":i=a.ts.parsePesType(r,e.table),o=a.ts.parsePayloadUnitStartIndicator(r),"video"===i&&o&&(s=a.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),h=!0)}if(h)break;d-=188,f-=188}},u=function(t){var e={pid:null,table:null},n={};for(var i in function(t,e){for(var n,r=0,i=188;i<t.byteLength;)if(71!==t[r]||71!==t[i])r++,i++;else{switch(n=t.subarray(r,i),a.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=a.ts.parsePat(n));break;case"pmt":e.table||(e.table=a.ts.parsePmt(n))}if(e.pid&&e.table)return;r+=188,i+=188}}(t,e),e.table){if(e.table.hasOwnProperty(i))switch(e.table[i]){case r.H264_STREAM_TYPE:n.video=[],s(t,e,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],o(t,e,n),0===n.audio.length&&delete n.audio}}return n};t.exports={inspect:function(t,e){var n;return(n=a.aac.isLikelyAacData(t)?function(t){for(var e,n=!1,r=0,i=null,o=null,s=0,u=0;t.length-u>=3;){switch(a.aac.parseType(t,u)){case"timed-metadata":if(t.length-u<10){n=!0;break}if((s=a.aac.parseId3TagSize(t,u))>t.length){n=!0;break}null===o&&(e=t.subarray(u,u+s),o=a.aac.parseAacTimestamp(e)),u+=s;break;case"audio":if(t.length-u<7){n=!0;break}if((s=a.aac.parseAdtsSize(t,u))>t.length){n=!0;break}null===i&&(e=t.subarray(u,u+s),i=a.aac.parseSampleRate(e)),r++,u+=s;break;default:u++}if(n)return null}if(null===i||null===o)return null;var c=9e4/i;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*r*c,pts:o+1024*r*c}]}}(t):u(t))&&(n.audio||n.video)?(function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach(function(t){t.dts=i(t.dts,n),t.pts=i(t.pts,n),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4})}if(t.video&&t.video.length){var r=e;if(void 0===r&&(r=t.video[0].dts),t.video.forEach(function(t){t.dts=i(t.dts,r),t.pts=i(t.pts,r),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4}),t.firstKeyFrame){var a=t.firstKeyFrame;a.dts=i(a.dts,r),a.pts=i(a.pts,r),a.dtsTime=a.dts/9e4,a.ptsTime=a.dts/9e4}}}(n,e),n):null},parseAudioPes_:o}},function(t,e,n){"use strict";var r=n(4),i=function(t){var e=31&t[1];return e<<=8,e|=t[2]},a=function(t){return!!(64&t[1])},o=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},s=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};t.exports={parseType:function(t,e){var n=i(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},parsePat:function(t){var e=a(t),n=4+o(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=a(t),r=4+o(t);if(n&&(r+=t[r]+1),1&t[r+5]){var i;i=3+((15&t[r+1])<<8|t[r+2])-4;for(var s=12+((15&t[r+10])<<8|t[r+11]);s<i;){var u=r+s;e[(31&t[u+1])<<8|t[u+2]]=t[u],s+=5+((15&t[u+3])<<8|t[u+4])}return e}},parsePayloadUnitStartIndicator:a,parsePesType:function(t,e){switch(e[i(t)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!a(t))return null;var e=4+o(t);if(e>=t.byteLength)return null;var n,r=null;return 192&(n=t[e+7])&&((r={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,r.pts*=4,r.pts+=(6&t[e+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,r.dts*=4,r.dts+=(6&t[e+18])>>>1)),r},videoPacketContainsKeyFrame:function(t){for(var e=4+o(t),n=t.subarray(e),r=0,i=0,a=!1;i<n.byteLength-3;i++)if(1===n[i+2]){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}i+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(a=!0);do{r++}while(1!==n[r]&&r<n.length);i=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(a=!0),i=r-2,r+=3;break;default:r+=3}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(a=!0),a}}},function(t,e,n){"use strict";var r=n(1),i=n(24),a=n(55),o=n(17);function s(t){var e=new a(t),n=i(a.prototype.request,e);return r.extend(n,a.prototype,e),r.extend(n,e),n}var u=s(o);u.Axios=a,u.create=function(t){return s(r.merge(o,t))},u.Cancel=n(28),u.CancelToken=n(68),u.isCancel=n(27),u.all=function(t){return Promise.all(t)},u.spread=n(69),t.exports=u,t.exports.default=u},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(17),i=n(1),a=n(63),o=n(64);function s(t){this.defaults=t,this.interceptors={request:new a,response:new a}}s.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e,n){"use strict";var r=n(1);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(26);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},function(t,e,n){"use strict";var r=n(1);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(r.isURLSearchParams(e))a=e.toString();else{var o=[];r.forEach(e,function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))}))}),a=o.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},function(t,e,n){"use strict";var r=n(1),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(r.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=r.trim(t.substr(0,a)).toLowerCase(),n=r.trim(t.substr(a+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},function(t,e,n){"use strict";var r=n(1);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(1);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(1);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){"use strict";var r=n(1),i=n(65),a=n(27),o=n(17),s=n(66),u=n(67);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return a(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(28);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var r=n(6);n.n(r).a},function(t,e,n){},function(t,e,n){Promise.all([n.e(0),n.e(9)]).then(n.t.bind(null,76,7))},function(t,e,n){},function(t,e,n){"use strict";var r=n(7);n.n(r).a},function(t,e,n){"use strict";n.r(e);
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({});function i(t){return null==t}function a(t){return null!=t}function o(t){return!0===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function u(t){return null!==t&&"object"==typeof t}var c=Object.prototype.toString;function l(t){return"[object Object]"===c.call(t)}function d(t){return"[object RegExp]"===c.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function h(t){return a(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}v("slot,component",!0);var y=v("key,ref,slot,slot-scope,is");function g(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function w(t,e){return b.call(t,e)}function T(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var S=/-(\w)/g,_=T(function(t){return t.replace(S,function(t,e){return e?e.toUpperCase():""})}),E=T(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),x=/\B([A-Z])/g,C=T(function(t){return t.replace(x,"-$1").toLowerCase()});var k=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function A(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function P(t,e){for(var n in e)t[n]=e[n];return t}function M(t){for(var e={},n=0;n<t.length;n++)t[n]&&P(e,t[n]);return e}function I(t,e,n){}var D=function(t,e,n){return!1},O=function(t){return t};function L(t,e){if(t===e)return!0;var n=u(t),r=u(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),a=Array.isArray(e);if(i&&a)return t.length===e.length&&t.every(function(t,n){return L(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||a)return!1;var o=Object.keys(t),s=Object.keys(e);return o.length===s.length&&o.every(function(n){return L(t[n],e[n])})}catch(t){return!1}}function U(t,e){for(var n=0;n<t.length;n++)if(L(t[n],e))return n;return-1}function R(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var N="data-server-rendered",j=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:I,parsePlatformTagName:O,mustUseProp:D,async:!0,_lifecycleHooks:B},F=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var H=new RegExp("[^"+F.source+".$_\\d]");var q,z="__proto__"in{},K="undefined"!=typeof window,G="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,W=G&&WXEnvironment.platform.toLowerCase(),X=K&&window.navigator.userAgent.toLowerCase(),Y=X&&/msie|trident/.test(X),Q=X&&X.indexOf("msie 9.0")>0,J=X&&X.indexOf("edge/")>0,Z=(X&&X.indexOf("android"),X&&/iphone|ipad|ipod|ios/.test(X)||"ios"===W),tt=(X&&/chrome\/\d+/.test(X),X&&/phantomjs/.test(X),X&&X.match(/firefox\/(\d+)/)),et={}.watch,nt=!1;if(K)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,rt)}catch(t){}var it=function(){return void 0===q&&(q=!K&&!G&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),q},at=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ot(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,ut="undefined"!=typeof Symbol&&ot(Symbol)&&"undefined"!=typeof Reflect&&ot(Reflect.ownKeys);st="undefined"!=typeof Set&&ot(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ct=I,lt=0,dt=function(){this.id=lt++,this.subs=[]};dt.prototype.addSub=function(t){this.subs.push(t)},dt.prototype.removeSub=function(t){g(this.subs,t)},dt.prototype.depend=function(){dt.target&&dt.target.addDep(this)},dt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},dt.target=null;var ft=[];function ht(t){ft.push(t),dt.target=t}function pt(){ft.pop(),dt.target=ft[ft.length-1]}var mt=function(t,e,n,r,i,a,o,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},vt={child:{configurable:!0}};vt.child.get=function(){return this.componentInstance},Object.defineProperties(mt.prototype,vt);var yt=function(t){void 0===t&&(t="");var e=new mt;return e.text=t,e.isComment=!0,e};function gt(t){return new mt(void 0,void 0,void 0,String(t))}function bt(t){var e=new mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var wt=Array.prototype,Tt=Object.create(wt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=wt[t];V(Tt,t,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,a=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&o.observeArray(i),o.dep.notify(),a})});var St=Object.getOwnPropertyNames(Tt),_t=!0;function Et(t){_t=t}var xt=function(t){this.value=t,this.dep=new dt,this.vmCount=0,V(t,"__ob__",this),Array.isArray(t)?(z?function(t,e){t.__proto__=e}(t,Tt):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var a=n[r];V(t,a,e[a])}}(t,Tt,St),this.observeArray(t)):this.walk(t)};function Ct(t,e){var n;if(u(t)&&!(t instanceof mt))return w(t,"__ob__")&&t.__ob__ instanceof xt?n=t.__ob__:_t&&!it()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new xt(t)),e&&n&&n.vmCount++,n}function kt(t,e,n,r,i){var a=new dt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,u=o&&o.set;s&&!u||2!==arguments.length||(n=t[e]);var c=!i&&Ct(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return dt.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,r=0,i=e.length;r<i;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!=e&&r!=r||s&&!u||(u?u.call(t,e):n=e,c=!i&&Ct(e),a.notify())}})}}function At(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(kt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Pt(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||w(t,e)&&(delete t[e],n&&n.dep.notify())}}xt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)kt(t,e[n])},xt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Ct(t[e])};var Mt=$.optionMergeStrategies;function It(t,e){if(!e)return t;for(var n,r,i,a=ut?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)"__ob__"!==(n=a[o])&&(r=t[n],i=e[n],w(t,n)?r!==i&&l(r)&&l(i)&&It(r,i):At(t,n,i));return t}function Dt(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?It(r,i):i}:e?t?function(){return It("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Ot(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Lt(t,e,n,r){var i=Object.create(t||null);return e?P(i,e):i}Mt.data=function(t,e,n){return n?Dt(t,e,n):e&&"function"!=typeof e?t:Dt(t,e)},B.forEach(function(t){Mt[t]=Ot}),j.forEach(function(t){Mt[t+"s"]=Lt}),Mt.watch=function(t,e,n,r){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var a in P(i,t),e){var o=i[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),i[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return i},Mt.props=Mt.methods=Mt.inject=Mt.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return P(i,t),e&&P(i,e),i},Mt.provide=Dt;var Ut=function(t,e){return void 0===e?t:e};function Rt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,a={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(a[_(i)]={type:null});else if(l(n))for(var o in n)i=n[o],a[_(o)]=l(i)?i:{type:i};t.props=a}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(l(n))for(var a in n){var o=n[a];r[a]=l(o)?P({from:a},o):{from:o}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Rt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Rt(t,e.mixins[r],n);var a,o={};for(a in t)s(a);for(a in e)w(t,a)||s(a);function s(r){var i=Mt[r]||Ut;o[r]=i(t[r],e[r],n,r)}return o}function Nt(t,e,n,r){if("string"==typeof n){var i=t[e];if(w(i,n))return i[n];var a=_(n);if(w(i,a))return i[a];var o=E(a);return w(i,o)?i[o]:i[n]||i[a]||i[o]}}function jt(t,e,n,r){var i=e[t],a=!w(n,t),o=n[t],s=Ft(Boolean,i.type);if(s>-1)if(a&&!w(i,"default"))o=!1;else if(""===o||o===C(t)){var u=Ft(String,i.type);(u<0||s<u)&&(o=!0)}if(void 0===o){o=function(t,e,n){if(!w(e,"default"))return;var r=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof r&&"Function"!==Bt(e.type)?r.call(t):r}(r,i,t);var c=_t;Et(!0),Ct(o),Et(c)}return o}function Bt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function $t(t,e){return Bt(t)===Bt(e)}function Ft(t,e){if(!Array.isArray(e))return $t(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if($t(e[n],t))return n;return-1}function Vt(t,e,n){ht();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{if(!1===i[a].call(r,t,e,n))return}catch(t){qt(t,r,"errorCaptured hook")}}qt(t,e,n)}finally{pt()}}function Ht(t,e,n,r,i){var a;try{(a=n?t.apply(e,n):t.call(e))&&!a._isVue&&h(a)&&!a._handled&&(a.catch(function(t){return Vt(t,r,i+" (Promise/async)")}),a._handled=!0)}catch(t){Vt(t,r,i)}return a}function qt(t,e,n){if($.errorHandler)try{return $.errorHandler.call(null,t,e,n)}catch(e){e!==t&&zt(e,null,"config.errorHandler")}zt(t,e,n)}function zt(t,e,n){if(!K&&!G||"undefined"==typeof console)throw t;console.error(t)}var Kt,Gt=!1,Wt=[],Xt=!1;function Yt(){Xt=!1;var t=Wt.slice(0);Wt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&ot(Promise)){var Qt=Promise.resolve();Kt=function(){Qt.then(Yt),Z&&setTimeout(I)},Gt=!0}else if(Y||"undefined"==typeof MutationObserver||!ot(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Kt="undefined"!=typeof setImmediate&&ot(setImmediate)?function(){setImmediate(Yt)}:function(){setTimeout(Yt,0)};else{var Jt=1,Zt=new MutationObserver(Yt),te=document.createTextNode(String(Jt));Zt.observe(te,{characterData:!0}),Kt=function(){Jt=(Jt+1)%2,te.data=String(Jt)},Gt=!0}function ee(t,e){var n;if(Wt.push(function(){if(t)try{t.call(e)}catch(t){Vt(t,e,"nextTick")}else n&&n(e)}),Xt||(Xt=!0,Kt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var ne=new st;function re(t){!function t(e,n){var r,i;var a=Array.isArray(e);if(!a&&!u(e)||Object.isFrozen(e)||e instanceof mt)return;if(e.__ob__){var o=e.__ob__.dep.id;if(n.has(o))return;n.add(o)}if(a)for(r=e.length;r--;)t(e[r],n);else for(i=Object.keys(e),r=i.length;r--;)t(e[i[r]],n)}(t,ne),ne.clear()}var ie=T(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}});function ae(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return Ht(r,null,arguments,e,"v-on handler");for(var i=r.slice(),a=0;a<i.length;a++)Ht(i[a],null,t,e,"v-on handler")}return n.fns=t,n}function oe(t,e,n,r,a,s){var u,c,l,d;for(u in t)c=t[u],l=e[u],d=ie(u),i(c)||(i(l)?(i(c.fns)&&(c=t[u]=ae(c,s)),o(d.once)&&(c=t[u]=a(d.name,c,d.capture)),n(d.name,c,d.capture,d.passive,d.params)):c!==l&&(l.fns=c,t[u]=l));for(u in e)i(t[u])&&r((d=ie(u)).name,e[u],d.capture)}function se(t,e,n){var r;t instanceof mt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),g(r.fns,u)}i(s)?r=ae([u]):a(s.fns)&&o(s.merged)?(r=s).fns.push(u):r=ae([s,u]),r.merged=!0,t[e]=r}function ue(t,e,n,r,i){if(a(e)){if(w(e,n))return t[n]=e[n],i||delete e[n],!0;if(w(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function ce(t){return s(t)?[gt(t)]:Array.isArray(t)?function t(e,n){var r=[];var u,c,l,d;for(u=0;u<e.length;u++)i(c=e[u])||"boolean"==typeof c||(l=r.length-1,d=r[l],Array.isArray(c)?c.length>0&&(le((c=t(c,(n||"")+"_"+u))[0])&&le(d)&&(r[l]=gt(d.text+c[0].text),c.shift()),r.push.apply(r,c)):s(c)?le(d)?r[l]=gt(d.text+c):""!==c&&r.push(gt(c)):le(c)&&le(d)?r[l]=gt(d.text+c.text):(o(e._isVList)&&a(c.tag)&&i(c.key)&&a(n)&&(c.key="__vlist"+n+"_"+u+"__"),r.push(c)));return r}(t):void 0}function le(t){return a(t)&&a(t.text)&&!1===t.isComment}function de(t,e){if(t){for(var n=Object.create(null),r=ut?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var a=r[i];if("__ob__"!==a){for(var o=t[a].from,s=e;s;){if(s._provided&&w(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in t[a]){var u=t[a].default;n[a]="function"==typeof u?u.call(e):u}else 0}}return n}}function fe(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var a=t[r],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,u=n[s]||(n[s]=[]);"template"===a.tag?u.push.apply(u,a.children||[]):u.push(a)}}for(var c in n)n[c].every(he)&&delete n[c];return n}function he(t){return t.isComment&&!t.asyncFactory||" "===t.text}function pe(t,e,n){var i,a=Object.keys(e).length>0,o=t?!!t.$stable:!a,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==r&&s===n.$key&&!a&&!n.$hasNormal)return n;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=me(e,u,t[u]))}else i={};for(var c in e)c in i||(i[c]=ve(e,c));return t&&Object.isExtensible(t)&&(t._normalized=i),V(i,"$stable",o),V(i,"$key",s),V(i,"$hasNormal",a),i}function me(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:ce(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function ve(t,e){return function(){return t[e]}}function ye(t,e){var n,r,i,o,s;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(u(t))if(ut&&t[Symbol.iterator]){n=[];for(var c=t[Symbol.iterator](),l=c.next();!l.done;)n.push(e(l.value,n.length)),l=c.next()}else for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)s=o[r],n[r]=e(t[s],s,r);return a(n)||(n=[]),n._isVList=!0,n}function ge(t,e,n,r){var i,a=this.$scopedSlots[t];a?(n=n||{},r&&(n=P(P({},r),n)),i=a(n)||e):i=this.$slots[t]||e;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},i):i}function be(t){return Nt(this.$options,"filters",t)||O}function we(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Te(t,e,n,r,i){var a=$.keyCodes[e]||n;return i&&r&&!$.keyCodes[e]?we(i,r):a?we(a,t):r?C(r)!==e:void 0}function Se(t,e,n,r,i){if(n)if(u(n)){var a;Array.isArray(n)&&(n=M(n));var o=function(o){if("class"===o||"style"===o||y(o))a=t;else{var s=t.attrs&&t.attrs.type;a=r||$.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=_(o),c=C(o);u in a||c in a||(a[o]=n[o],i&&((t.on||(t.on={}))["update:"+o]=function(t){n[o]=t}))};for(var s in n)o(s)}else;return t}function _e(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:(xe(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r)}function Ee(t,e,n){return xe(t,"__once__"+e+(n?"_"+n:""),!0),t}function xe(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Ce(t[r],e+"_"+r,n);else Ce(t,e,n)}function Ce(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function ke(t,e){if(e)if(l(e)){var n=t.on=t.on?P({},t.on):{};for(var r in e){var i=n[r],a=e[r];n[r]=i?[].concat(i,a):a}}else;return t}function Ae(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var a=t[i];Array.isArray(a)?Ae(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return r&&(e.$key=r),e}function Pe(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Me(t,e){return"string"==typeof t?e+t:t}function Ie(t){t._o=Ee,t._n=m,t._s=p,t._l=ye,t._t=ge,t._q=L,t._i=U,t._m=_e,t._f=be,t._k=Te,t._b=Se,t._v=gt,t._e=yt,t._u=Ae,t._g=ke,t._d=Pe,t._p=Me}function De(t,e,n,i,a){var s,u=this,c=a.options;w(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var l=o(c._compiled),d=!l;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||r,this.injections=de(c.inject,i),this.slots=function(){return u.$slots||pe(t.scopedSlots,u.$slots=fe(n,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return pe(t.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=pe(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,r){var a=Fe(s,t,e,n,r,d);return a&&!Array.isArray(a)&&(a.fnScopeId=c._scopeId,a.fnContext=i),a}:this._c=function(t,e,n,r){return Fe(s,t,e,n,r,d)}}function Oe(t,e,n,r,i){var a=bt(t);return a.fnContext=n,a.fnOptions=r,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function Le(t,e){for(var n in e)t[_(n)]=e[n]}Ie(De.prototype);var Ue={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Ue.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;a(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,Qe)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,i,a){0;var o=i.data.scopedSlots,s=t.$scopedSlots,u=!!(o&&!o.$stable||s!==r&&!s.$stable||o&&t.$scopedSlots.$key!==o.$key),c=!!(a||t.$options._renderChildren||u);t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i);if(t.$options._renderChildren=a,t.$attrs=i.data.attrs||r,t.$listeners=n||r,e&&t.$options.props){Et(!1);for(var l=t._props,d=t.$options._propKeys||[],f=0;f<d.length;f++){var h=d[f],p=t.$options.props;l[h]=jt(h,p,e,t)}Et(!0),t.$options.propsData=e}n=n||r;var m=t.$options._parentListeners;t.$options._parentListeners=n,Ye(t,n,m),c&&(t.$slots=fe(a,i.context),t.$forceUpdate());0}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,en(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,rn.push(e)):tn(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(n&&(e._directInactive=!0,Ze(e)))return;if(!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);en(e,"deactivated")}}(e,!0):e.$destroy())}},Re=Object.keys(Ue);function Ne(t,e,n,s,c){if(!i(t)){var l=n.$options._base;if(u(t)&&(t=l.extend(t)),"function"==typeof t){var d;if(i(t.cid)&&void 0===(t=function(t,e){if(o(t.error)&&a(t.errorComp))return t.errorComp;if(a(t.resolved))return t.resolved;var n=He;n&&a(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n);if(o(t.loading)&&a(t.loadingComp))return t.loadingComp;if(n&&!a(t.owners)){var r=t.owners=[n],s=!0,c=null,l=null;n.$on("hook:destroyed",function(){return g(r,n)});var d=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},f=R(function(n){t.resolved=qe(n,e),s?r.length=0:d(!0)}),p=R(function(e){a(t.errorComp)&&(t.error=!0,d(!0))}),m=t(f,p);return u(m)&&(h(m)?i(t.resolved)&&m.then(f,p):h(m.component)&&(m.component.then(f,p),a(m.error)&&(t.errorComp=qe(m.error,e)),a(m.loading)&&(t.loadingComp=qe(m.loading,e),0===m.delay?t.loading=!0:c=setTimeout(function(){c=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,d(!1))},m.delay||200)),a(m.timeout)&&(l=setTimeout(function(){l=null,i(t.resolved)&&p(null)},m.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}(d=t,l)))return function(t,e,n,r,i){var a=yt();return a.asyncFactory=t,a.asyncMeta={data:e,context:n,children:r,tag:i},a}(d,e,n,s,c);e=e||{},En(t),a(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),o=i[r],s=e.model.callback;a(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(i[r]=[s].concat(o)):i[r]=s}(t.options,e);var f=function(t,e,n){var r=e.options.props;if(!i(r)){var o={},s=t.attrs,u=t.props;if(a(s)||a(u))for(var c in r){var l=C(c);ue(o,u,c,l,!0)||ue(o,s,c,l,!1)}return o}}(e,t);if(o(t.options.functional))return function(t,e,n,i,o){var s=t.options,u={},c=s.props;if(a(c))for(var l in c)u[l]=jt(l,c,e||r);else a(n.attrs)&&Le(u,n.attrs),a(n.props)&&Le(u,n.props);var d=new De(n,u,o,i,t),f=s.render.call(null,d._c,d);if(f instanceof mt)return Oe(f,n,d.parent,s);if(Array.isArray(f)){for(var h=ce(f)||[],p=new Array(h.length),m=0;m<h.length;m++)p[m]=Oe(h[m],n,d.parent,s);return p}}(t,f,e,n,s);var p=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Re.length;n++){var r=Re[n],i=e[r],a=Ue[r];i===a||i&&i._merged||(e[r]=i?je(a,i):a)}}(e);var v=t.options.name||c;return new mt("vue-component-"+t.cid+(v?"-"+v:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:f,listeners:p,tag:c,children:s},d)}}}function je(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}var Be=1,$e=2;function Fe(t,e,n,r,c,l){return(Array.isArray(n)||s(n))&&(c=r,r=n,n=void 0),o(l)&&(c=$e),function(t,e,n,r,s){if(a(n)&&a(n.__ob__))return yt();a(n)&&a(n.is)&&(e=n.is);if(!e)return yt();0;Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0);s===$e?r=ce(r):s===Be&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r));var c,l;if("string"==typeof e){var d;l=t.$vnode&&t.$vnode.ns||$.getTagNamespace(e),c=$.isReservedTag(e)?new mt($.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!a(d=Nt(t.$options,"components",e))?new mt(e,n,r,void 0,void 0,t):Ne(d,n,t,r,e)}else c=Ne(e,n,t,r);return Array.isArray(c)?c:a(c)?(a(l)&&function t(e,n,r){e.ns=n;"foreignObject"===e.tag&&(n=void 0,r=!0);if(a(e.children))for(var s=0,u=e.children.length;s<u;s++){var c=e.children[s];a(c.tag)&&(i(c.ns)||o(r)&&"svg"!==c.tag)&&t(c,n,r)}}(c,l),a(n)&&function(t){u(t.style)&&re(t.style);u(t.class)&&re(t.class)}(n),c):yt()}(t,e,n,r,c)}var Ve,He=null;function qe(t,e){return(t.__esModule||ut&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function ze(t){return t.isComment&&t.asyncFactory}function Ke(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||ze(n)))return n}}function Ge(t,e){Ve.$on(t,e)}function We(t,e){Ve.$off(t,e)}function Xe(t,e){var n=Ve;return function r(){null!==e.apply(null,arguments)&&n.$off(t,r)}}function Ye(t,e,n){Ve=t,oe(e,n||{},Ge,We,Xe,t),Ve=void 0}var Qe=null;function Je(t){var e=Qe;return Qe=t,function(){Qe=e}}function Ze(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function tn(t,e){if(e){if(t._directInactive=!1,Ze(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)tn(t.$children[n]);en(t,"activated")}}function en(t,e){ht();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,a=n.length;i<a;i++)Ht(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),pt()}var nn=[],rn=[],an={},on=!1,sn=!1,un=0;var cn=0,ln=Date.now;if(K&&!Y){var dn=window.performance;dn&&"function"==typeof dn.now&&ln()>document.createEvent("Event").timeStamp&&(ln=function(){return dn.now()})}function fn(){var t,e;for(cn=ln(),sn=!0,nn.sort(function(t,e){return t.id-e.id}),un=0;un<nn.length;un++)(t=nn[un]).before&&t.before(),e=t.id,an[e]=null,t.run();var n=rn.slice(),r=nn.slice();un=nn.length=rn.length=0,an={},on=sn=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,tn(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&en(r,"updated")}}(r),at&&$.devtools&&at.emit("flush")}var hn=0,pn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++hn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!H.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=I)),this.value=this.lazy?void 0:this.get()};pn.prototype.get=function(){var t;ht(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Vt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&re(t),pt(),this.cleanupDeps()}return t},pn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},pn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},pn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==an[e]){if(an[e]=!0,sn){for(var n=nn.length-1;n>un&&nn[n].id>t.id;)n--;nn.splice(n+1,0,t)}else nn.push(t);on||(on=!0,ee(fn))}}(this)},pn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Vt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},pn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},pn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},pn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var mn={enumerable:!0,configurable:!0,get:I,set:I};function vn(t,e,n){mn.get=function(){return this[e][n]},mn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,mn)}function yn(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[];t.$parent&&Et(!1);var a=function(a){i.push(a);var o=jt(a,e,n,t);kt(r,a,o),a in t||vn(t,"_props",a)};for(var o in e)a(o);Et(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?I:k(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){ht();try{return t.call(e,e)}catch(t){return Vt(t,e,"data()"),{}}finally{pt()}}(e,t):e||{})||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);for(;i--;){var a=n[i];0,r&&w(r,a)||(o=void 0,36!==(o=(a+"").charCodeAt(0))&&95!==o&&vn(t,"_data",a))}var o;Ct(e,!0)}(t):Ct(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=it();for(var i in e){var a=e[i],o="function"==typeof a?a:a.get;0,r||(n[i]=new pn(t,o||I,I,gn)),i in t||bn(t,i,a)}}(t,e.computed),e.watch&&e.watch!==et&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Sn(t,n,r[i]);else Sn(t,n,r)}}(t,e.watch)}var gn={lazy:!0};function bn(t,e,n){var r=!it();"function"==typeof n?(mn.get=r?wn(e):Tn(n),mn.set=I):(mn.get=n.get?r&&!1!==n.cache?wn(e):Tn(n.get):I,mn.set=n.set||I),Object.defineProperty(t,e,mn)}function wn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),dt.target&&e.depend(),e.value}}function Tn(t){return function(){return t.call(this,this)}}function Sn(t,e,n,r){return l(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var _n=0;function En(t){var e=t.options;if(t.super){var n=En(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&P(t.extendOptions,r),(e=t.options=Rt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function xn(t){this._init(t)}function Cn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var a=t.name||n.options.name;var o=function(t){this._init(t)};return(o.prototype=Object.create(n.prototype)).constructor=o,o.cid=e++,o.options=Rt(n.options,t),o.super=n,o.options.props&&function(t){var e=t.options.props;for(var n in e)vn(t.prototype,"_props",n)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var n in e)bn(t.prototype,n,e[n])}(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,j.forEach(function(t){o[t]=n[t]}),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=P({},o.options),i[r]=o,o}}function kn(t){return t&&(t.Ctor.options.name||t.tag)}function An(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!d(t)&&t.test(e)}function Pn(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var a in n){var o=n[a];if(o){var s=kn(o.componentOptions);s&&!e(s)&&Mn(n,a,r,i)}}}function Mn(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,g(n,e)}xn.prototype._init=function(t){var e=this;e._uid=_n++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Rt(En(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ye(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=fe(e._renderChildren,i),t.$scopedSlots=r,t._c=function(e,n,r,i){return Fe(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return Fe(t,e,n,r,i,!0)};var a=n&&n.data;kt(t,"$attrs",a&&a.attrs||r,null,!0),kt(t,"$listeners",e._parentListeners||r,null,!0)}(e),en(e,"beforeCreate"),function(t){var e=de(t.$options.inject,t);e&&(Et(!1),Object.keys(e).forEach(function(n){kt(t,n,e[n])}),Et(!0))}(e),yn(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),en(e,"created"),e.$options.el&&e.$mount(e.$options.el)},function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=At,t.prototype.$delete=Pt,t.prototype.$watch=function(t,e,n){if(l(e))return Sn(this,t,e,n);(n=n||{}).user=!0;var r=new pn(this,t,e,n);if(n.immediate)try{e.call(this,r.value)}catch(t){Vt(t,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}(xn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var a,o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;for(var s=o.length;s--;)if((a=o[s])===e||a.fn===e){o.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this._events[t];if(e){e=e.length>1?A(e):e;for(var n=A(arguments,1),r='event handler for "'+t+'"',i=0,a=e.length;i<a;i++)Ht(e[i],this,n,this,r)}return this}}(xn),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,a=Je(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),a(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){en(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||g(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),en(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(xn),function(t){Ie(t.prototype),t.prototype.$nextTick=function(t){return ee(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=pe(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{He=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Vt(n,e,"render"),t=e._vnode}finally{He=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof mt||(t=yt()),t.parent=i,t}}(xn);var In=[String,RegExp,Array],Dn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:In,exclude:In,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Mn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Pn(t,function(t){return An(e,t)})}),this.$watch("exclude",function(e){Pn(t,function(t){return!An(e,t)})})},render:function(){var t=this.$slots.default,e=Ke(t),n=e&&e.componentOptions;if(n){var r=kn(n),i=this.include,a=this.exclude;if(i&&(!r||!An(i,r))||a&&r&&An(a,r))return e;var o=this.cache,s=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;o[u]?(e.componentInstance=o[u].componentInstance,g(s,u),s.push(u)):(o[u]=e,s.push(u),this.max&&s.length>parseInt(this.max)&&Mn(o,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return $}};Object.defineProperty(t,"config",e),t.util={warn:ct,extend:P,mergeOptions:Rt,defineReactive:kt},t.set=At,t.delete=Pt,t.nextTick=ee,t.observable=function(t){return Ct(t),t},t.options=Object.create(null),j.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,P(t.options.components,Dn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=A(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Rt(this.options,t),this}}(t),Cn(t),function(t){j.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}(t)}(xn),Object.defineProperty(xn.prototype,"$isServer",{get:it}),Object.defineProperty(xn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(xn,"FunctionalRenderContext",{value:De}),xn.version="2.6.10";var On=v("style,class"),Ln=v("input,textarea,option,select,progress"),Un=v("contenteditable,draggable,spellcheck"),Rn=v("events,caret,typing,plaintext-only"),Nn=function(t,e){return Vn(e)||"false"===e?"false":"contenteditable"===t&&Rn(e)?e:"true"},jn=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Bn="http://www.w3.org/1999/xlink",$n=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Fn=function(t){return $n(t)?t.slice(6,t.length):""},Vn=function(t){return null==t||!1===t};function Hn(t){for(var e=t.data,n=t,r=t;a(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=qn(r.data,e));for(;a(n=n.parent);)n&&n.data&&(e=qn(e,n.data));return function(t,e){if(a(t)||a(e))return zn(t,Kn(e));return""}(e.staticClass,e.class)}function qn(t,e){return{staticClass:zn(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function zn(t,e){return t?e?t+" "+e:t:e||""}function Kn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)a(e=Kn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):u(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Gn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Wn=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Xn=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Yn=function(t){return Wn(t)||Xn(t)};var Qn=Object.create(null);var Jn=v("text,number,password,search,email,tel,url");var Zn=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(t,e){return document.createElementNS(Gn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),tr={create:function(t,e){er(e)},update:function(t,e){t.data.ref!==e.data.ref&&(er(t,!0),er(e))},destroy:function(t){er(t,!0)}};function er(t,e){var n=t.data.ref;if(a(n)){var r=t.context,i=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?g(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var nr=new mt("",{},[]),rr=["create","activate","update","remove","destroy"];function ir(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=a(n=t.data)&&a(n=n.attrs)&&n.type,i=a(n=e.data)&&a(n=n.attrs)&&n.type;return r===i||Jn(r)&&Jn(i)}(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function ar(t,e,n){var r,i,o={};for(r=e;r<=n;++r)a(i=t[r].key)&&(o[i]=r);return o}var or={create:sr,update:sr,destroy:function(t){sr(t,nr)}};function sr(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,a=t===nr,o=e===nr,s=cr(t.data.directives,t.context),u=cr(e.data.directives,e.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,dr(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(dr(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var d=function(){for(var n=0;n<c.length;n++)dr(c[n],"inserted",e,t)};a?se(e,"insert",d):d()}l.length&&se(e,"postpatch",function(){for(var n=0;n<l.length;n++)dr(l[n],"componentUpdated",e,t)});if(!a)for(n in s)u[n]||dr(s[n],"unbind",t,t,o)}(t,e)}var ur=Object.create(null);function cr(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=ur),i[lr(r)]=r,r.def=Nt(e.$options,"directives",r.name);return i}function lr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function dr(t,e,n,r,i){var a=t.def&&t.def[e];if(a)try{a(n.elm,t,n,r,i)}catch(r){Vt(r,n.context,"directive "+t.name+" "+e+" hook")}}var fr=[tr,or];function hr(t,e){var n=e.componentOptions;if(!(a(n)&&!1===n.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var r,o,s=e.elm,u=t.data.attrs||{},c=e.data.attrs||{};for(r in a(c.__ob__)&&(c=e.data.attrs=P({},c)),c)o=c[r],u[r]!==o&&pr(s,r,o);for(r in(Y||J)&&c.value!==u.value&&pr(s,"value",c.value),u)i(c[r])&&($n(r)?s.removeAttributeNS(Bn,Fn(r)):Un(r)||s.removeAttribute(r))}}function pr(t,e,n){t.tagName.indexOf("-")>-1?mr(t,e,n):jn(e)?Vn(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Un(e)?t.setAttribute(e,Nn(e,n)):$n(e)?Vn(n)?t.removeAttributeNS(Bn,Fn(e)):t.setAttributeNS(Bn,e,n):mr(t,e,n)}function mr(t,e,n){if(Vn(n))t.removeAttribute(e);else{if(Y&&!Q&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var vr={create:hr,update:hr};function yr(t,e){var n=e.elm,r=e.data,o=t.data;if(!(i(r.staticClass)&&i(r.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var s=Hn(e),u=n._transitionClasses;a(u)&&(s=zn(s,Kn(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var gr,br={create:yr,update:yr},wr="__r",Tr="__c";function Sr(t,e,n){var r=gr;return function i(){null!==e.apply(null,arguments)&&xr(t,i,n,r)}}var _r=Gt&&!(tt&&Number(tt[1])<=53);function Er(t,e,n,r){if(_r){var i=cn,a=e;e=a._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return a.apply(this,arguments)}}gr.addEventListener(t,e,nt?{capture:n,passive:r}:n)}function xr(t,e,n,r){(r||gr).removeEventListener(t,e._wrapper||e,n)}function Cr(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};gr=e.elm,function(t){if(a(t[wr])){var e=Y?"change":"input";t[e]=[].concat(t[wr],t[e]||[]),delete t[wr]}a(t[Tr])&&(t.change=[].concat(t[Tr],t.change||[]),delete t[Tr])}(n),oe(n,r,Er,xr,Sr,e.context),gr=void 0}}var kr,Ar={create:Cr,update:Cr};function Pr(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,r,o=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in a(u.__ob__)&&(u=e.data.domProps=P({},u)),s)n in u||(o[n]="");for(n in u){if(r=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=r;var c=i(r)?"":String(r);Mr(o,c)&&(o.value=c)}else if("innerHTML"===n&&Xn(o.tagName)&&i(o.innerHTML)){(kr=kr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var l=kr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}else if(r!==s[n])try{o[n]=r}catch(t){}}}}function Mr(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(a(r)){if(r.number)return m(n)!==m(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var Ir={create:Pr,update:Pr},Dr=T(function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e});function Or(t){var e=Lr(t.style);return t.staticStyle?P(t.staticStyle,e):e}function Lr(t){return Array.isArray(t)?M(t):"string"==typeof t?Dr(t):t}var Ur,Rr=/^--/,Nr=/\s*!important$/,jr=function(t,e,n){if(Rr.test(e))t.style.setProperty(e,n);else if(Nr.test(n))t.style.setProperty(C(e),n.replace(Nr,""),"important");else{var r=$r(e);if(Array.isArray(n))for(var i=0,a=n.length;i<a;i++)t.style[r]=n[i];else t.style[r]=n}},Br=["Webkit","Moz","ms"],$r=T(function(t){if(Ur=Ur||document.createElement("div").style,"filter"!==(t=_(t))&&t in Ur)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Br.length;n++){var r=Br[n]+e;if(r in Ur)return r}});function Fr(t,e){var n=e.data,r=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var o,s,u=e.elm,c=r.staticStyle,l=r.normalizedStyle||r.style||{},d=c||l,f=Lr(e.data.style)||{};e.data.normalizedStyle=a(f.__ob__)?P({},f):f;var h=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=Or(i.data))&&P(r,n);(n=Or(t.data))&&P(r,n);for(var a=t;a=a.parent;)a.data&&(n=Or(a.data))&&P(r,n);return r}(e,!0);for(s in d)i(h[s])&&jr(u,s,"");for(s in h)(o=h[s])!==d[s]&&jr(u,s,null==o?"":o)}}var Vr={create:Fr,update:Fr},Hr=/\s+/;function qr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Hr).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function zr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Hr).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function Kr(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&P(e,Gr(t.name||"v")),P(e,t),e}return"string"==typeof t?Gr(t):void 0}}var Gr=T(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Wr=K&&!Q,Xr="transition",Yr="animation",Qr="transition",Jr="transitionend",Zr="animation",ti="animationend";Wr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Qr="WebkitTransition",Jr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Zr="WebkitAnimation",ti="webkitAnimationEnd"));var ei=K?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ni(t){ei(function(){ei(t)})}function ri(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),qr(t,e))}function ii(t,e){t._transitionClasses&&g(t._transitionClasses,e),zr(t,e)}function ai(t,e,n){var r=si(t,e),i=r.type,a=r.timeout,o=r.propCount;if(!i)return n();var s=i===Xr?Jr:ti,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=o&&c()};setTimeout(function(){u<o&&c()},a+1),t.addEventListener(s,l)}var oi=/\b(transform|all)(,|$)/;function si(t,e){var n,r=window.getComputedStyle(t),i=(r[Qr+"Delay"]||"").split(", "),a=(r[Qr+"Duration"]||"").split(", "),o=ui(i,a),s=(r[Zr+"Delay"]||"").split(", "),u=(r[Zr+"Duration"]||"").split(", "),c=ui(s,u),l=0,d=0;return e===Xr?o>0&&(n=Xr,l=o,d=a.length):e===Yr?c>0&&(n=Yr,l=c,d=u.length):d=(n=(l=Math.max(o,c))>0?o>c?Xr:Yr:null)?n===Xr?a.length:u.length:0,{type:n,timeout:l,propCount:d,hasTransform:n===Xr&&oi.test(r[Qr+"Property"])}}function ui(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return ci(e)+ci(t[n])}))}function ci(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function li(t,e){var n=t.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Kr(t.data.transition);if(!i(r)&&!a(n._enterCb)&&1===n.nodeType){for(var o=r.css,s=r.type,c=r.enterClass,l=r.enterToClass,d=r.enterActiveClass,f=r.appearClass,h=r.appearToClass,p=r.appearActiveClass,v=r.beforeEnter,y=r.enter,g=r.afterEnter,b=r.enterCancelled,w=r.beforeAppear,T=r.appear,S=r.afterAppear,_=r.appearCancelled,E=r.duration,x=Qe,C=Qe.$vnode;C&&C.parent;)x=C.context,C=C.parent;var k=!x._isMounted||!t.isRootInsert;if(!k||T||""===T){var A=k&&f?f:c,P=k&&p?p:d,M=k&&h?h:l,I=k&&w||v,D=k&&"function"==typeof T?T:y,O=k&&S||g,L=k&&_||b,U=m(u(E)?E.enter:E);0;var N=!1!==o&&!Q,j=hi(D),B=n._enterCb=R(function(){N&&(ii(n,M),ii(n,P)),B.cancelled?(N&&ii(n,A),L&&L(n)):O&&O(n),n._enterCb=null});t.data.show||se(t,"insert",function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),D&&D(n,B)}),I&&I(n),N&&(ri(n,A),ri(n,P),ni(function(){ii(n,A),B.cancelled||(ri(n,M),j||(fi(U)?setTimeout(B,U):ai(n,s,B)))})),t.data.show&&(e&&e(),D&&D(n,B)),N||j||B()}}}function di(t,e){var n=t.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Kr(t.data.transition);if(i(r)||1!==n.nodeType)return e();if(!a(n._leaveCb)){var o=r.css,s=r.type,c=r.leaveClass,l=r.leaveToClass,d=r.leaveActiveClass,f=r.beforeLeave,h=r.leave,p=r.afterLeave,v=r.leaveCancelled,y=r.delayLeave,g=r.duration,b=!1!==o&&!Q,w=hi(h),T=m(u(g)?g.leave:g);0;var S=n._leaveCb=R(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(ii(n,l),ii(n,d)),S.cancelled?(b&&ii(n,c),v&&v(n)):(e(),p&&p(n)),n._leaveCb=null});y?y(_):_()}function _(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),b&&(ri(n,c),ri(n,d),ni(function(){ii(n,c),S.cancelled||(ri(n,l),w||(fi(T)?setTimeout(S,T):ai(n,s,S)))})),h&&h(n,S),b||w||S())}}function fi(t){return"number"==typeof t&&!isNaN(t)}function hi(t){if(i(t))return!1;var e=t.fns;return a(e)?hi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function pi(t,e){!0!==e.data.show&&li(e)}var mi=function(t){var e,n,r={},u=t.modules,c=t.nodeOps;for(e=0;e<rr.length;++e)for(r[rr[e]]=[],n=0;n<u.length;++n)a(u[n][rr[e]])&&r[rr[e]].push(u[n][rr[e]]);function l(t){var e=c.parentNode(t);a(e)&&c.removeChild(e,t)}function d(t,e,n,i,s,u,l){if(a(t.elm)&&a(u)&&(t=u[l]=bt(t)),t.isRootInsert=!s,!function(t,e,n,i){var s=t.data;if(a(s)){var u=a(t.componentInstance)&&s.keepAlive;if(a(s=s.hook)&&a(s=s.init)&&s(t,!1),a(t.componentInstance))return f(t,e),h(n,t.elm,i),o(u)&&function(t,e,n,i){for(var o,s=t;s.componentInstance;)if(s=s.componentInstance._vnode,a(o=s.data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](nr,s);e.push(s);break}h(n,t.elm,i)}(t,e,n,i),!0}}(t,e,n,i)){var d=t.data,m=t.children,v=t.tag;a(v)?(t.elm=t.ns?c.createElementNS(t.ns,v):c.createElement(v,t),g(t),p(t,m,e),a(d)&&y(t,e),h(n,t.elm,i)):o(t.isComment)?(t.elm=c.createComment(t.text),h(n,t.elm,i)):(t.elm=c.createTextNode(t.text),h(n,t.elm,i))}}function f(t,e){a(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,m(t)?(y(t,e),g(t)):(er(t),e.push(t))}function h(t,e,n){a(t)&&(a(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)d(e[r],n,t.elm,null,!0,e,r);else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function m(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return a(t.tag)}function y(t,n){for(var i=0;i<r.create.length;++i)r.create[i](nr,t);a(e=t.data.hook)&&(a(e.create)&&e.create(nr,t),a(e.insert)&&n.push(t))}function g(t){var e;if(a(e=t.fnScopeId))c.setStyleScope(t.elm,e);else for(var n=t;n;)a(e=n.context)&&a(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent;a(e=Qe)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function b(t,e,n,r,i,a){for(;r<=i;++r)d(n[r],a,t,e,!1,n,r)}function w(t){var e,n,i=t.data;if(a(i))for(a(e=i.hook)&&a(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(a(e=t.children))for(n=0;n<t.children.length;++n)w(t.children[n])}function T(t,e,n,r){for(;n<=r;++n){var i=e[n];a(i)&&(a(i.tag)?(S(i),w(i)):l(i.elm))}}function S(t,e){if(a(e)||a(t.data)){var n,i=r.remove.length+1;for(a(e)?e.listeners+=i:e=function(t,e){function n(){0==--n.listeners&&l(t)}return n.listeners=e,n}(t.elm,i),a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)&&S(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);a(n=t.data.hook)&&a(n=n.remove)?n(t,e):e()}else l(t.elm)}function _(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(a(o)&&ir(t,o))return i}}function E(t,e,n,s,u,l){if(t!==e){a(e.elm)&&a(s)&&(e=s[u]=bt(e));var f=e.elm=t.elm;if(o(t.isAsyncPlaceholder))a(e.asyncFactory.resolved)?k(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,p=e.data;a(p)&&a(h=p.hook)&&a(h=h.prepatch)&&h(t,e);var v=t.children,y=e.children;if(a(p)&&m(e)){for(h=0;h<r.update.length;++h)r.update[h](t,e);a(h=p.hook)&&a(h=h.update)&&h(t,e)}i(e.text)?a(v)&&a(y)?v!==y&&function(t,e,n,r,o){for(var s,u,l,f=0,h=0,p=e.length-1,m=e[0],v=e[p],y=n.length-1,g=n[0],w=n[y],S=!o;f<=p&&h<=y;)i(m)?m=e[++f]:i(v)?v=e[--p]:ir(m,g)?(E(m,g,r,n,h),m=e[++f],g=n[++h]):ir(v,w)?(E(v,w,r,n,y),v=e[--p],w=n[--y]):ir(m,w)?(E(m,w,r,n,y),S&&c.insertBefore(t,m.elm,c.nextSibling(v.elm)),m=e[++f],w=n[--y]):ir(v,g)?(E(v,g,r,n,h),S&&c.insertBefore(t,v.elm,m.elm),v=e[--p],g=n[++h]):(i(s)&&(s=ar(e,f,p)),i(u=a(g.key)?s[g.key]:_(g,e,f,p))?d(g,r,t,m.elm,!1,n,h):ir(l=e[u],g)?(E(l,g,r,n,h),e[u]=void 0,S&&c.insertBefore(t,l.elm,m.elm)):d(g,r,t,m.elm,!1,n,h),g=n[++h]);f>p?b(t,i(n[y+1])?null:n[y+1].elm,n,h,y,r):h>y&&T(0,e,f,p)}(f,v,y,n,l):a(y)?(a(t.text)&&c.setTextContent(f,""),b(f,null,y,0,y.length-1,n)):a(v)?T(0,v,0,v.length-1):a(t.text)&&c.setTextContent(f,""):t.text!==e.text&&c.setTextContent(f,e.text),a(p)&&a(h=p.hook)&&a(h=h.postpatch)&&h(t,e)}}}function x(t,e,n){if(o(n)&&a(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var C=v("attrs,class,staticClass,staticStyle,key");function k(t,e,n,r){var i,s=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,o(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(u)&&(a(i=u.hook)&&a(i=i.init)&&i(e,!0),a(i=e.componentInstance)))return f(e,n),!0;if(a(s)){if(a(c))if(t.hasChildNodes())if(a(i=u)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var l=!0,d=t.firstChild,h=0;h<c.length;h++){if(!d||!k(d,c[h],n,r)){l=!1;break}d=d.nextSibling}if(!l||d)return!1}else p(e,c,n);if(a(u)){var m=!1;for(var v in u)if(!C(v)){m=!0,y(e,n);break}!m&&u.class&&re(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!i(e)){var u,l=!1,f=[];if(i(t))l=!0,d(e,f);else{var h=a(t.nodeType);if(!h&&ir(t,e))E(t,e,f,null,null,s);else{if(h){if(1===t.nodeType&&t.hasAttribute(N)&&(t.removeAttribute(N),n=!0),o(n)&&k(t,e,f))return x(e,f,!0),t;u=t,t=new mt(c.tagName(u).toLowerCase(),{},[],void 0,u)}var p=t.elm,v=c.parentNode(p);if(d(e,f,p._leaveCb?null:v,c.nextSibling(p)),a(e.parent))for(var y=e.parent,g=m(e);y;){for(var b=0;b<r.destroy.length;++b)r.destroy[b](y);if(y.elm=e.elm,g){for(var S=0;S<r.create.length;++S)r.create[S](nr,y);var _=y.data.hook.insert;if(_.merged)for(var C=1;C<_.fns.length;C++)_.fns[C]()}else er(y);y=y.parent}a(v)?T(0,[t],0,0):a(t.tag)&&w(t)}}return x(e,f,l),e.elm}a(t)&&w(t)}}({nodeOps:Zn,modules:[vr,br,Ar,Ir,Vr,K?{create:pi,activate:pi,remove:function(t,e){!0!==t.data.show?di(t,e):e()}}:{}].concat(fr)});Q&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&_i(t,"input")});var vi={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?se(n,"postpatch",function(){vi.componentUpdated(t,e,n)}):yi(t,e,n.context),t._vOptions=[].map.call(t.options,wi)):("textarea"===n.tag||Jn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ti),t.addEventListener("compositionend",Si),t.addEventListener("change",Si),Q&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){yi(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,wi);if(i.some(function(t,e){return!L(t,r[e])}))(t.multiple?e.value.some(function(t){return bi(t,i)}):e.value!==e.oldValue&&bi(e.value,i))&&_i(t,"change")}}};function yi(t,e,n){gi(t,e,n),(Y||J)&&setTimeout(function(){gi(t,e,n)},0)}function gi(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var a,o,s=0,u=t.options.length;s<u;s++)if(o=t.options[s],i)a=U(r,wi(o))>-1,o.selected!==a&&(o.selected=a);else if(L(wi(o),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function bi(t,e){return e.every(function(e){return!L(e,t)})}function wi(t){return"_value"in t?t._value:t.value}function Ti(t){t.target.composing=!0}function Si(t){t.target.composing&&(t.target.composing=!1,_i(t.target,"input"))}function _i(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Ei(t){return!t.componentInstance||t.data&&t.data.transition?t:Ei(t.componentInstance._vnode)}var xi={model:vi,show:{bind:function(t,e,n){var r=e.value,i=(n=Ei(n)).data&&n.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,li(n,function(){t.style.display=a})):t.style.display=r?a:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Ei(n)).data&&n.data.transition?(n.data.show=!0,r?li(n,function(){t.style.display=t.__vOriginalDisplay}):di(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},Ci={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ki(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ki(Ke(e.children)):t}function Ai(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var a in i)e[_(a)]=i[a];return e}function Pi(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Mi=function(t){return t.tag||ze(t)},Ii=function(t){return"show"===t.name},Di={name:"transition",props:Ci,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Mi)).length){0;var r=this.mode;0;var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var a=ki(i);if(!a)return i;if(this._leaving)return Pi(t,i);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var u=(a.data||(a.data={})).transition=Ai(this),c=this._vnode,l=ki(c);if(a.data.directives&&a.data.directives.some(Ii)&&(a.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(a,l)&&!ze(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var d=l.data.transition=P({},u);if("out-in"===r)return this._leaving=!0,se(d,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Pi(t,i);if("in-out"===r){if(ze(a))return c;var f,h=function(){f()};se(u,"afterEnter",h),se(u,"enterCancelled",h),se(d,"delayLeave",function(t){f=t})}}return i}}},Oi=P({tag:String,moveClass:String},Ci);function Li(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ui(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ri(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+r+"px,"+i+"px)",a.transitionDuration="0s"}}delete Oi.mode;var Ni={Transition:Di,TransitionGroup:{props:Oi,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Je(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=Ai(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),n[u.key]=u,(u.data||(u.data={})).transition=o;else;}if(r){for(var c=[],l=[],d=0;d<r.length;d++){var f=r[d];f.data.transition=o,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):l.push(f)}this.kept=t(e,null,c),this.removed=l}return t(e,null,a)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Li),t.forEach(Ui),t.forEach(Ri),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;ri(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Jr,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Jr,t),n._moveCb=null,ii(n,e))})}}))},methods:{hasMove:function(t,e){if(!Wr)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){zr(n,t)}),qr(n,e),n.style.display="none",this.$el.appendChild(n);var r=si(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};xn.config.mustUseProp=function(t,e,n){return"value"===n&&Ln(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},xn.config.isReservedTag=Yn,xn.config.isReservedAttr=On,xn.config.getTagNamespace=function(t){return Xn(t)?"svg":"math"===t?"math":void 0},xn.config.isUnknownElement=function(t){if(!K)return!0;if(Yn(t))return!1;if(t=t.toLowerCase(),null!=Qn[t])return Qn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Qn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Qn[t]=/HTMLUnknownElement/.test(e.toString())},P(xn.options.directives,xi),P(xn.options.components,Ni),xn.prototype.__patch__=K?mi:I,xn.prototype.$mount=function(t,e){return function(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=yt),en(t,"beforeMount"),r=function(){t._update(t._render(),n)},new pn(t,r,I,{before:function(){t._isMounted&&!t._isDestroyed&&en(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,en(t,"mounted")),t}(this,t=t&&K?function(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}(t):void 0,e)},K&&setTimeout(function(){$.devtools&&at&&at.emit("init",xn)},0);var ji=xn;
/*!
  * vue-router v3.0.6
  * (c) 2019 Evan You
  * @license MIT
  */function Bi(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function $i(t,e){for(var n in e)t[n]=e[n];return t}var Fi={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,i=e.parent,a=e.data;a.routerView=!0;for(var o=i.$createElement,s=n.name,u=i.$route,c=i._routerViewCache||(i._routerViewCache={}),l=0,d=!1;i&&i._routerRoot!==i;){var f=i.$vnode&&i.$vnode.data;f&&(f.routerView&&l++,f.keepAlive&&i._inactive&&(d=!0)),i=i.$parent}if(a.routerViewDepth=l,d)return o(c[s],a,r);var h=u.matched[l];if(!h)return c[s]=null,o();var p=c[s]=h.components[s];a.registerRouteInstance=function(t,e){var n=h.instances[s];(e&&n!==t||!e&&n===t)&&(h.instances[s]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){h.instances[s]=e.componentInstance},a.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==h.instances[s]&&(h.instances[s]=t.componentInstance)};var m=a.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(u,h.props&&h.props[s]);if(m){m=a.props=$i({},m);var v=a.attrs=a.attrs||{};for(var y in m)p.props&&y in p.props||(v[y]=m[y],delete m[y])}return o(p,a,r)}};var Vi=/[!'()*]/g,Hi=function(t){return"%"+t.charCodeAt(0).toString(16)},qi=/%2C/g,zi=function(t){return encodeURIComponent(t).replace(Vi,Hi).replace(qi,",")},Ki=decodeURIComponent;function Gi(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),r=Ki(n.shift()),i=n.length>0?Ki(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]}),e):e}function Wi(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return zi(e);if(Array.isArray(n)){var r=[];return n.forEach(function(t){void 0!==t&&(null===t?r.push(zi(e)):r.push(zi(e)+"="+zi(t)))}),r.join("&")}return zi(e)+"="+zi(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var Xi=/\/?$/;function Yi(t,e,n,r){var i=r&&r.options.stringifyQuery,a=e.query||{};try{a=Qi(a)}catch(t){}var o={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:ta(e,i),matched:t?Zi(t):[]};return n&&(o.redirectedFrom=ta(n,i)),Object.freeze(o)}function Qi(t){if(Array.isArray(t))return t.map(Qi);if(t&&"object"==typeof t){var e={};for(var n in t)e[n]=Qi(t[n]);return e}return t}var Ji=Yi(null,{path:"/"});function Zi(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function ta(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;return void 0===i&&(i=""),(n||"/")+(e||Wi)(r)+i}function ea(t,e){return e===Ji?t===e:!!e&&(t.path&&e.path?t.path.replace(Xi,"")===e.path.replace(Xi,"")&&t.hash===e.hash&&na(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&na(t.query,e.query)&&na(t.params,e.params)))}function na(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(n){var r=t[n],i=e[n];return"object"==typeof r&&"object"==typeof i?na(r,i):String(r)===String(i)})}var ra,ia=[String,Object],aa=[String,Array],oa={name:"RouterLink",props:{to:{type:ia,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:aa,default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,i=n.resolve(this.to,r,this.append),a=i.location,o=i.route,s=i.href,u={},c=n.options.linkActiveClass,l=n.options.linkExactActiveClass,d=null==c?"router-link-active":c,f=null==l?"router-link-exact-active":l,h=null==this.activeClass?d:this.activeClass,p=null==this.exactActiveClass?f:this.exactActiveClass,m=a.path?Yi(null,a,null,n):o;u[p]=ea(r,m),u[h]=this.exact?u[p]:function(t,e){return 0===t.path.replace(Xi,"/").indexOf(e.path.replace(Xi,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var n in e)if(!(n in t))return!1;return!0}(t.query,e.query)}(r,m);var v=function(t){sa(t)&&(e.replace?n.replace(a):n.push(a))},y={click:sa};Array.isArray(this.event)?this.event.forEach(function(t){y[t]=v}):y[this.event]=v;var g={class:u};if("a"===this.tag)g.on=y,g.attrs={href:s};else{var b=function t(e){if(e)for(var n,r=0;r<e.length;r++){if("a"===(n=e[r]).tag)return n;if(n.children&&(n=t(n.children)))return n}}(this.$slots.default);if(b)b.isStatic=!1,(b.data=$i({},b.data)).on=y,(b.data.attrs=$i({},b.data.attrs)).href=s;else g.on=y}return t(this.tag,g,this.$slots.default)}};function sa(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}var ua="undefined"!=typeof window;function ca(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var a=t.replace(/^\//,"").split("/"),o=0;o<a.length;o++){var s=a[o];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function la(t){return t.replace(/\/\//g,"/")}var da=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},fa=Ca,ha=ga,pa=function(t,e){return wa(ga(t,e))},ma=wa,va=xa,ya=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ga(t,e){for(var n,r=[],i=0,a=0,o="",s=e&&e.delimiter||"/";null!=(n=ya.exec(t));){var u=n[0],c=n[1],l=n.index;if(o+=t.slice(a,l),a=l+u.length,c)o+=c[1];else{var d=t[a],f=n[2],h=n[3],p=n[4],m=n[5],v=n[6],y=n[7];o&&(r.push(o),o="");var g=null!=f&&null!=d&&d!==f,b="+"===v||"*"===v,w="?"===v||"*"===v,T=n[2]||s,S=p||m;r.push({name:h||i++,prefix:f||"",delimiter:T,optional:w,repeat:b,partial:g,asterisk:!!y,pattern:S?Sa(S):y?".*":"[^"+Ta(T)+"]+?"})}}return a<t.length&&(o+=t.substr(a)),o&&r.push(o),r}function ba(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function wa(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var i="",a=n||{},o=(r||{}).pretty?ba:encodeURIComponent,s=0;s<t.length;s++){var u=t[s];if("string"!=typeof u){var c,l=a[u.name];if(null==l){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(da(l)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var d=0;d<l.length;d++){if(c=o(l[d]),!e[s].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===d?u.prefix:u.delimiter)+c}}else{if(c=u.asterisk?encodeURI(l).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):o(l),!e[s].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+c+'"');i+=u.prefix+c}}else i+=u}return i}}function Ta(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Sa(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function _a(t,e){return t.keys=e,t}function Ea(t){return t.sensitive?"":"i"}function xa(t,e,n){da(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,a="",o=0;o<t.length;o++){var s=t[o];if("string"==typeof s)a+=Ta(s);else{var u=Ta(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+u+c+")*"),a+=c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")"}}var l=Ta(n.delimiter||"/"),d=a.slice(-l.length)===l;return r||(a=(d?a.slice(0,-l.length):a)+"(?:"+l+"(?=$))?"),a+=i?"$":r&&d?"":"(?="+l+"|$)",_a(new RegExp("^"+a,Ea(n)),e)}function Ca(t,e,n){return da(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return _a(t,e)}(t,e):da(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(Ca(t[i],e,n).source);return _a(new RegExp("(?:"+r.join("|")+")",Ea(n)),e)}(t,e,n):function(t,e,n){return xa(ga(t,n),e,n)}(t,e,n)}fa.parse=ha,fa.compile=pa,fa.tokensToFunction=ma,fa.tokensToRegExp=va;var ka=Object.create(null);function Aa(t,e,n){e=e||{};try{var r=ka[t]||(ka[t]=fa.compile(t));return e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function Pa(t,e,n,r){var i=e||[],a=n||Object.create(null),o=r||Object.create(null);t.forEach(function(t){!function t(e,n,r,i,a,o){var s=i.path;var u=i.name;0;var c=i.pathToRegexpOptions||{};var l=function(t,e,n){n||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return la(e.path+"/"+t)}(s,a,c.strict);"boolean"==typeof i.caseSensitive&&(c.sensitive=i.caseSensitive);var d={path:l,regex:Ma(l,c),components:i.components||{default:i.component},instances:{},name:u,parent:a,matchAs:o,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach(function(i){var a=o?la(o+"/"+i.path):void 0;t(e,n,r,i,d,a)});if(void 0!==i.alias){var f=Array.isArray(i.alias)?i.alias:[i.alias];f.forEach(function(o){var s={path:o,children:i.children};t(e,n,r,s,a,d.path||"/")})}n[d.path]||(e.push(d.path),n[d.path]=d);u&&(r[u]||(r[u]=d))}(i,a,o,t)});for(var s=0,u=i.length;s<u;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),u--,s--);return{pathList:i,pathMap:a,nameMap:o}}function Ma(t,e){return fa(t,[],e)}function Ia(t,e,n,r){var i="string"==typeof t?{path:t}:t;if(i._normalized)return i;if(i.name)return $i({},t);if(!i.path&&i.params&&e){(i=$i({},i))._normalized=!0;var a=$i($i({},e.params),i.params);if(e.name)i.name=e.name,i.params=a;else if(e.matched.length){var o=e.matched[e.matched.length-1].path;i.path=Aa(o,a,e.path)}else 0;return i}var s=function(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}(i.path||""),u=e&&e.path||"/",c=s.path?ca(s.path,u,n||i.append):u,l=function(t,e,n){void 0===e&&(e={});var r,i=n||Gi;try{r=i(t||"")}catch(t){r={}}for(var a in e)r[a]=e[a];return r}(s.query,i.query,r&&r.options.parseQuery),d=i.hash||s.hash;return d&&"#"!==d.charAt(0)&&(d="#"+d),{_normalized:!0,path:c,query:l,hash:d}}function Da(t,e){var n=Pa(t),r=n.pathList,i=n.pathMap,a=n.nameMap;function o(t,n,o){var s=Ia(t,n,!1,e),c=s.name;if(c){var l=a[c];if(!l)return u(null,s);var d=l.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof s.params&&(s.params={}),n&&"object"==typeof n.params)for(var f in n.params)!(f in s.params)&&d.indexOf(f)>-1&&(s.params[f]=n.params[f]);if(l)return s.path=Aa(l.path,s.params),u(l,s,o)}else if(s.path){s.params={};for(var h=0;h<r.length;h++){var p=r[h],m=i[p];if(Oa(m.regex,s.path,s.params))return u(m,s,o)}}return u(null,s)}function s(t,n){var r=t.redirect,i="function"==typeof r?r(Yi(t,n,null,e)):r;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return u(null,n);var s=i,c=s.name,l=s.path,d=n.query,f=n.hash,h=n.params;if(d=s.hasOwnProperty("query")?s.query:d,f=s.hasOwnProperty("hash")?s.hash:f,h=s.hasOwnProperty("params")?s.params:h,c){a[c];return o({_normalized:!0,name:c,query:d,hash:f,params:h},void 0,n)}if(l){var p=function(t,e){return ca(t,e.parent?e.parent.path:"/",!0)}(l,t);return o({_normalized:!0,path:Aa(p,h),query:d,hash:f},void 0,n)}return u(null,n)}function u(t,n,r){return t&&t.redirect?s(t,r||n):t&&t.matchAs?function(t,e,n){var r=o({_normalized:!0,path:Aa(n,e.params)});if(r){var i=r.matched,a=i[i.length-1];return e.params=r.params,u(a,e)}return u(null,e)}(0,n,t.matchAs):Yi(t,n,r,e)}return{match:o,addRoutes:function(t){Pa(t,r,i,a)}}}function Oa(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,a=r.length;i<a;++i){var o=t.keys[i-1],s="string"==typeof r[i]?decodeURIComponent(r[i]):r[i];o&&(n[o.name||"pathMatch"]=s)}return!0}var La=Object.create(null);function Ua(){window.history.replaceState({key:Ga()},"",window.location.href.replace(window.location.origin,"")),window.addEventListener("popstate",function(t){var e;Na(),t.state&&t.state.key&&(e=t.state.key,za=e)})}function Ra(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick(function(){var a=function(){var t=Ga();if(t)return La[t]}(),o=i.call(t,e,n,r?a:null);o&&("function"==typeof o.then?o.then(function(t){Fa(t,a)}).catch(function(t){0}):Fa(o,a))})}}function Na(){var t=Ga();t&&(La[t]={x:window.pageXOffset,y:window.pageYOffset})}function ja(t){return $a(t.x)||$a(t.y)}function Ba(t){return{x:$a(t.x)?t.x:window.pageXOffset,y:$a(t.y)?t.y:window.pageYOffset}}function $a(t){return"number"==typeof t}function Fa(t,e){var n,r="object"==typeof t;if(r&&"string"==typeof t.selector){var i=document.querySelector(t.selector);if(i){var a=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-n.left-e.x,y:r.top-n.top-e.y}}(i,a={x:$a((n=a).x)?n.x:0,y:$a(n.y)?n.y:0})}else ja(t)&&(e=Ba(t))}else r&&ja(t)&&(e=Ba(t));e&&window.scrollTo(e.x,e.y)}var Va,Ha=ua&&((-1===(Va=window.navigator.userAgent).indexOf("Android 2.")&&-1===Va.indexOf("Android 4.0")||-1===Va.indexOf("Mobile Safari")||-1!==Va.indexOf("Chrome")||-1!==Va.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),qa=ua&&window.performance&&window.performance.now?window.performance:Date,za=Ka();function Ka(){return qa.now().toFixed(3)}function Ga(){return za}function Wa(t,e){Na();var n=window.history;try{e?n.replaceState({key:za},"",t):(za=Ka(),n.pushState({key:za},"",t))}catch(n){window.location[e?"replace":"assign"](t)}}function Xa(t){Wa(t,!0)}function Ya(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],function(){r(i+1)}):r(i+1)};r(0)}function Qa(t){return function(e,n,r){var i=!1,a=0,o=null;Ja(t,function(t,e,n,s){if("function"==typeof t&&void 0===t.cid){i=!0,a++;var u,c=eo(function(e){var i;((i=e).__esModule||to&&"Module"===i[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:ra.extend(e),n.components[s]=e,--a<=0&&r()}),l=eo(function(t){var e="Failed to resolve async component "+s+": "+t;o||(o=Bi(t)?t:new Error(e),r(o))});try{u=t(c,l)}catch(t){l(t)}if(u)if("function"==typeof u.then)u.then(c,l);else{var d=u.component;d&&"function"==typeof d.then&&d.then(c,l)}}}),i||r()}}function Ja(t,e){return Za(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function Za(t){return Array.prototype.concat.apply([],t)}var to="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function eo(t){var e=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var no=function(t,e){this.router=t,this.base=function(t){if(!t)if(ua){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=Ji,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function ro(t,e,n,r){var i=Ja(t,function(t,r,i,a){var o=function(t,e){"function"!=typeof t&&(t=ra.extend(t));return t.options[e]}(t,e);if(o)return Array.isArray(o)?o.map(function(t){return n(t,r,i,a)}):n(o,r,i,a)});return Za(r?i.reverse():i)}function io(t,e){if(e)return function(){return t.apply(e,arguments)}}no.prototype.listen=function(t){this.cb=t},no.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},no.prototype.onError=function(t){this.errorCbs.push(t)},no.prototype.transitionTo=function(t,e,n){var r=this,i=this.router.match(t,this.current);this.confirmTransition(i,function(){r.updateRoute(i),e&&e(i),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach(function(t){t(i)}))},function(t){n&&n(t),t&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach(function(e){e(t)}))})},no.prototype.confirmTransition=function(t,e,n){var r=this,i=this.current,a=function(t){Bi(t)&&(r.errorCbs.length?r.errorCbs.forEach(function(e){e(t)}):console.error(t)),n&&n(t)};if(ea(t,i)&&t.matched.length===i.matched.length)return this.ensureURL(),a();var o=function(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}(this.current.matched,t.matched),s=o.updated,u=o.deactivated,c=o.activated,l=[].concat(function(t){return ro(t,"beforeRouteLeave",io,!0)}(u),this.router.beforeHooks,function(t){return ro(t,"beforeRouteUpdate",io)}(s),c.map(function(t){return t.beforeEnter}),Qa(c));this.pending=t;var d=function(e,n){if(r.pending!==t)return a();try{e(t,i,function(t){!1===t||Bi(t)?(r.ensureURL(!0),a(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(a(),"object"==typeof t&&t.replace?r.replace(t):r.push(t)):n(t)})}catch(t){a(t)}};Ya(l,d,function(){var n=[];Ya(function(t,e,n){return ro(t,"beforeRouteEnter",function(t,r,i,a){return function(t,e,n,r,i){return function(a,o,s){return t(a,o,function(t){s(t),"function"==typeof t&&r.push(function(){!function t(e,n,r,i){n[r]&&!n[r]._isBeingDestroyed?e(n[r]):i()&&setTimeout(function(){t(e,n,r,i)},16)}(t,e.instances,n,i)})})}}(t,i,a,e,n)})}(c,n,function(){return r.current===t}).concat(r.router.resolveHooks),d,function(){if(r.pending!==t)return a();r.pending=null,e(t),r.router.app&&r.router.app.$nextTick(function(){n.forEach(function(t){t()})})})})},no.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(n){n&&n(t,e)})};var ao=function(t){function e(e,n){var r=this;t.call(this,e,n);var i=e.options.scrollBehavior,a=Ha&&i;a&&Ua();var o=oo(this.base);window.addEventListener("popstate",function(t){var n=r.current,i=oo(r.base);r.current===Ji&&i===o||r.transitionTo(i,function(t){a&&Ra(e,t,n,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,function(t){Wa(la(r.base+t.fullPath)),Ra(r.router,t,i,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,function(t){Xa(la(r.base+t.fullPath)),Ra(r.router,t,i,!1),e&&e(t)},n)},e.prototype.ensureURL=function(t){if(oo(this.base)!==this.current.fullPath){var e=la(this.base+this.current.fullPath);t?Wa(e):Xa(e)}},e.prototype.getCurrentLocation=function(){return oo(this.base)},e}(no);function oo(t){var e=decodeURI(window.location.pathname);return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var so=function(t){function e(e,n,r){t.call(this,e,n),r&&function(t){var e=oo(t);if(!/^\/#/.test(e))return window.location.replace(la(t+"/#"+e)),!0}(this.base)||uo()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router.options.scrollBehavior,n=Ha&&e;n&&Ua(),window.addEventListener(Ha?"popstate":"hashchange",function(){var e=t.current;uo()&&t.transitionTo(co(),function(r){n&&Ra(t.router,r,e,!0),Ha||ho(r.fullPath)})})},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,function(t){fo(t.fullPath),Ra(r.router,t,i,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,function(t){ho(t.fullPath),Ra(r.router,t,i,!1),e&&e(t)},n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;co()!==e&&(t?fo(e):ho(e))},e.prototype.getCurrentLocation=function(){return co()},e}(no);function uo(){var t=co();return"/"===t.charAt(0)||(ho("/"+t),!1)}function co(){var t=window.location.href,e=t.indexOf("#");if(e<0)return"";var n=(t=t.slice(e+1)).indexOf("?");if(n<0){var r=t.indexOf("#");t=r>-1?decodeURI(t.slice(0,r))+t.slice(r):decodeURI(t)}else n>-1&&(t=decodeURI(t.slice(0,n))+t.slice(n));return t}function lo(t){var e=window.location.href,n=e.indexOf("#");return(n>=0?e.slice(0,n):e)+"#"+t}function fo(t){Ha?Wa(lo(t)):window.location.hash=t}function ho(t){Ha?Xa(lo(t)):window.location.replace(lo(t))}var po=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)},n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,function(){e.index=n,e.updateRoute(r)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(no),mo=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Da(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Ha&&!1!==t.fallback,this.fallback&&(e="hash"),ua||(e="abstract"),this.mode=e,e){case"history":this.history=new ao(this,t.base);break;case"hash":this.history=new so(this,t.base,this.fallback);break;case"abstract":this.history=new po(this,t.base);break;default:0}},vo={currentRoute:{configurable:!0}};function yo(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}mo.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},vo.currentRoute.get=function(){return this.history&&this.history.current},mo.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null)}),!this.app){this.app=t;var n=this.history;if(n instanceof ao)n.transitionTo(n.getCurrentLocation());else if(n instanceof so){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},mo.prototype.beforeEach=function(t){return yo(this.beforeHooks,t)},mo.prototype.beforeResolve=function(t){return yo(this.resolveHooks,t)},mo.prototype.afterEach=function(t){return yo(this.afterHooks,t)},mo.prototype.onReady=function(t,e){this.history.onReady(t,e)},mo.prototype.onError=function(t){this.history.onError(t)},mo.prototype.push=function(t,e,n){this.history.push(t,e,n)},mo.prototype.replace=function(t,e,n){this.history.replace(t,e,n)},mo.prototype.go=function(t){this.history.go(t)},mo.prototype.back=function(){this.go(-1)},mo.prototype.forward=function(){this.go(1)},mo.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},mo.prototype.resolve=function(t,e,n){var r=Ia(t,e=e||this.history.current,n,this),i=this.match(r,e),a=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:function(t,e,n){var r="hash"===n?"#"+e:e;return t?la(t+"/"+r):r}(this.history.base,a,this.mode),normalizedTo:r,resolved:i}},mo.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==Ji&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(mo.prototype,vo),mo.install=function t(e){if(!t.installed||ra!==e){t.installed=!0,ra=e;var n=function(t){return void 0!==t},r=function(t,e){var r=t.$options._parentVnode;n(r)&&n(r=r.data)&&n(r=r.registerRouteInstance)&&r(t,e)};e.mixin({beforeCreate:function(){n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",Fi),e.component("RouterLink",oa);var i=e.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},mo.version="3.0.6",ua&&window.Vue&&window.Vue.use(mo);var go=mo;var bo={NotFound:()=>n.e(4).then(n.bind(null,107)),Layout:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,106))},wo={"v-666d33b5":()=>n.e(5).then(n.bind(null,111)),"v-0a737c25":()=>n.e(6).then(n.bind(null,110)),"v-67a64e25":()=>n.e(7).then(n.bind(null,109)),"v-353297da":()=>n.e(8).then(n.bind(null,108))};function To(t){const e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}const So=/-(\w)/g,_o=To(t=>t.replace(So,(t,e)=>e?e.toUpperCase():"")),Eo=/\B([A-Z])/g,xo=To(t=>t.replace(Eo,"-$1").toLowerCase()),Co=To(t=>t.charAt(0).toUpperCase()+t.slice(1));function ko(t,e){if(!e)return;if(t(e))return t(e);return e.includes("-")?t(Co(_o(e))):t(Co(e))||t(xo(e))}const Ao=Object.assign({},bo,wo),Po=t=>Ao[t],Mo=t=>wo[t],Io=t=>bo[t],Do=t=>ji.component(t);function Oo(t){return ko(Mo,t)}function Lo(t){return ko(Io,t)}function Uo(t){return ko(Po,t)}function Ro(t){return ko(Do,t)}function No(...t){return Promise.all(t.filter(t=>t).map(async t=>{if(!Ro(t)&&Uo(t)){const e=await Uo(t)();ji.component(t,e.default)}}))}function jo(t,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[t]=e)}var Bo={created(){this.$ssrContext&&(this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.description=this.$page.description||this.$description)},mounted(){this.currentMetaTags=new Set,this.updateMeta()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const t=this.$page.frontmatter.meta||[],e=t.slice(0);0===t.filter(t=>"description"===t.name).length&&e.push({name:"description",content:this.$description});const n=document.querySelectorAll('meta[name="description"]');n.length&&n.forEach(t=>this.currentMetaTags.add(t)),this.currentMetaTags=new Set($o(e,this.currentMetaTags))}},watch:{$page(){this.updateMeta()}},beforeDestroy(){$o(null,this.currentMetaTags)}};function $o(t,e){if(e&&[...e].forEach(t=>{document.head.removeChild(t)}),t)return t.map(t=>{const e=document.createElement("meta");return Object.keys(t).forEach(n=>{e.setAttribute(n,t[n])}),document.head.appendChild(e),e})}var Fo=n(29),Vo={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:n.n(Fo)()(function(){this.setActiveHash()},300),setActiveHash(){const t=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>t.some(t=>t.hash===e.hash)),n=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=window.innerHeight+n;for(let t=0;t<e.length;t++){const a=e[t],o=e[t+1],s=0===t&&0===n||n>=a.parentElement.offsetTop+10&&(!o||n<o.parentElement.offsetTop-10),u=decodeURIComponent(this.$route.hash);if(s&&u!==decodeURIComponent(a.hash)){const n=a;if(i===r)for(let n=t+1;n<e.length;n++)if(u===decodeURIComponent(e[n].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(n.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},Ho=n(8),qo=n.n(Ho),zo=[Bo,Vo,{mounted(){qo.a.configure({showSpinner:!1}),this.$router.beforeEach((t,e,n)=>{t.path===e.path||ji.component(t.name)||qo.a.start(),n()}),this.$router.afterEach(()=>{qo.a.done(),this.isSidebarOpen=!1})}}],Ko={methods:{getLayout(){if(this.$page.path){const t=this.$page.frontmatter.layout;return t&&(this.$vuepress.getLayoutAsyncComponent(t)||this.$vuepress.getVueComponent(t))?t:"Layout"}return"NotFound"}},computed:{layout(){const t=this.getLayout();return jo("layout",t),ji.component(t)}}},Go=n(0),Wo=Object(Go.a)(Ko,function(){var t=this.$createElement;return(this._self._c||t)(this.layout,{tag:"component"})},[],!1,null,null,null).exports;!function(t,e,n){switch(e){case"components":t[e]||(t[e]={}),Object.assign(t[e],n);break;case"mixins":t[e]||(t[e]=[]),t[e].push(...n);break;default:throw new Error("Unknown option name.")}}(Wo,"mixins",zo);const Xo=[{name:"v-666d33b5",path:"/",component:Wo,beforeEnter:(t,e,n)=>{No("Layout","v-666d33b5").then(n)}},{path:"/index.html",redirect:"/"},{name:"v-0a737c25",path:"/components/",component:Wo,beforeEnter:(t,e,n)=>{No("Layout","v-0a737c25").then(n)}},{path:"/components/index.html",redirect:"/components/"},{name:"v-67a64e25",path:"/layout/",component:Wo,beforeEnter:(t,e,n)=>{No("Layout","v-67a64e25").then(n)}},{path:"/layout/index.html",redirect:"/layout/"},{name:"v-353297da",path:"/style-guide/",component:Wo,beforeEnter:(t,e,n)=>{No("Layout","v-353297da").then(n)}},{path:"/style-guide/index.html",redirect:"/style-guide/"},{path:"*",component:Wo}],Yo={title:"Vuesora",description:"A custom front-end framework and Vue component library for the Musora member's area",base:"/vuesora/",pages:[{title:"Usage Guide",frontmatter:{},regularPath:"/",relativePath:"README.md",key:"v-666d33b5",path:"/",headers:[{level:2,title:"Local Development Environment",slug:"local-development-environment"},{level:3,title:"Symlinking Vuesora",slug:"symlinking-vuesora"},{level:3,title:"Publishing Vuesora",slug:"publishing-vuesora"},{level:3,title:"Symlinking Bladesora",slug:"symlinking-bladesora"},{level:3,title:"Publishing Bladesora",slug:"publishing-bladesora"},{level:2,title:"Using Vuesora",slug:"using-vuesora"},{level:3,title:"Project Structure",slug:"project-structure"},{level:3,title:"Importing Modules",slug:"importing-modules"},{level:3,title:"Compiling Assets",slug:"compiling-assets"},{level:3,title:"Using Assets",slug:"using-assets"}],lastUpdated:"7/31/2019, 10:17:28 PM"},{title:"Components",frontmatter:{},regularPath:"/components/",relativePath:"components/README.md",key:"v-0a737c25",path:"/components/",headers:[{level:2,title:"Video Player",slug:"video-player"},{level:3,title:"Props",slug:"props"},{level:3,title:"Events",slug:"events"},{level:3,title:"Errors",slug:"errors"}],lastUpdated:"8/13/2019, 11:00:38 PM"},{title:"Layout & Styles",frontmatter:{},regularPath:"/layout/",relativePath:"layout/README.md",key:"v-67a64e25",path:"/layout/",headers:[{level:2,title:"Grid System",slug:"grid-system"},{level:3,title:"Breakpoints",slug:"breakpoints"},{level:3,title:"Usage",slug:"usage"},{level:3,title:"Visibility",slug:"visibility"},{level:2,title:"Spacing",slug:"spacing"},{level:2,title:"Typography",slug:"typography"},{level:3,title:"Fonts",slug:"fonts"},{level:3,title:"Font Sizes",slug:"font-sizes"},{level:3,title:"Helper Classes",slug:"helper-classes"}],lastUpdated:"7/10/2019, 8:15:21 PM"},{title:"Style Guide",frontmatter:{},regularPath:"/style-guide/",relativePath:"style-guide/README.md",key:"v-353297da",path:"/style-guide/",headers:[{level:2,title:"Javascript / Vue",slug:"javascript-vue"},{level:3,title:"PHPStorm/Webstorm",slug:"phpstorm-webstorm"},{level:2,title:"CSS/SASS",slug:"css-sass"}],lastUpdated:"8/1/2019, 9:06:32 PM"}],themeConfig:{logo:"/logo.png",displayAllHeaders:!0,repo:"railroadmedia/vuesora",nav:[{text:"Usage Guide",link:"/"},{text:"Layout & Styles",link:"/layout/"},{text:"Components",link:"/components/"},{text:"Style Guide",link:"/style-guide/"}],sidebar:"auto",lastUpdated:"Last Updated"}};var Qo=n(30),Jo=n(9),Zo=n.n(Jo),ts=n(2),es=n.n(ts),ns={flattenContent(t,e=!1){return t.map(t=>this.flattenContentObject(t,e))},flattenContentObject(t,e=!1){return this.flattenContentObjectFields(t,e)},flattenContentObjectFields(t,e){let n=t;return n.original=rs.createObjectCopy(t),n.permissions=t.permissions?t.permissions.map(t=>t.permission_id):null,n.duplicates=[],n.fields.forEach(t=>{this.createOrPushArray(t.key,t.value,t.id,t.position,n,e,"field")}),n.data.forEach(t=>{this.createOrPushArray(t.key,t.value,t.id,t.position,n,e,"data")}),n},flattenFilters(t){let e=Object.keys(t),n={artist:[],bpm:[],difficulty:[],instructor:[],style:[],topic:[],key:[],key_pitch_type:[]};return e.forEach(e=>{if("instructor"===e){this.flattenContent(t[e],!0).forEach(t=>{n[e].push({key:t.name,value:t.id})})}else for(let r=0;r<t[e].length;r++){let i;null!=n[e]&&((i=n[e].filter(n=>n.value===t[e][r]).length>0)||n[e].push({key:t[e][r],value:t[e][r]}))}}),n},createOrPushArray(t,e,n,r,i,a,o){let s=a?e:{value:e,id:n,position:r};"object"==typeof e&&null!==e&&(e.fields.forEach(e=>{this.createOrPushArray(e.key,e.value,e.id,e.position,s,"instructor"===t,"field")}),e.data.forEach(e=>{this.createOrPushArray(e.key,e.value,e.id,e.position,s,"instructor"===t,"data")})),null==i[t]&&this.targetKeyShouldBeArray(t)?i[t]=[s]:Array.isArray(i[t])?i[t]=[...i[t],s]:null==i[t]?i[t]=s:Array.isArray(i.duplicates)?i.duplicates.push({key:t,value:e,id:n,type:o}):i.duplicates=[{key:t,value:e,id:n,type:o}]},targetKeyShouldBeArray:t=>-1!==["instructor","tag","topic","resource_url","resource_name","sheet_music_image_url","chapter_description","chapter_timecode","key_pitch_type","style"].indexOf(t),topLevelContentTypes:()=>[{type:"course",label:"Course",icon:"icon-courses",brands:["drumeo","guitareo","pianote","recordeo"]},{type:"unit",label:"Unit",icon:"icon-courses",brands:["pianote"]},{type:"song",label:"Song",icon:"icon-songs",brands:["drumeo","guitareo","pianote","recordeo"]},{type:"play-along",label:"Play-Along",icon:"icon-play-alongs",brands:["drumeo","guitareo","pianote"]},{type:"student-focus",label:"Student Focus",icon:"icon-student-focus",brands:["drumeo"]},{type:"recording",label:"Recording",icon:"icon-library",brands:["drumeo","guitareo","pianote","recordeo"]},{type:"learning-path",label:"Learning Path",icon:"icon-learning-paths",brands:["drumeo","guitareo","pianote","recordeo"]},{type:"pack",label:"Pack",icon:"icon-packs",brands:["drumeo","pianote"]},{type:"semester-pack",label:"Semester Pack",icon:"icon-packs",brands:["drumeo","guitareo"]},{type:"rudiment",label:"Rudiment",icon:"icon-drums",brands:["drumeo"]},{type:"chord-and-scale",label:"Chords & Scales",icon:"icon-chord-and-scale",brands:["guitareo","pianote"]},{type:"question-and-answer",label:"Q & A",icon:"icon-student-focus",brands:["drumeo","recordeo","pianote"]},{type:"student-review",label:"Student Review",icon:"icon-student-focus",brands:["recordeo","pianote"]},{type:"gear-guides",label:"Gear Guides",icon:"icon-shows",brands:["drumeo"]},{type:"challenges",label:"Challenges",icon:"icon-shows",brands:["drumeo"]},{type:"boot-camps",label:"Boot Camps",icon:"icon-shows",brands:["drumeo","pianote"]},{type:"quick-tips",label:"Quick Tips",icon:"icon-shows",brands:["drumeo","pianote"]},{type:"podcasts",label:"Podcasts",icon:"icon-shows",brands:["drumeo"]},{type:"on-the-road",label:"On the Road",icon:"icon-shows",brands:["drumeo"]},{type:"behind-the-scenes",label:"Behind the Scenes",icon:"icon-shows",brands:["drumeo"]},{type:"study-the-greats",label:"Study the Greats",icon:"icon-shows",brands:["drumeo"]},{type:"live",label:"Live",icon:"icon-shows",brands:["drumeo"]},{type:"solos",label:"Solos",icon:"icon-shows",brands:["drumeo"]},{type:"performances",label:"Performances",icon:"icon-shows",brands:["drumeo"]},{type:"exploring-beats",label:"Exploring Beats",icon:"icon-shows",brands:["drumeo"]},{type:"sonor-drums",label:"Sonor Drums",icon:"icon-shows",brands:["drumeo"]},{type:"paiste-cymbals",label:"Paiste Cymbals",icon:"icon-shows",brands:["drumeo"]},{type:"rhythms-from-another-planet",label:"Rhythms from Another Planet",icon:"icon-shows",brands:["drumeo"]},{type:"25-days-of-christmas",label:"25 Days of Christmas",icon:"icon-shows",brands:["drumeo"]},{type:"namm-2019",label:"NAMM 2019",icon:"icon-shows",brands:["drumeo"]},{type:"tama-drums",label:"Tama Drums",icon:"icon-shows",brands:["drumeo"]},{type:"student-collaborations",label:"Student Collaborations",icon:"icon-shows",brands:["drumeo"]},{type:"camp-drumeo-ah",label:"Camp Drumeo-Ah",icon:"icon-shows",brands:["drumeo"]},{type:"entertainment",label:"Entertainment",icon:"icon-shows",brands:["guitareo"]},{type:"assignment",label:"Assignment",icon:"icon-metronome",brands:["drumeo","pianote","guitareo"]},{type:"instructor",label:"Instructor",icon:"wc",brands:["drumeo","pianote","guitareo","recordeo"]}],getTypesWithChildrenByBrand(t="drumeo"){const e=["course","unit","learning-path","pack","pack-bundle","semester-pack"];return{drumeo:e,guitareo:[...e,"play-along","song"],pianote:[...e,"song"],recordeo:e}[t]||[]},getParentContentType:t=>({"course-part":"course","song-part":"song","play-along-part":"play-along","pack-bundle":"pack","pack-bundle-lesson":"pack-bundle","semester-pack-lesson":"semester-pack","unit-part":"unit"})[t],getBrandSpecificTopLevelContentTypes(t){return this.topLevelContentTypes().filter(e=>"assignment"!==e.type&&-1!==e.brands.indexOf(t))},getContentTypeIcon(t){t=t.replace(/-part/g,"").replace(/-bundle/g,"").replace(/-lesson/g,"");const e=this.topLevelContentTypes().filter(e=>e.type===t)[0];return e?e.icon:void 0},shows:()=>["recording","gear-guides","challenges","boot-camps","quick-tips","podcasts","on-the-road","behind-the-scenes","study-the-greats","live","solos","performances","exploring-beats","sonor-drums","paiste-cymbals","25-days-of-christmas","rhythms-from-another-planet","namm-2019","entertainment","tama-drums","question-and-answer","student-collaborations","camp-drumeo-ah"],studentFocus:()=>["quick-tips","student-review","question-and-answer","boot-camps"]},rs={createObjectCopy:t=>JSON.parse(JSON.stringify(t)),dynamicSort:(t,e)=>t.sort((t,n)=>{if("string"==typeof t[e]){const r=t[e].toLowerCase(),i=n[e].toLowerCase();return r>i?1:r===i?0:-1}return t[e]-n[e]}),isEmpty:t=>0===Object.keys(t).length&&t.constructor===Object,toCapitalCase:t=>t.replace(/\b\w/g,t=>t.toUpperCase()),range:(t,e=0)=>[...Array(t).keys()].map(t=>t+e),currencies:()=>["CAD","USD","GBP","EUR"],countries:()=>[{name:"United States",code:"US"},{name:"Canada",code:"CA"},{name:"Australia",code:"AU"},{name:"Afghanistan",code:"AF"},{name:"Ã…land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People'S Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People'S Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}],provinces:()=>["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland And Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"],triggerEvent:(t,e,n)=>t.dispatchEvent(new CustomEvent(e,{detail:n})),abbreviateNumberValue:t=>t>=1e5&&t<1e6?Math.round(t/1e3)+"K":t>=1e6?Math.round(t/1e6).toFixed(1)+"M":t,formatNumbersWithCommas:t=>Number(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),getScrollBarWidth(){if("undefined"==typeof document)return 0;const t=document.body,e=document.createElement("div");let n,r=e.style;return r.position="absolute",r.top=r.left="-9999px",r.width=r.height="100px",r.overflow="scroll",t.appendChild(e),n=e.offsetWidth-e.clientWidth,t.removeChild(e),n},getThemeColorByContentType(t){let e=t.replace(/-lesson/g).replace(/-part/g).replace(/-bundle/g);return-1!==ns.shows().indexOf(e)?"show":e}},is=n(18),as=n.n(is),os={getElementPosition(t){let e=t;const n={x:0,y:0};for(;e;){if("BODY"===e.tagName){const t=e.scrollLeft||document.documentElement.scrollLeft,r=e.scrollTop||document.documentElement.scrollTop;n.x+=e.offsetLeft-t+e.clientLeft,n.y+=e.offsetTop-r+e.clientTop}else n.x+=e.offsetLeft-e.scrollLeft+e.clientLeft,n.y+=e.offsetTop-e.scrollTop+e.clientTop;e=e.offsetParent}return n},getMousePosition(t,e){const n=t.clientX||(t.touches[0]?t.touches[0].clientX:t.changedTouches[0].clientX),r=t.clientY||(t.touches[0]?t.touches[0].clientY:t.changedTouches[0].clientY),i=this.getElementPosition(e);return{x:n-i.x,y:r-i.y}},getTimeRailMouseEventOffsetPercentage(t,e){const n=e-14;let r=t-7;return r<0?r=0:r>n&&(r=n),r/n},parseTime(t){const e=Number(t||0),n={hours:Math.floor(e/3600),minutes:Math.floor(e%3600/60),seconds:Math.floor(e%3600%60)};let r="";function i(t){return t>-1&&t<10?`0${t}`:t}return Object.keys(n).forEach(t=>{(n[t]>0||"hours"!==t)&&(r+="seconds"!==t?"minutes"===t?`${i(n[t])}:`:`${n[t]}:`:i(n[t]))}),r},getQualityLabelByHeight:t=>2160===t?"4k":`${t}p`,isIE:()=>null!=navigator.userAgent.match(/MSIE|Trident/),isSafari:()=>-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),isMobile(){const t=/iPhone/i,e=/iPod/i,n=/iPad/i,r=/\bAndroid(?:.+)Mobile\b/i,i=/Android/i,a=/\bAndroid(?:.+)SD4930UR\b/i,o=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,s=/Windows Phone/i,u=/\bWindows(?:.+)ARM\b/i,c=/BlackBerry/i,l=/BB10/i,d=/Opera Mini/i,f=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/\Mobile(?:.+)Firefox\b/i;let p="undefined"!=typeof navigator?navigator.userAgent:"",m=p.split("[FBAN");function v(t,e){return t.test(e)}void 0!==m[1]&&(p=m[0]),void 0!==(m=p.split("Twitter"))[1]&&(p=m[0]);const y={apple:{phone:v(t,p)&&!v(s,p),ipod:v(e,p),tablet:!v(t,p)&&v(n,p)&&!v(s,p),device:(v(t,p)||v(e,p)||v(n,p))&&!v(s,p)},amazon:{phone:v(a,p),tablet:!v(a,p)&&v(o,p),device:v(a,p)||v(o,p)},android:{phone:!v(s,p)&&v(a,p)||!v(s,p)&&v(r,p),tablet:!v(s,p)&&!v(a,p)&&!v(r,p)&&(v(o,p)||v(i,p)),device:!v(s,p)&&(v(a,p)||v(o,p)||v(r,p)||v(i,p))||v(/\bokhttp\b/i,p)},windows:{phone:v(s,p),tablet:v(u,p),device:v(s,p)||v(u,p)},other:{blackberry:v(c,p),blackberry10:v(l,p),opera:v(d,p),firefox:v(h,p),chrome:v(f,p),device:v(c,p)||v(l,p)||v(d,p)||v(h,p)||v(f,p)}};return y.any=y.apple.device||y.android.device||y.windows.device||y.other.device,y.phone=y.apple.phone||y.android.phone||y.windows.phone,y.tablet=y.apple.tablet||y.android.tablet||y.windows.tablet,y},parseTimeRangesAsArray(t){const e=[];if(t.length)for(let n=0;n<t.length;n+=1)e.push({start:t.start(n),end:t.end(n)});return e}};class ss{constructor(t,e){this.Scope=t||"tab_and_origin_scoped",this.Receiver=e||"CC1AD845",this.Events=[],this.Available=!1,this.Connected=!1,this.Player=null,this.Controller=null,this.Session=null,this.Template={content:null,poster:null,title:null,description:null,subtitles:[],time:0,duration:0,volume:.3,muted:!1,paused:!1,state:"DISCONNECTED"},this.Media=this.Template,ss.loadChromeCastAPI().then(t=>{t&&this.Init()})}on(t,e){this.Events[t]=e}cast(t,e){if(!t.content)return e&&e("No media content specified."),this.TriggerEvent("error","No media content specified.");for(const e in t)t.hasOwnProperty(e)&&(this.Media[e]=t[e]);cast.framework.CastContext.getInstance().requestSession().then(()=>{e&&e(null)},t=>{e&&e(t),this.TriggerEvent("error",`ChromeCastPlugin.cast(): ${t}`)})}seek(t){if(!this.Connected||!this.Player.canSeek)return this.TriggerEvent("error",".seek(): Not connected or can't seek");this.Player.currentTime=t,this.Controller.seek()}volume(t){if(!this.Connected||!this.Player.canControlVolume)return this.TriggerEvent("error",".volume(): Not connected or can't control volume");this.Player.volumeLevel=t/100,this.Controller.setVolumeLevel()}playOrPause(){if(!this.Connected||!this.Player.canPause)return this.TriggerEvent("error",".playOrPause(): Not connected or can't pause or play");this.Controller.playOrPause()}muteOrUnmute(){if(!this.Connected||!this.Player.canControlVolume)return this.TriggerEvent("error",".muteOrUnmute(): Not connected or can't control volume");this.Controller.muteOrUnmute()}changeSubtitle(t){if(!this.Connected)return this.TriggerEvent("error",".changeSubtitle(): Not connected");const e=null!==t?[t]:[],n=new chrome.cast.media.EditTracksInfoRequest(e);cast.framework.CastContext.getInstance().b.getSessionObj().media[0].editTracksInfo(n,null,null);for(let e=0;e<this.Media.subtitles.length;e++)this.Media.subtitles[e].active=!1,null!=t&&(this.Media.subtitles[e].active=e===t)}disconnect(){cast.framework.CastContext.getInstance().endCurrentSession()}TriggerEvent(t,e){if(void 0!==this.Events[t]){if(void 0!==e)return this.Events[t](e);this.Events[t]()}}Init(){cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:this.Receiver,autoJoinPolicy:this.Scope}),this.Player=new cast.framework.RemotePlayer,this.Controller=new cast.framework.RemotePlayerController(this.Player),this.Controller.addEventListener("isConnectedChanged",()=>{this.IsConnectedChanged()}),this.Controller.addEventListener("currentTimeChanged",()=>{this.Media.time=this.Player.currentTime,this.TriggerEvent("time",{progress:this.Controller.getSeekPosition(this.Player.currentTime,this.Player.duration)||0,time:this.Player.currentTime,duration:this.Controller.getFormattedTime(this.Player.duration)})}),this.Controller.addEventListener("durationChanged",()=>{this.Media.duration=this.Player.duration}),this.Controller.addEventListener("volumeLevelChanged",()=>{this.Media.volume=100*this.Player.volumeLevel,this.TriggerEvent("volume",this.Media.volume)}),this.Controller.addEventListener("isMutedChanged",()=>{this.Media.muted=this.Player.isMuted,this.TriggerEvent("muteOrUnmute",this.Media.muted)}),this.Controller.addEventListener("isPausedChanged",()=>{this.Media.paused=this.Player.isPaused,this.TriggerEvent("playOrPause",this.Media.paused)}),this.Controller.addEventListener("playerStateChanged",()=>{"IDLE"!==this.Player.playerState?this.Media.state=this.Player.playerState:(cast.framework.CastContext.getInstance().endCurrentSession(),this.Controller.stop(),this.Media=this.Template,this.Player.isMediaLoaded=!1,this.Media.state="DISCONNECTED",this.TriggerEvent("disconnect")),this.TriggerEvent("state",this.Media.state)}),this.Available=!0,this.TriggerEvent("available")}IsConnectedChanged(){setTimeout(()=>{if(this.Player.isConnected){if(this.Connected=!0,this.TriggerEvent("connected"),this.Player.isMediaLoaded&&this.Player.playerState){this.Media={content:this.Player.mediaInfo.contentId,poster:this.Player.imageUrl||null,title:this.Player.title||null,description:this.Player.mediaInfo.metadata.subtitle||null,subtitles:[],time:this.Player.currentTime,duration:this.Player.duration,volume:this.Player.volumeLevel,muted:this.Player.isMuted,state:this.Player.playerState};for(let t=0;t<this.Player.mediaInfo.tracks.length;t++)"TEXT"===this.Player.mediaInfo.tracks[t].type&&this.Media.subtitles.push({active:!1,label:this.Player.mediaInfo.tracks[t].name,srclang:this.Player.mediaInfo.tracks[t].language,src:this.Player.mediaInfo.tracks[t].trackContentId});const t=cast.framework.CastContext.getInstance().b.getSessionObj().media[0].activeTrackIds[0];t&&void 0!==this.Media.subtitles[t]&&(this.Media.subtitles[t].active=!0),this.TriggerEvent("media",this.Media)}else if(this.Session=cast.framework.CastContext.getInstance().getCurrentSession(),this.Session&&this.Media.content){const t=new chrome.cast.media.MediaInfo(this.Media.content);if(t.metadata=new chrome.cast.media.GenericMediaMetadata,this.Media.subtitles.length>0){t.textTrackStyle=new chrome.cast.media.TextTrackStyle,t.textTrackStyle.fontFamily="Arial",t.textTrackStyle.foregroundColor="#FFFFFF",t.textTrackStyle.backgroundColor="#00000000",t.textTrackStyle.fontScale="1.1",t.textTrackStyle.edgeColor="#00000099",t.textTrackStyle.edgeType=chrome.cast.media.TextTrackEdgeType.DROP_SHADOW;const e=[];for(let t=0;t<this.Media.subtitles.length;t++){const n=new chrome.cast.media.Track(t,chrome.cast.media.TrackType.TEXT);n.trackContentId=this.Media.subtitles[t].src,n.trackContentType="text/vtt",n.subtype=chrome.cast.media.TextTrackType.CAPTIONS,n.name=this.Media.subtitles[t].label,n.language=this.Media.subtitles[t].srclang,e.push(n)}t.tracks=e}this.Media.poster&&(t.metadata.images=[{url:this.Media.poster}]),this.Media.title&&(t.metadata.title=this.Media.title),this.Media.description&&(t.metadata.subtitle=this.Media.description);const e=new chrome.cast.media.LoadRequest(t);if(e.currentTime=this.Media.time,e.autoplay=!this.Media.paused,this.Media.subtitles.length>0)for(let t=0;t<this.Media.subtitles.length;t++)void 0!==this.Media.subtitles[t].active&&this.Media.subtitles[t].active&&(e.activeTrackIds=[t]);this.Session.loadMedia(e).then(()=>{this.TriggerEvent("media",this.Media)},t=>{this.TriggerEvent("error","ChromeCastPlugin.cast():",t)})}}else this.Connected=!1},0)}static loadChromeCastAPI(){return new Promise(t=>{if(!document.getElementById("chromeCastAPI")){const t=document.createElement("script");t.setAttribute("id","chromeCastAPI"),t.setAttribute("src","https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),document.body.appendChild(t)}window.__onGCastApiAvailable=e=>{t(e)}})}}var us={props:{contentType:{type:String,default:()=>"drumeo"},themeColor:{type:String,default:()=>"drumeo"},useThemeColor:{type:Boolean,default:()=>!0}},computed:{themeBgClass(){if(this.useThemeColor)return`bg-${this.themeColor}`;return`bg-${rs.getThemeColorByContentType(this.contentType)}`},themeTextClass(){if(this.useThemeColor)return`text-${this.themeColor}`;return`text-${rs.getThemeColorByContentType(this.contentType)}`},themeHoverBgClass(){if(this.useThemeColor)return`hover-bg-${this.themeColor}`;return`hover-bg-${rs.getThemeColorByContentType(this.contentType)}`},themeHoverTextClass(){if(this.useThemeColor)return`hover-text-${this.themeColor}`;return`hover-text-${rs.getThemeColorByContentType(this.contentType)}`}}},cs={name:"PlayerButton",mixins:[us],props:{active:{type:Boolean,default:()=>!1},disabled:{type:Boolean,default:()=>!1},title:{type:String,default:()=>""}}},ls=Object(Go.a)(cs,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-column player-button"},[e("button",{staticClass:"btn collapse-square",class:this.disabled?"":this.themeHoverTextClass,attrs:{title:this.title,disabled:this.disabled}},[e("span",{staticClass:"flat text-white",class:this.active?this.themeTextClass:""},[this._t("default")],2)])])},[],!1,null,null,null).exports,ds={name:"PlayerProgress",mixins:[us],props:{currentProgress:{type:Number,default:()=>0},currentTime:{type:Number,default:()=>0},playerWidth:{type:Number,default:()=>0},currentMouseX:{type:Number,default:()=>0},mousedown:{type:Boolean,default:()=>!1},totalDuration:{type:Number,default:()=>0},bufferedTimeRanges:{type:Array,default:()=>[]},chapters:{type:Array,default:()=>[]}},data:()=>({toolTipInterval:null}),computed:{progressTransforms(){if(this.mousedown){const t=os.getTimeRailMouseEventOffsetPercentage(this.currentMouseX,this.playerWidth);return{transform:`translateX(-${100-100*t}%)`,"-webkit-transform":`translateX(-${100-100*t}%)`}}return{transform:`translateX(-${100-this.currentProgress}%)`,"-webkit-transform":`translateX(-${100-this.currentProgress}%)`}},currentOffsetLeft:{cache:!1,get:()=>document.querySelector("[data-vjs-player]").parentElement.offsetLeft},toolTipOffset(){let t=this.currentMouseX;return t<25?t=25:t>this.playerWidth-25&&(t=this.playerWidth-25),{transform:`translateX(${t}px)`,"-webkit-transform":`translateX(${t}px)`}},toolTipValue(){const t=os.getTimeRailMouseEventOffsetPercentage(this.currentMouseX,this.playerWidth);return os.parseTime(t*this.totalDuration)}},methods:{getTimeRangePosition(t){const e=(this.playerWidth-14)/this.totalDuration;return{transform:`translateX(${t.start*e}px)`,"-webkit-transform":`translateX(${t.start*e}px)`,width:`${t.end*e-t.start*e}px`}},getChapterPosition(t){const e=(this.playerWidth-14)/this.totalDuration;return{transform:`translateX(${t.chapter_timecode*e}px)`,"-webkit-transform":`translateX(${t.chapter_timecode*e}px)`}}}},fs=Object(Go.a)(ds,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player-progress",on:{click:function(t){t.stopPropagation()},drag:function(t){t.preventDefault(),t.stopPropagation()},dragstart:function(t){t.preventDefault(),t.stopPropagation()},dragenter:function(t){t.preventDefault(),t.stopPropagation()}}},[n("div",{staticClass:"progress-tooltip tiny text-white",style:t.toolTipOffset},[t._v("\n        "+t._s(t.toolTipValue)+"\n    ")]),t._v(" "),n("div",{staticClass:"progress-rail"},[n("div",{staticClass:"progress-fill",class:t.themeBgClass,style:t.progressTransforms}),t._v(" "),t._l(t.bufferedTimeRanges,function(e,r){return n("div",{key:"range-"+r,staticClass:"buffer-fill bg-grey-3",style:t.getTimeRangePosition(e)})}),t._v(" "),t._l(t.chapters,function(e,r){return n("span",{key:"chapter-"+r,staticClass:"chapter-marker",class:e.chapter_timecode>t.currentTime?t.themeBgClass:"bg-white",style:t.getChapterPosition(e)})})],2)])},[],!1,null,null,null).exports,hs={name:"PlayerVolume",components:{"player-button":ls},mixins:[us],props:{currentVolume:{type:Number,default:()=>1}},data(){return{volumeCache:this.currentVolume}},computed:{volumeOffset(){return{width:`${100*this.currentVolume}%`}},volumeButtonClass(){return{"fa-volume-slash":0===this.currentVolume,"fa-volume-down":this.currentVolume>0&&this.currentVolume<.5,"fa-volume-up":this.currentVolume>=.5}}},methods:{emitVolumeChange(t){if(t)this.$emit("volumeChange",{volume:t.target.value});else{let t=100*this.volumeCache;this.currentVolume&&(t=0,this.volumeCache=this.currentVolume),this.$emit("volumeChange",{volume:t})}}}},ps=Object(Go.a)(hs,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-column volume"},[n("div",{staticClass:"flex flex-row align-v-center"},[n("div",{staticClass:"flex flex-column volume-rail-wrap"},[n("div",{staticClass:"volume-rail"},[n("div",{staticClass:"volume-fill",class:t.themeBgClass,style:t.volumeOffset,on:{click:function(t){t.stopPropagation()}}}),t._v(" "),n("input",{staticClass:"volume-range",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.currentVolume},on:{click:function(t){t.stopPropagation()},input:t.emitVolumeChange}})])]),t._v(" "),n("player-button",{attrs:{"theme-color":t.themeColor,active:0===t.currentVolume,title:0===t.currentVolume?"Unmute (M)":"Mute (M)"},nativeOn:{click:function(e){return e.stopPropagation(),t.emitVolumeChange(0)}}},[n("i",{staticClass:"fas",class:t.volumeButtonClass})])],1)])},[],!1,null,null,null).exports,ms={name:"PlayerSettings",mixins:[us],props:{videojsInstance:{type:Object,default:null},currentSource:{type:String,default:()=>""},currentPlaybackRate:{type:Number,default:()=>1},playbackQualities:{type:Array,default:()=>[]},isAbrEnabled:{type:Boolean,default:()=>!1},drawer:{type:Boolean,default:()=>!1}},data:()=>({qualitiesDropdown:!1,ratesDropdown:!1,playbackRates:[.5,.75,1,1.25,1.5,1.75,2]}),computed:{currentSourceLabel(){const t=this.playbackQualities.find(t=>!0===t.active);return this.isAbrEnabled?this.isSingleSource?"Auto":t?`Auto (${t.label})`:"Auto":t?t.label:"Auto"},isSingleSource(){return this.playbackQualities.length<=1}},watch:{drawer(){this.qualitiesDropdown=!1,this.ratesDropdown=!1}},mounted(){document.addEventListener("click",this.closeDrawer),this.$parent.$on("userinactive",this.closeDrawer)},beforeDestroy(){document.removeEventListener("click",this.closeDrawer)},methods:{openQualities(){this.isSingleSource||(this.qualitiesDropdown=!0,this.ratesDropdown=!1)},openRates(){this.qualitiesDropdown=!1,this.ratesDropdown=!0},setQuality(t){this.$emit("setQuality",t)},setRate(t){this.$emit("setRate",{rate:t})}}},vs=Object(Go.a)(ms,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-drawer bg-grey-5 text-white shadow overflow"},[n("div",{staticClass:"flex flex-column"},[n("div",{staticClass:"flex flex-row pa hover-bg-grey-4 bb-grey-4-1 pointer noselect",class:t.isSingleSource?"bg-grey-4":"",on:{click:function(e){return e.stopPropagation(),t.openQualities(e)}}},[t._m(0),t._v(" "),n("div",{staticClass:"flex flex-column align-v-center"},[n("p",{staticClass:"tiny dense font-bold text-right",class:t.themeTextClass},[t._v("\n                    "+t._s(t.currentSourceLabel)+"\n                ")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.qualitiesDropdown,expression:"qualitiesDropdown"}],staticClass:"flex flex-row bb-grey-4-1"},[n("div",{staticClass:"flex flex-column"},[n("ul",{staticClass:"list-style-none tiny text-right dense font-bold"},[t._l(t.playbackQualities,function(e){return n("li",{key:e.label,staticClass:"pa-1 hover-bg-grey-4 pointer",class:e.active&&!t.isAbrEnabled?t.themeTextClass:"",on:{click:function(n){return t.setQuality(e)}}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}),t._v(" "),n("li",{staticClass:"pa-1 hover-bg-grey-4 pointer",class:[t.isAbrEnabled?t.themeTextClass:""],on:{click:function(e){return t.setQuality("auto")}}},[t._v("\n                        Auto\n                    ")])],2)])]),t._v(" "),n("div",{staticClass:"flex flex-row pa hover-bg-grey-4 pointer noselect",on:{click:function(e){return e.stopPropagation(),t.openRates(e)}}},[t._m(1),t._v(" "),n("div",{staticClass:"flex flex-column align-v-center"},[n("p",{staticClass:"tiny dense font-bold text-right",class:t.themeTextClass},[t._v("\n                    "+t._s(t.currentPlaybackRate)+"x\n                ")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ratesDropdown,expression:"ratesDropdown"}],staticClass:"flex flex-row bt-grey-4-1"},[n("div",{staticClass:"flex flex-column align-v-center"},[n("ul",{staticClass:"list-style-none tiny text-right dense font-bold"},t._l(t.playbackRates,function(e){return n("li",{key:"playbackRate-"+e,staticClass:"pa-1 hover-bg-grey-4 pointer",class:e===t.currentPlaybackRate?t.themeTextClass:"",on:{click:function(n){return t.setRate(e)}}},[t._v("\n                        "+t._s(e)+"x\n                    ")])}),0)])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-column"},[e("p",{staticClass:"body dense font-bold"},[this._v("\n                    Quality:\n                ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-column"},[e("p",{staticClass:"body dense font-bold"},[this._v("\n                    Playback Rate:\n                ")])])}],!1,null,null,null).exports,ys={name:"PlayerCaptions",mixins:[us],props:{themeColor:{type:String,default:()=>"drumeo"},captionOptions:{type:Array,default:()=>[]},currentCaptions:{type:String,default:()=>null},isCaptionsEnabled:{type:Boolean,default:()=>null}},computed:{noCaptions(){return null===this.currentCaptions}},methods:{isSelected(t){return!0===t.active&&this.isCaptionsEnabled},selectCaptionHandler(t){this.$emit("captionsSelected",t)}}},gs=Object(Go.a)(ys,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-drawer captions bg-grey-5 text-white shadow overflow"},[n("div",{staticClass:"flex flex-column"},[n("div",{staticClass:"flex flex-row"},[n("div",{staticClass:"flex flex-column"},[n("ul",{staticClass:"list-style-none body text-right dense font-bold"},[t._l(t.captionOptions,function(e){return n("li",{key:e.language,staticClass:"pa-1 hover-bg-grey-4 pointer relative",class:[{"selected-caption":t.isSelected(e)},t.isSelected(e)?t.themeTextClass:""],on:{click:function(n){return t.selectCaptionHandler(e)}}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}),t._v(" "),n("li",{staticClass:"pa-1 hover-bg-grey-4 pointer relative",class:t.isCaptionsEnabled?"":[t.themeTextClass,"selected-caption"],on:{click:function(e){return t.selectCaptionHandler(null)}}},[t._v("\n                        Off\n                    ")])],2)])])])])},[],!1,null,null,null).exports,bs={data(){return{eventHandlers:{loading:()=>{this.loading=!0},onstatechange:t=>{"load"===t.state&&(this.loading=!1)},error:t=>{2!==t.severity&&2!==t.detail.severity||(this.playerError=!0,this.playerErrorCode=t.code||t.detail.code)},buffering:t=>{this.loading=t.buffering}},mediaElementEventHandlers:{canplaythrough:t=>{setTimeout(()=>{this.loading=!1,this.$emit("canplaythrough",t)},500)},loadedmetadata:t=>{setTimeout(()=>{this.loading=!1,this.$emit("loadedmetadata",t)},500)},durationchange:t=>{this.totalDuration=this.mediaElement.duration,this.$emit("durationchange",t)},waiting:t=>{this.isPlaying=!1,this.loading=!0,this.$emit("waiting",t)},pause:t=>{this.isPlaying=!1,this.loading=!1,this.$emit("pause",{...t,contentId:this.contentId})},play:t=>{this.isPlaying=!0,this.loading=!1,this.hasBeenPlayed=!0,this.$emit("play",{...t,contentId:this.contentId,progressState:this.progressState})},playing:t=>{setTimeout(()=>{this.isPlaying=!0,this.loading=!1},100),this.$emit("playing",t)},timeupdate:t=>{this.totalDuration=this.mediaElement.duration,this.currentTime=this.mediaElement.currentTime,this.$emit("timeupdate",t)},error:t=>{console.error(t)},useractive:()=>{setTimeout(()=>{this.userActive=!0},200)},userinactive:()=>{this.userActive=!1,this.closeDrawers()},seeking:()=>{this.loading=!0},seeked:()=>{this.loading=!1,this.hasBeenPlayed&&this.mediaElement.play()},enterpictureinpicture:()=>{this.isExperimentalPictureInPictureEnabled=!0},leavepictureinpicture:()=>{this.isExperimentalPictureInPictureEnabled=!1}},chromeCastEventHandlers:{time:t=>{this.currentTime=t.time||0,this.$emit("cc-time",t)},playOrPause:t=>{this.isPlaying=!t,this.$emit("cc-playpause",t)},media:t=>{this.isPlaying=!0,this.isChromeCastConnected=!0,this.mediaElement.pause(),this.currentTime&&this.seek(this.currentTime),this.$emit("cc-media",t)},disconnect:t=>{this.isChromeCastConnected=!1,this.isPlaying=!0,this.currentTime&&this.seek(this.currentTime),this.$emit("cc-disconnect",t)},state:t=>{"IDLE"===t&&this.chromeCast.disconnect(),this.$emit("cc-state",t)}},keyboardEventHandlers:{Space:()=>this.playPause(),ArrowLeft:()=>this.seek(this.currentTime-10),ArrowRight:()=>this.seek(this.currentTime+10),Digit1:()=>this.seek(.1*this.totalDuration),Digit2:()=>this.seek(.2*this.totalDuration),Digit3:()=>this.seek(.3*this.totalDuration),Digit4:()=>this.seek(.4*this.totalDuration),Digit5:()=>this.seek(.5*this.totalDuration),Digit6:()=>this.seek(.6*this.totalDuration),Digit7:()=>this.seek(.7*this.totalDuration),Digit8:()=>this.seek(.8*this.totalDuration),Digit9:()=>this.seek(.9*this.totalDuration),Digit0:()=>this.seek(0),Home:()=>this.seek(0),End:()=>this.seek(this.totalDuration),KeyF:()=>this.fullscreen(),Escape:()=>this.videojsInstance.isFullscreen?this.fullscreen():()=>{},ArrowUp:()=>this.changeVolume({volume:100*this.currentVolume+5}),ArrowDown:()=>this.changeVolume({volume:100*this.currentVolume-5}),KeyM:()=>0===this.currentVolume?this.changeVolume({volume:Number(window.localStorage.getItem("playerVolume")||75)}):this.changeVolume({volume:0}),Minus:()=>this.setRate({rate:this.currentPlaybackRate-.25}),Equal:()=>this.setRate({rate:this.currentPlaybackRate+.25})}}}},ws={name:"LoadingAnimation",props:{themeColor:{type:String,default:()=>"drumeo"}},data:()=>({colorMap:{course:"#07A0FF",pack:"#07A0FF",song:"#F8004F","play-along":"#FFB500","student-focus":"#A82FFF",rudiment:"#d06835",dft:"#0DD3BF","learning-path":"#0B76DB","my-list":"#0B76DB",show:"#00C278","semester-pack":"#00BC75",drumeo:"#0B76DB",guitareo:"#00C9AC",pianote:"#F61A30",recordeo:"#FFAE00"}}),computed:{colorCode(){return this.colorMap[this.themeColor]||this.colorMap.drumeo}}},Ts=Object(Go.a)(ws,function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{id:"L7",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 100 100","xml:space":"preserve"}},[e("path",{attrs:{fill:this.colorCode,d:"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\n      c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z",transform:"rotate(98.6504 50 50)"}},[e("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"2s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}})],1),this._v(" "),e("path",{attrs:{fill:this.colorCode,d:"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\n      c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z",transform:"rotate(-197.301 50 50)"}},[e("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"-360 50 50",repeatCount:"indefinite"}})],1),this._v(" "),e("path",{attrs:{fill:this.colorCode,d:"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\n      L82,35.7z",transform:"rotate(98.6504 50 50)"}},[e("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"2s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}})],1)])},[],!1,null,null,null).exports,Ss={name:"PlayerShortcuts",methods:{close(){this.$emit("close")}}},_s=Object(Go.a)(Ss,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"player-dialog bg-grey-5 text-white corners-3 shadow pa-1"},[e("span",{staticClass:"close-shortcuts body text-grey-3 hover-text-white pointer",on:{click:this.close}},[e("i",{staticClass:"fas fa-times"})]),this._v(" "),this._m(0)])},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"dense"},[n("thead",{staticClass:"body font-bold"},[n("tr",[n("td",[t._v("\n                    Key\n                ")]),t._v(" "),n("td",[t._v("\n                    Action\n                ")])])]),t._v(" "),n("tbody",{staticClass:"tiny"},[n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Spacebar\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Play/Pause\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Up Arrow\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Volume up\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Down Arrow\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Volume down\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Left Arrow\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Rewind 10 seconds\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Right Arrow\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Forward 10 seconds\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Numbers 0-9\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Percentage of the video to seek to (1 = 10% etc..)\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Home\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Seek to the beginning\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    End\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Seek to the end\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    F\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Toggle fullscreen\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    M\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Mute\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    -\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Slow down playback rate\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    +\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    Speed up playback rate\n                ")])])])])}],!1,null,null,null).exports,Es={name:"PlayerError",props:{errorCode:{type:[Number,String],default:()=>null}}},xs=Object(Go.a)(Es,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player-error bg-error text-white corners-3 shadow pa-1 text-center"},[n("p",{staticClass:"body font-bold mb-2"},[t._v("\n        Oops! An error occurred on the player and it can't seem to recover.\n    ")]),t._v(" "),t.errorCode?n("p",{staticClass:"body dense mb-2"},[t._v("\n        Error Code: "),n("br"),t._v(" "),n("strong",[t._v(t._s(t.errorCode))])]):t._e(),t._v(" "),n("p",{staticClass:"tiny"},[t._v("\n        If the issue persists, please contact support using the chat\n        widget on the bottom right of your screen.\n    ")])])},[],!1,null,null,null).exports,Cs={name:"PlayerStats",props:{playerStats:{type:Object,default:()=>({})}},methods:{close(){this.$emit("close")},parseTime:t=>os.parseTime(t)}},ks=Object(Go.a)(Cs,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player-dialog bg-grey-5 text-white corners-3 shadow pa-1"},[n("span",{staticClass:"close-shortcuts body text-grey-3 hover-text-white pointer",on:{click:t.close}},[n("i",{staticClass:"fas fa-times"})]),t._v(" "),n("table",{staticClass:"dense"},[n("tbody",{staticClass:"tiny"},[n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Current Resolution\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    "+t._s(t.playerStats.width)+"x"+t._s(t.playerStats.height)+"\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Frames Dropped/Total\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    "+t._s(t.playerStats.droppedFrames)+" / "+t._s(t.playerStats.decodedFrames)+"\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Connection Speed\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    "+t._s(Math.floor(t.playerStats.estimatedBandwidth/1e3))+" Kbps\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Play Time\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    "+t._s(t.parseTime(t.playerStats.playTime))+"\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Pause Time\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    "+t._s(t.parseTime(t.playerStats.pauseTime))+"\n                ")])]),t._v(" "),n("tr",[n("td",{staticClass:"font-bold"},[t._v("\n                    Buffer Time\n                ")]),t._v(" "),n("td",{staticClass:"text-grey-3"},[t._v("\n                    "+t._s(t.parseTime(t.playerStats.bufferingTime))+"\n                ")])])])])])},[],!1,null,null,null).exports,As=n(5),Ps=n.n(As),Ms={push:({icon:t,title:e,message:n,themeColor:r="drumeo",timeout:i=5e3})=>new Ps.a({type:"alert",theme:"musoraNoty",text:`<div class="flex flex-column icon-column face-icon"><div class="icon-wrap square ${t}"></div>`+'</div><div class="flex flex-column ph-1">'+`<h6 class="tiny uppercase font-bold text-${r}">${e}</h6>`+`<h5 class="tiny font-compressed">${n}</h5>`+'</div><div class="flex flex-column icon-column flex-center subheading"><i class="fas fa-times"></i></div>',timeout:i,layout:"topLeft"}).show(),confirm:({title:t,subtitle:e="This cannot be undone",submitButton:n={text:'<span class="bg-success text-white">YES</span>',callback:null},cancelButton:r={text:'<span class="bg-dark inverted text-grey-3">NO</span>',callback:null}})=>(window.confirmationBox=new Ps.a({layout:"center",modal:!0,theme:"musoraNoty dialog",text:`<span class="title text-center font-bold text-black">${t}</span>`+"<br>"+`<span class="x-tiny uppercase text-grey-3">${e}</span>`,closeWith:[],buttons:[Ps.a.button(n.text,"btn mr-1",()=>{null!=n.callback&&n.callback(),window.confirmationBox.close()}),Ps.a.button(r.text,"btn",()=>{null!=r.callback&&r.callback(),window.confirmationBox.close()})]}).show(),null==window.closeConfirmation&&(window.closeConfirmation=!0,document.body.addEventListener("click",t=>{t.target.classList.contains("noty_modal")&&window.confirmationBox.close()})),window.confirmationBox)},Is={name:"CommentLikesModal",mixins:[us],props:{brand:{type:String,default:()=>"drumeo"},customId:{type:String,default:()=>null},likeUsers:{type:Array,default:()=>[]},totalLikeUsers:{default:()=>0},loadingLikeUsers:{type:Boolean,default:()=>!1},commentId:{default:()=>0},requestingLikeUsers:{type:Boolean,default:()=>!1}},computed:{baseProfileRoute(){return"guitareo"===this.brand?"/members/account/":"pianote"===this.brand?"/members/profile/":"/laravel/public/members/profile/"}},mounted(){this.$refs.likeUsersContainer.addEventListener("scroll",t=>{const e=t.target.clientHeight+t.target.scrollTop>=t.target.scrollHeight-25;this.totalLikeUsers>10&&this.likeUsers.length<this.totalLikeUsers&&e&&!this.requestingLikeUsers&&this.$emit("loadMoreLikeUsers",{id:this.commentId,totalLikeUsers:this.totalLikeUsers,load_more:!0})})},methods:{getUserAvatarClassObject:t=>({subscriber:-1!==["edge","lifetime","team"].indexOf(t.access_level),edge:"edge"===t.access_level,pack:"pack"===t.access_level,team:"team"===t.access_level,lifetime:"lifetime"===t.access_level})}},Ds=Object(Go.a)(Is,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal small",attrs:{id:t.customId||"likeUsersModal"}},[n("div",{ref:"likeUsersContainer",staticClass:"flex flex-column bg-white corners-3 shadow",staticStyle:{"max-height":"500px"},attrs:{id:"likeUsersContainer"}},[t.loadingLikeUsers?n("div",{staticClass:"flex flex-column pa-3"},[n("h1",{staticClass:"heading text-center"},[n("i",{staticClass:"fas fa-spinner fa-spin",class:t.themeTextClass})])]):n("div",{staticClass:"flex flex-column"},[n("h1",{staticClass:"heading align-v-center pa-3"},[n("i",{staticClass:"fas fa-thumbs-up rounded text-white mr-1 big likes-icon",class:t.themeBgClass}),t._v("\n                "+t._s(t.totalLikeUsers)+" Like"+t._s(1==t.totalLikeUsers?"":"s")+"\n            ")]),t._v(" "),t._l(t.likeUsers,function(e){return n("a",{key:e.id,staticClass:"flex flex-row comment-like-user bt-grey-1-1 no-decoration text-black ph-3 pv-1 align-v-center",attrs:{href:t.baseProfileRoute+e.user_id}},[n("div",{staticClass:"flex flex-row"},[n("div",{staticClass:"flex flex-column avatar-column"},[n("div",{staticClass:"user-avatar smaller",class:t.getUserAvatarClassObject(e)},[n("img",{staticClass:"rounded",attrs:{src:e.avatar_url}})])]),t._v(" "),n("div",{staticClass:"flex flex-column pl-2 align-v-center text-truncate"},[n("p",{staticClass:"body font-bold text-truncate"},[t._v("\n                            "+t._s(e.display_name)+"\n                        ")])])])])})],2)])])},[],!1,null,null,null).exports,Os=function(t){console.error(t)};let Ls;"undefined"!=typeof window&&(Ls=window.ENDPOINT_PREFIX||"");var Us={getContentById:t=>es.a.get(`${Ls}/railcontent/content/${t}`).then(t=>t).catch(Os),getContentByIds:t=>es.a.get(`${Ls}/railcontent/content/get-by-ids`,{params:{ids:t}}).then(t=>t).catch(Os),getContentLikeUsers:({id:t,page:e=1})=>es.a.get(`${Ls}/railcontent/content-like/${t}`,{params:{page:e,limit:10}}).then(t=>t).catch(Os),likeContentById:({is_liked:t,content_id:e,user_id:n})=>es()({url:`${Ls}/railcontent/content-like`,method:t?"put":"delete",data:{content_id:e,user_id:n}}),markContentAsComplete:t=>es.a.put(`${Ls}/railcontent/complete`,{content_id:t}).then(t=>t.data).catch(Os),markContentAsStarted:t=>es.a.put(`${Ls}/railcontent/start`,{content_id:t}).then(t=>t.data).catch(t=>{console.error(t)}),resetContentProgress:t=>es.a.put(`${Ls}/railcontent/reset`,{content_id:t}).then(t=>t.data).catch(Os),addOrRemoveContentFromList(t,e){const n=`${Ls}/members-area/event-json-api/remove-from-primary-playlist-list`,r=`${Ls}/members-area/event-json-api/add-to-primary-playlist-list`;return es.a.post(e?n:r,{content_id:t,type:e?"remove-from-list":"my-list-addition"}).then(t=>t).catch(Os)},markLearningPathAsStarted:t=>es.a.post(`${Ls}/members/start-learning-path/${t}`).then(t=>t).catch(Os)},Rs={name:"VideoSocialButtons",components:{"likes-modal":Ds},props:{brand:{type:String,default:()=>"drumeo"},themeColor:{type:String,default:()=>"drumeo"},isLiked:{type:Boolean,default:()=>!1},likeCount:{type:[Number,String],default:()=>0},currentTimeInSeconds:{type:Number,default:()=>0},contentId:{type:[Number,String],default:()=>null},userId:{type:[String,Number],default:()=>null}},data(){return{useTimecode:!0,lessonIsLiked:this.isLiked,lessonLikeCount:this.likeCount,likeUsers:[],likeUsersPage:0,totalLikeUsers:this.likeCount||0,loadingLikeUsers:!1,requestingLikeUsers:!1}},computed:{shareUrl(){return this.useTimecode?`${location.protocol}//${location.host}${location.pathname}?time=${Math.floor(this.currentTimeInSeconds)}`:`${location.protocol}//${location.host}${location.pathname}`}},methods:{toCapitalCase:t=>rs.toCapitalCase(t),likeLesson(){this.lessonIsLiked=!this.lessonIsLiked;this.lessonIsLiked;this.lessonIsLiked?this.lessonLikeCount++:this.lessonLikeCount--,Us.likeContentById({is_liked:this.lessonIsLiked,content_id:this.contentId,user_id:this.userId}).then(t=>t)},addLikeUsersToModal(t){this.lessonLikeCount>0&&(t.load_more||(this.loadingLikeUsers=!0,this.likeUsersPage=0),this.requestingLikeUsers=!0,this.likeUsersPage+=1,Us.getContentLikeUsers({id:this.contentId,page:this.likeUsersPage}).then(e=>{e&&(this.requestingLikeUsers=!1,this.loadingLikeUsers=!1,t.load_more?this.likeUsers=[...this.likeUsers,...e.data.data]:this.likeUsers=e.data.data)}))},copyTimecodeToClipboard(){const t=document.getElementById("shareableUrlInput");if(navigator.userAgent.match(/ipad|ipod|iphone/i)){const e=t.contentEditable,{readOnly:n}=t,r=document.createRange(),i=window.getSelection();t.contentEditable=!0,t.readOnly=!1,r.selectNodeContents(t),i.removeAllRanges(),i.addRange(r),t.setSelectionRange(0,999999),t.contentEditable=e,t.readOnly=n}else t.select();document.execCommand("copy"),t.blur(),window.closeAllModals(),Ms.push({icon:"happy",title:"SHARE THE LOVE!",message:"This URL has been copied, and is ready to share!"})}}},Ns=(n(70),{name:"VideoPlayer",components:{PlayerButton:ls,PlayerProgress:fs,PlayerVolume:ps,PlayerSettings:vs,PlayerCaptions:gs,LoadingAnimation:Ts,PlayerShortcuts:_s,PlayerError:xs,PlayerStats:ks,VideoSocialButtons:Object(Go.a)(Rs,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-row pv-2"},[t._m(0),t._v(" "),n("div",{staticClass:"flex flex-column grow"}),t._v(" "),n("div",{staticClass:"flex flex-column align-h-right flex-auto ph-2 pointer noselect"},[n("p",{staticClass:"body text-grey-3 text-right font-bold uppercase dense hover-text-white",class:t.lessonIsLiked?"text-white":"text-grey-3",on:{click:t.likeLesson}},[n("i",{staticClass:"fa-thumbs-up mr-1",class:t.lessonIsLiked?"fas":"fal"}),t._v("\n            "+t._s(t.lessonIsLiked?"Liked":"Like")+"\n        ")])]),t._v(" "),n("div",{staticClass:"flex flex-column align-h-right flex-auto pl-2 pointer noselect"},[n("div",{staticClass:"flex flex-row body font-bold text-grey-3 hover-text-white align-v-center",attrs:{"data-open-modal":t.lessonLikeCount>0?"lessonLikeUsers":""},on:{click:t.addLikeUsersToModal}},[n("i",{staticClass:"fas fa-thumbs-up mr-1 likes-icon text-white",class:"bg-"+t.themeColor}),t._v(" "+t._s(t.lessonLikeCount)+"\n        ")])]),t._v(" "),n("div",{staticClass:"modal",attrs:{id:"shareVideoModal"}},[n("div",{staticClass:"flex flex-column bg-white corners-3 shadow pa-3"},[n("h1",{staticClass:"heading mb-2"},[t._v("\n                Share Video Link\n            ")]),t._v(" "),n("div",{staticClass:"form-group mb-2"},[n("input",{staticClass:"no-label",attrs:{id:"shareableUrlInput",type:"text"},domProps:{value:t.shareUrl}}),t._v(" "),n("button",{staticClass:"btn",attrs:{id:"copyUrlButton"},on:{click:t.copyTimecodeToClipboard}},[n("span",{staticClass:"text-white bg-grey-3"},[t._v("\n                        Copy\n                    ")])])]),t._v(" "),n("div",{staticClass:"form-group mb-2"},[n("div",{staticClass:"flex flex-row form-group align-v-center"},[n("span",{staticClass:"toggle-input mr-1"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.useTimecode,expression:"useTimecode"}],attrs:{id:"includeTimecode",type:"checkbox",readonly:""},domProps:{checked:Array.isArray(t.useTimecode)?t._i(t.useTimecode,null)>-1:t.useTimecode},on:{change:function(e){var n=t.useTimecode,r=e.target,i=!!r.checked;if(Array.isArray(n)){var a=t._i(n,null);r.checked?a<0&&(t.useTimecode=n.concat([null])):a>-1&&(t.useTimecode=n.slice(0,a).concat(n.slice(a+1)))}else t.useTimecode=i}}}),t._v(" "),t._m(1)]),t._v(" "),n("label",{staticClass:"toggle-label pointer dense uppercase font-bold tiny",attrs:{for:"includeTimecode"}},[t._v("\n                        Start at Current Time\n                    ")])])]),t._v(" "),n("p",{staticClass:"tiny font-italic text-grey-3"},[t._v("\n                This link is only accessible by "+t._s(t.toCapitalCase(t.brand))+" Members.\n            ")])])]),t._v(" "),n("likes-modal",{attrs:{"custom-id":"lessonLikeUsers","theme-color":t.themeColor,"comment-id":0,"like-users":t.likeUsers,"total-like-users":t.lessonLikeCount,"loading-like-users":t.loadingLikeUsers,"requesting-like-users":t.requestingLikeUsers,brand:t.brand},on:{loadMoreLikeUsers:t.addLikeUsersToModal}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-column align-h-left text-grey-3 hover-text-white flex-auto pr-2 pointer noselect",attrs:{"data-open-modal":"shareVideoModal"}},[e("p",{staticClass:"body font-bold uppercase dense"},[e("i",{staticClass:"fas fa-share mr-1"}),this._v("\n            Share\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"toggle"},[e("span",{staticClass:"handle"})])}],!1,null,null,null).exports},mixins:[us,bs],props:{brand:{type:String,default:()=>"drumeo"},hlsManifestUrl:{type:String,default:()=>null},captions:{type:Array,default:()=>[]},poster:{type:String,default:()=>null},chapters:{type:Array,default:()=>[]},currentSecond:{type:[Number,String],default:()=>0},isLiked:{type:Boolean,default:()=>!1},likeCount:{type:[Number,String],default:()=>0},contentId:{type:[Number,String],default:()=>null},userId:{type:[Number,String],default:()=>null},videoId:{type:[Number,String],default:()=>null},progressState:{type:String,default:()=>"unstarted"},castTitle:{type:String,default:()=>""},hideBottomBars:{type:Boolean,default:()=>!1}},data:()=>({loading:!1,playerError:!1,playerErrorCode:null,isFullscreen:!1,contextMenu:!1,shakaPlayer:null,mediaElement:null,playerReady:!1,userActive:!0,userActiveTimeout:null,isPlaying:!1,currentTime:0,totalDuration:0,mousedown:!1,currentMouseX:0,currentVolume:1,settingsDrawer:!1,captionsDrawer:!1,currentCaptions:null,chromeCast:null,isChromeCastSupported:!1,isChromeCastConnected:!1,isAirplaySupported:!1,isAirplayConnected:!1,performanceNow:0,currentMousePosition:{x:0,y:0},contextMenuPosition:null,isPipEnabled:!1,isExperimentalPictureInPictureEnabled:!1,isKeyboardControlsEnabled:!1,hasBeenPlayed:!1,dialogs:{stats:!1,keyboardShortcuts:!1}}),computed:{playerWidth:{cache:!1,get(){return this.$refs.player?this.$refs.player.clientWidth:0}},isAbrEnabled:{cache:!1,get(){if(null==this.shakaPlayer)return!1;const{abr:t}=this.shakaPlayer.getConfiguration();return!!t&&t.enabled}},playbackQualities:{cache:!1,get(){if(null==this.shakaPlayer)return[];const t=this.shakaPlayer.getVariantTracks().map(t=>({...t,label:os.getQualityLabelByHeight(t.height)}));return rs.dynamicSort(t,"height")}},currentProgress(){const t=this.currentTime/this.totalDuration*100;return isNaN(t)?0:t},currentSource:{cache:!1,get(){return this.mediaElement?this.mediaElement.currentSrc:""}},currentPlaybackRate:{cache:!1,get(){return this.mediaElement?this.mediaElement.playbackRate:1}},captionOptions:{cache:!1,get(){return this.shakaPlayer?this.shakaPlayer.getTextTracks().filter(t=>"subtitle"===t.kind):[]}},bufferedTimeRanges:{cache:!1,get(){if(null!=this.shakaPlayer){return"function"==typeof MediaSource?this.shakaPlayer.getBufferedInfo().total:this.mediaElement?os.parseTimeRangesAsArray(this.mediaElement.buffered):[]}return[]}},canPlayPause(){return!this.isPlaying||this.userActive},isCaptionsEnabled(){return!!this.shakaPlayer&&this.shakaPlayer.isTextTrackVisible()},playerStats:{get(){return null!=this.shakaPlayer?this.shakaPlayer.getStats():null}},isMobile:()=>os.isMobile().any,isMobileViewport:{cache:!1,get:()=>!1===window.matchMedia("(min-width: 641px)").matches},isSafari:()=>os.isSafari(),isMobileDrawerOpen(){return(this.settingsDrawer||this.captionsDrawer)&&this.drawersShouldOpenFromBottom},drawersShouldOpenFromBottom:{cache:!1,get(){return this.isMobileViewport||this.isPipEnabled}}},mounted(){const{player:t}=this.$refs,e="function"==typeof MediaSource;null==window.muxjs&&e&&(window.muxjs=Qo),Zo.a.polyfill.installAll(),Zo.a.Player.isBrowserSupported()&&!os.isIE()?(this.shakaPlayer=new Zo.a.Player,Object.keys(this.eventHandlers).forEach(t=>{this.shakaPlayer.addEventListener(t,this.eventHandlers[t])}),this.shakaPlayer.attach(t).then(()=>(this.mediaElement=this.shakaPlayer.getMediaElement(),this.shakaPlayer.configure({abr:{restrictions:{maxHeight:window.screen.height}},streaming:{bufferingGoal:45,rebufferingGoal:15,bufferBehind:0}}),this.loadSource())).then(()=>{const t=new URLSearchParams(window.location.search).get("time")||this.currentSecond;t!==this.currentTime&&this.seek(t),this.attachMediaElementEventHandlers(),this.getDefaultVolume(),document.addEventListener("fullscreenchange",()=>{this.isFullscreen=null!=document.fullscreenElement}),this.enableKeyboardControls(),setTimeout(()=>{this.mediaElement.focus()},100)}).catch(t=>{2===t.severity&&(this.playerError=!0,this.playerErrorCode=t.code)})):(this.playerError=!0,this.playerErrorCode="Browser Not Supported"),document.addEventListener("click",this.closeDrawers),["touchend","mouseup"].forEach(t=>{document.addEventListener(t,this.mouseUpEventHandler)}),document.addEventListener("click",t=>{const e=t.target;e.matches("[data-jump-to-time]")&&(this.seek(e.dataset.jumpToTime),window.scrollTo({top:0,behavior:"smooth"}))}),this.chromeCast=new ss,this.chromeCast.on("available",()=>{this.isChromeCastSupported=!0,Object.keys(this.chromeCastEventHandlers).forEach(t=>{this.chromeCast.on(t,this.chromeCastEventHandlers[t])}),window.addEventListener("unload",()=>{this.chromeCast.disconnect()})}),window.WebKitPlaybackTargetAvailabilityEvent&&t.addEventListener("webkitplaybacktargetavailabilitychanged",t=>{"available"===t.availability&&(this.isAirplaySupported=!0)}),t.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",()=>{this.isAirplayConnected=!this.isAirplayConnected})},beforeDestroy(){document.removeEventListener("click",this.closeDrawers),document.removeEventListener("mouseup",this.mouseUpEventHandler),this.shakaPlayer.destroy()},methods:{loadSource(){const t="function"==typeof MediaSource;return new Promise(e=>{t?this.shakaPlayer.load(this.hlsManifestUrl).then(()=>{e()}).catch(t=>{2===t.severity&&(this.playerError=!0,this.playerErrorCode=t.code)}):(this.mediaElement.src=this.hlsManifestUrl,setTimeout(()=>{e()},100))})},attachMediaElementEventHandlers(){Object.keys(this.mediaElementEventHandlers).forEach(t=>{this.mediaElement.addEventListener(t,this.mediaElementEventHandlers[t])})},getDefaultVolume(){null!=window.localStorage.getItem("playerVolume")&&this.changeVolume({volume:Number(window.localStorage.getItem("playerVolume"))})},playPause(){this.chromeCast&&this.chromeCast.Connected?this.chromeCast.playOrPause():this.isPlaying?this.mediaElement.pause():this.mediaElement.play()},playPauseViaControlWrap(){if(this.settingsDrawer||this.captionsDrawer||!this.canPlayPause)return this.settingsDrawer=!1,void(this.captionsDrawer=!1);this.playPause()},seek(t){this.mediaElement.pause();const e=Number(t)>0?Math.round(Number(t)):0;this.currentTime=e,this.mediaElement.currentTime=e},fullscreen(){const{container:t}=this.$refs;as.a.enabled?as.a.toggle(t):this.mediaElement.webkitEnterFullScreen()},changeVolume(t){this.mediaElement.volume=t.volume/100,this.currentVolume=this.mediaElement.volume,localStorage.setItem("playerVolume",t.volume),this.isChromeCastConnected&&this.chromeCast.volume(t.volume)},parseTime:t=>os.parseTime(t),trackMousePosition(t){this.currentMousePosition=os.getMousePosition(t,this.$refs.container),this.mediaElement&&(rs.triggerEvent(this.mediaElement,"useractive"),clearTimeout(this.userActiveTimeout),this.userActiveTimeout=setTimeout(()=>{rs.triggerEvent(this.mediaElement,"userinactive")},3e3))},setQuality(t){const{currentTime:e}=this.mediaElement;"auto"===t?this.shakaPlayer.configure("abr.enabled",!0):(this.shakaPlayer.configure("abr.enabled",!1),this.shakaPlayer.selectVariantTrack(t,!0)),setTimeout(()=>{this.seek(e)},200)},setRate(t){t.rate>.25&&t.rate<=2&&(this.mediaElement.playbackRate=t.rate)},setDefaultPlaybackQualityWidth(t){window.localStorage.setItem("vuesoraDefaultVideoQuality",t)},getDefaultPlaybackQualityIndex(){const t=window.localStorage.getItem("vuesoraDefaultVideoQuality")||document.documentElement.clientWidth;return this.playbackQualities.map((e,n)=>{if(e.width>=t)return n}).filter(t=>null!=t)[0]||0},toggleSettingsDrawer(){if(this.isChromeCastConnected)return!1;this.captionsDrawer=!1,this.settingsDrawer=!this.settingsDrawer,this.drawersShouldOpenFromBottom&&this.settingsDrawer&&document.body.classList.add("drawer-open"),this.drawersShouldOpenFromBottom&&!this.settingsDrawer&&document.body.classList.remove("drawer-open")},toggleCaptionsDrawer(){this.captionsDrawer=!this.captionsDrawer,this.settingsDrawer=!1,this.drawersShouldOpenFromBottom&&this.captionsDrawer&&document.body.classList.add("drawer-open"),this.drawersShouldOpenFromBottom&&!this.captionsDrawer&&document.body.classList.remove("drawer-open")},closeDrawers(){this.settingsDrawer=!1,this.captionsDrawer=!1,this.contextMenu=!1,document.body.classList.remove("drawer-open")},enableCaptions(t){this.shakaPlayer.setTextTrackVisibility(null!=t),null!=t&&(this.isChromeCastConnected?this.chromeCast.changeSubtitle(t?0:null):this.shakaPlayer.selectTextTrack(t))},enableChromeCast(){this.chromeCast.cast({content:this.hlsManifestUrl,poster:this.poster,title:this.castTitle,subtitles:this.captions.map(t=>({active:!1,srclang:t.language,src:t.url})),time:this.currentTime,volume:this.currentVolume,muted:!1,paused:!1})},enableAirplay(){this.$refs.player.webkitShowPlaybackTargetPicker()},keyboardControlEventHandler(t){this.keyboardEventHandlers[t.code]&&(t.stopPropagation(),t.preventDefault(),this.keyboardEventHandlers[t.code]())},triggerMouseDown(t){2!==t.button&&(this.mousedown=!0)},toggleContextMenu(){this.contextMenu=!0,setTimeout(()=>{this.getContextMenuPosition()},1)},getContextMenuPosition(){const t=this.$refs.player?this.$refs.player.clientWidth:0,e=this.$refs.player?this.$refs.player.clientHeight:0,n=this.$refs.contextMenu?this.$refs.contextMenu.clientWidth:0,r=this.$refs.contextMenu?this.$refs.contextMenu.clientHeight:0;let{x:i}=this.currentMousePosition,{y:a}=this.currentMousePosition;i>t-n&&(i=this.currentMousePosition.x-n),a>e-r&&(a=this.currentMousePosition.y-r),this.contextMenuPosition={transform:`translate(${i}px, ${a}px)`,"webkit-transform":`translate(${i}px, ${a}px)`}},mouseUpEventHandler(t){if(2!==t.button){if(this.mousedown){const t=this.totalDuration*os.getTimeRailMouseEventOffsetPercentage(this.currentMousePosition.x,this.playerWidth);this.seek(t)}this.contextMenu=!1,this.mousedown=!1}},openDialog(t){const e=!0===this.dialogs[t];this.closeAllDialogs(),e||(this.dialogs[t]=!0)},togglePip(){if(document.pictureInPictureEnabled)this.toggleExperimentalPip();else{const{videoWrap:t}=this.$refs;this.isPipEnabled=!this.isPipEnabled,t.style.display="none",setTimeout(()=>{t.style.display=""},50)}},toggleExperimentalPip(){return new Promise((t,e)=>{this.isExperimentalPictureInPictureEnabled?document.exitPictureInPicture().then(()=>{t()}).catch(t=>{e(t)}):this.mediaElement.requestPictureInPicture().then(()=>{t()}).catch(t=>{e(t)})})},enableKeyboardControls(){document.addEventListener("keydown",this.keyboardControlEventHandler),this.isKeyboardControlsEnabled=!0,document.addEventListener("focusin",t=>{t.path.filter(t=>{if(void 0!==t.matches&&t.matches("#lessonVideoWrap"))return t}).length>0||(document.removeEventListener("keydown",this.keyboardControlEventHandler),this.isKeyboardControlsEnabled=!1)}),document.addEventListener("focusout",()=>{this.isKeyboardControlsEnabled||(document.addEventListener("keydown",this.keyboardControlEventHandler),this.isKeyboardControlsEnabled=!0)})},closeAllDialogs(){Object.keys(this.dialogs).forEach(t=>{this.dialogs[t]=!1})},stopTesting(){es.a.post("/laravel/public/video-player-beta/opt-out").then(()=>{document.cookie="enableHlsPlayer=;path=/;expires=0;",window.location.reload()})}}}),js=Object(Go.a)(Ns,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"videoWrap",staticClass:"video-wrap",class:{"picture-in-picture":t.isPipEnabled}},[n("div",{staticClass:"widescreen bg-black"},[n("div",{ref:"container",staticClass:"flex flex-column video-player",class:{"user-active":t.userActive||!t.isPlaying},on:{contextmenu:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleContextMenu(e)},mousemove:t.trackMousePosition,touchmove:t.trackMousePosition}},[n("transition",{attrs:{name:"grow-fade"}},[t.playerStats?n("PlayerStats",{directives:[{name:"show",rawName:"v-show",value:t.dialogs.stats,expression:"dialogs.stats"}],attrs:{"player-stats":t.playerStats},on:{close:t.closeAllDialogs}}):t._e()],1),t._v(" "),n("transition",{attrs:{name:"grow-fade"}},[n("PlayerShortcuts",{directives:[{name:"show",rawName:"v-show",value:t.dialogs.keyboardShortcuts,expression:"dialogs.keyboardShortcuts"}],on:{close:t.closeAllDialogs}})],1),t._v(" "),n("transition",{attrs:{name:"grow-fade"}},[t.playerError?n("PlayerError",{attrs:{"error-code":t.playerErrorCode}}):t._e()],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.contextMenu,expression:"contextMenu"}],ref:"contextMenu",staticClass:"context-menu bg-grey-5 pointer text-white shadow overflow",style:t.contextMenuPosition,on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[n("ul",{staticClass:"list-style-none tiny dense font-bold"},[t.isMobile?t._e():n("li",{staticClass:"pa-1 hover-bg-grey-4",on:{click:function(e){return t.openDialog("keyboardShortcuts")}}},[t._v("\n                            "+t._s(t.dialogs.keyboardShortcuts?"Hide":"Show")+" Keyboard Shortcuts\n                        ")]),t._v(" "),n("li",{staticClass:"pa-1 hover-bg-grey-4",on:{click:function(e){return t.openDialog("stats")}}},[t._v("\n                            "+t._s(t.dialogs.stats?"Hide":"Show")+" Player Stats\n                        ")]),t._v(" "),t.isMobile?t._e():n("li",{staticClass:"pa-1 hover-bg-grey-4",on:{click:t.togglePip}},[t._v("\n                            "+t._s(t.isPipEnabled||t.isExperimentalPictureInPictureEnabled?"Disable":"Enable")+" Picture in Picture\n                        ")])])]),t._v(" "),n("transition",{attrs:{name:"grow-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isPipEnabled,expression:"isPipEnabled"}],staticClass:"close-pip",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[n("PlayerButton",{attrs:{"theme-color":t.themeColor,title:"Disable PIP"},nativeOn:{click:function(e){e.stopPropagation(),t.isPipEnabled=!1}}},[n("i",{staticClass:"fas fa-times"})])],1)]),t._v(" "),n("transition",{attrs:{name:"grow-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading&&!t.isPlaying,expression:"loading && !isPlaying"}],staticClass:"player-overlay",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[n("LoadingAnimation",{attrs:{"theme-color":t.themeColor}})],1)]),t._v(" "),n("transition",{attrs:{name:"grow-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isChromeCastConnected,expression:"isChromeCastConnected"}],staticClass:"cast-dialog flex flex-center pa-3 text-center text-white"},[n("span",{staticStyle:{"font-size":"72px"}},[n("i",{staticClass:"fab fa-chromecast"})]),t._v(" "),n("h1",{staticClass:"subheading"},[t._v("\n                            Video is playing on another device\n                        ")])])]),t._v(" "),n("video",{ref:"player",attrs:{playsinline:"",preload:"auto",crossorigin:"anonymous",poster:t.poster}}),t._v(" "),n("div",{ref:"controls",staticClass:"controls-wrap",on:{click:function(e){return e.stopPropagation(),t.playPauseViaControlWrap(e)}}},[n("transition",{attrs:{name:"grow-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.isPlaying,expression:"!loading && !isPlaying"}],staticClass:"player-overlay big-play-button pointer",on:{click:function(e){return e.stopPropagation(),t.playPauseViaControlWrap(e)}}},[n("div",{staticClass:"overlay-play rounded ba-white-3 flex-center shadows"},[n("i",{staticClass:"fas fa-play"})])])]),t._v(" "),n("div",{staticClass:"top-controls"},[n("div",{staticClass:"flex flex-row align-h-right"},[n("transition",{attrs:{name:"grow-fade"}},[t.isChromeCastSupported?n("PlayerButton",{attrs:{"theme-color":t.themeColor,title:"Chromecast",active:t.chromeCast&&t.chromeCast.Connected},nativeOn:{click:function(e){return e.stopPropagation(),t.enableChromeCast(e)}}},[n("i",{staticClass:"fab fa-chromecast"})]):t._e()],1),t._v(" "),n("transition",{attrs:{name:"grow-fade"}},[t.isAirplaySupported?n("PlayerButton",{attrs:{"theme-color":t.themeColor,title:"Apple Airplay",active:t.isAirplayConnected},nativeOn:{click:function(e){return e.stopPropagation(),t.enableAirplay(e)}}},[n("i",{staticClass:"icon-airplay"})]):t._e()],1)],1)]),t._v(" "),n("div",{staticClass:"player-controls flex flex-column noselect"},[n("div",{staticClass:"flex flex-row",nativeOn:{click:function(e){return e.stopPropagation(),t.playPauseViaControlWrap(e)}}},[n("PlayerButton",{attrs:{"theme-color":t.themeColor,title:"Rewind 10 Seconds (Left Arrow)","data-cy":"rewind-button"},nativeOn:{click:function(e){return e.stopPropagation(),t.seek(t.currentTime-10)}}},[n("i",{staticClass:"fas fa-undo"})]),t._v(" "),n("div",{staticClass:"flex flex-column spacer"}),t._v(" "),n("PlayerButton",{attrs:{"theme-color":t.themeColor,title:"Forward 10 Seconds (Right Arrow)","data-cy":"fast-forward-button"},nativeOn:{click:function(e){return e.stopPropagation(),t.seek(t.currentTime+10)}}},[n("i",{staticClass:"fas fa-redo"})])],1),t._v(" "),n("div",{staticClass:"flex flex-row"},[n("PlayerProgress",{attrs:{"theme-color":t.themeColor,"current-progress":t.currentProgress,"current-time":t.currentTime,"player-width":t.playerWidth,"current-mouse-x":t.currentMousePosition.x,"total-duration":t.totalDuration,"buffered-time-ranges":t.bufferedTimeRanges,chapters:t.chapters,mousedown:t.mousedown,"data-cy":"progress-rail"},nativeOn:{mousedown:function(e){return e.stopPropagation(),t.triggerMouseDown(e)},touchstart:function(e){return e.stopPropagation(),t.triggerMouseDown(e)}}})],1),t._v(" "),n("div",{staticClass:"flex flex-row",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[n("PlayerButton",{attrs:{"theme-color":t.themeColor,title:t.isPlaying?"Pause (Spacebar)":"Play (Spacebar)","data-cy":"play-pause-button"},nativeOn:{click:function(e){return e.stopPropagation(),t.playPause(e)}}},[n("i",{staticClass:"fas",class:t.isPlaying?"fa-pause":"fa-play"})]),t._v(" "),n("div",{staticClass:"flex flex-column text-white body align-v-center noselect flex-auto"},[t._v("\n                                "+t._s(t.parseTime(t.currentTime))+" / "+t._s(t.parseTime(t.totalDuration))+"\n                            ")]),t._v(" "),n("div",{staticClass:"flex flex-column spacer"}),t._v(" "),t.isMobile?t._e():n("PlayerVolume",{attrs:{"theme-color":t.themeColor,"current-volume":t.currentVolume},on:{volumeChange:t.changeVolume}}),t._v(" "),t.captions.length>0?n("PlayerButton",{attrs:{"theme-color":t.themeColor,active:t.isCaptionsEnabled},nativeOn:{click:function(e){return e.stopPropagation(),t.toggleCaptionsDrawer(e)}}},[n("i",{staticClass:"fas fa-closed-captioning"})]):t._e(),t._v(" "),n("PlayerButton",{attrs:{"theme-color":t.themeColor,title:"Settings",disabled:t.isChromeCastConnected},nativeOn:{click:function(e){return e.stopPropagation(),t.toggleSettingsDrawer(e)}}},[n("i",{staticClass:"fas fa-cog"})]),t._v(" "),n("PlayerButton",{attrs:{"theme-color":t.themeColor,title:"Fullscreen (F)",disabled:t.isChromeCastConnected},nativeOn:{click:function(e){return e.stopPropagation(),t.fullscreen(e)}}},[n("i",{staticClass:"fas",class:t.isFullscreen?"fa-compress":"fa-expand"})])],1)])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isMobileDrawerOpen,expression:"isMobileDrawerOpen"}],staticClass:"settings-mobile-overlay",on:{click:function(e){t.settingsDrawer=!1}}}),t._v(" "),n("transition",{attrs:{name:t.drawersShouldOpenFromBottom?"show-from-bottom":"grow-fade"}},[n("PlayerSettings",{directives:[{name:"show",rawName:"v-show",value:t.settingsDrawer,expression:"settingsDrawer"}],attrs:{drawer:t.settingsDrawer,"theme-color":t.themeColor,"current-source":t.currentSource,"current-playback-rate":t.currentPlaybackRate,"playback-qualities":t.playbackQualities,"is-abr-enabled":t.isAbrEnabled},on:{setQuality:t.setQuality,setRate:t.setRate}})],1),t._v(" "),n("transition",{attrs:{name:t.drawersShouldOpenFromBottom?"show-from-bottom":"grow-fade"}},[n("PlayerCaptions",{directives:[{name:"show",rawName:"v-show",value:t.captionsDrawer,expression:"captionsDrawer"}],attrs:{"theme-color":t.themeColor,"is-captions-enabled":t.isCaptionsEnabled,"caption-options":t.captionOptions,"current-captions":t.currentCaptions},on:{captionsSelected:t.enableCaptions}})],1)],1)])]),t._v(" "),t.isPipEnabled?n("div",{staticClass:"widescreen bg-black"}):t._e(),t._v(" "),t.hideBottomBars?t._e():n("div",{staticClass:"flex flex-row bg-black text-white pa-1 align-center flex-wrap"},[n("p",{staticClass:"tiny"},[t._v("\n            You are currently viewing our new video player beta!\n        ")]),t._v(" "),n("button",{staticClass:"btn collapse-150",on:{click:t.stopTesting}},[n("span",{staticClass:"flat short",class:t.themeTextClass},[t._v("\n                Stop Testing\n            ")])])]),t._v(" "),t.hideBottomBars?t._e():n("VideoSocialButtons",{attrs:{"theme-color":t.themeColor,"is-liked":t.isLiked,"like-count":t.likeCount,"content-id":t.contentId,"user-id":t.userId,brand:t.brand,"current-time-in-seconds":t.currentTime}})],1)},[],!1,null,null,null).exports,Bs={install(t,e){t.component(js.name,js)}};n(71),n(72);ji.component("Badge",()=>Promise.all([n.e(0),n.e(3)]).then(n.bind(null,112)));n(73);var $s=[({Vue:t,options:e,router:n,siteData:r})=>{t.use(Bs)},{},({Vue:t})=>{t.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{}],Fs=[];class Vs{constructor(){this.store=new ji({data:{state:{}}})}$get(t){return this.store.state[t]}$set(t,e){ji.set(this.store.state,t,e)}$emit(...t){this.store.$emit(...t)}$on(...t){this.store.$on(...t)}}class Hs extends Vs{}Object.assign(Hs.prototype,{getPageAsyncComponent:Oo,getLayoutAsyncComponent:Lo,getAsyncComponent:Uo,getVueComponent:Ro});var qs={install(t){const e=new Hs;t.$vuepress=e,t.prototype.$vuepress=e}};function zs(t,e){return t.options.routes.filter(t=>t.path.toLowerCase()===e.toLowerCase()).length>0}var Ks={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(t){const e=this.pageKey||this.$parent.$page.key;return jo("pageKey",e),ji.component(e)||ji.component(e,Oo(e)),t(e||"")}},Gs={functional:!0,props:{slotKey:String,required:!0},render:(t,{props:e,slots:n})=>t("div",{class:[`content__${e.slotKey}`]},n()[e.slotKey])},Ws=(n(74),Object(Go.a)({},function(t,e){var n=e._c;return n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),e._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})])},[],!0,null,null,null).exports),Xs={functional:!0,render(t,{parent:e,children:n}){if(e._isMounted)return n;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};ji.config.productionTip=!1,ji.use(go),ji.use(qs),ji.mixin(function(t,e,n=ji){!function(t){t.locales&&Object.keys(t.locales).forEach(e=>{t.locales[e].path=e}),Object.freeze(t)}(e),n.$vuepress.$set("siteData",e);const r=new(t(n.$vuepress.$get("siteData"))),i=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(r)),a={};return Object.keys(i).reduce((t,e)=>(e.startsWith("$")&&(t[e]=i[e].get),t),a),{computed:a}}(t=>(class{setPage(t){this.__page=t}get $site(){return t}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:t={}}=this.$site;let e,n;for(const r in t)"/"===r?n=t[r]:0===this.$page.path.indexOf(r)&&(e=t[r]);return e||n||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $title(){const t=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const n=this.$siteTitle,r=t.frontmatter.home?null:t.frontmatter.title||t.title;return n?r?r+" | "+n:n:r||"VuePress"}get $description(){const t=function(t){if(t){const e=t.filter(t=>"description"===t.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return t||this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||""}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}}),Yo)),ji.component("Content",Ks),ji.component("ContentSlotsDistributor",Gs),ji.component("OutboundLink",Ws),ji.component("ClientOnly",Xs),ji.component("Layout",Lo("Layout")),ji.component("NotFound",Lo("NotFound")),ji.prototype.$withBase=function(t){const e=this.$site.base;return"/"===t.charAt(0)?e+t.slice(1):t};const{app:Ys,router:Qs}=function(t){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:Yo.routerBase||Yo.base,n=new go({base:e,mode:"history",fallback:!1,routes:Xo,scrollBehavior:(t,e,n)=>n||(t.hash?!ji.$vuepress.$get("disableScrollBehavior")&&{selector:t.hash}:{x:0,y:0})});!function(t){t.beforeEach((e,n,r)=>{if(zs(t,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const n=e.path.replace(/\/$/,"")+".html";zs(t,n)?r(n):r()}else r();else{const n=e.path+"/",i=e.path+".html";zs(t,i)?r(i):zs(t,n)?r(n):r()}})}(n);const r={};try{$s.forEach(e=>{"function"==typeof e&&e({Vue:ji,options:r,router:n,siteData:Yo,isServer:t})})}catch(t){console.error(t)}return{app:new ji(Object.assign(r,{router:n,render:t=>t("div",{attrs:{id:"app"}},[t("router-view",{ref:"layout"}),t("div",{class:"global-ui"},Fs.map(e=>t(e)))])})),router:n}}(!1);window.__VUEPRESS__={version:"1.0.1",hash:"939f704"},Qs.onReady(()=>{Ys.$mount("#app")})}]);